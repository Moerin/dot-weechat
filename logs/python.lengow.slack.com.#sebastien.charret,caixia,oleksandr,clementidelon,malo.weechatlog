2016-04-27 09:47:08	clementidelon	par contre dans le path_by_name.json  c'est bien les '/' :smile:
2016-04-27 09:47:14	malo	Oui
2016-04-27 09:47:18	⤷	On a pas le choix ici
2016-04-27 09:47:19	clementidelon	Pas pénible le gars :smile:
2016-04-27 09:47:28	malo	Il y a des noms avec déjà des '_' dedans
2016-04-27 09:47:31	clementidelon	cool
2016-04-27 09:47:43	malo	Les '/' c'est que qu'on a dit au tableau :stuck_out_tongue:
2016-04-27 09:48:13	clementidelon	c'est dans le final_dict qu'on a pas Home_Home en clé
2016-04-27 09:48:18	sebastien.charret	ok donc on garder le path avec des '/'
2016-04-27 09:48:31	malo	Les path changent pas @sebastien.charret
2016-04-27 09:48:31	clementidelon	@malo: peut-être que j'ai pas vérifié au bon endroit
2016-04-27 09:48:38	sebastien.charret	mais on cree un hierarchy avec '_'
2016-04-27 09:48:57	malo	@clementidelon:  Si si tu a bien raison, les channels codes sont bien avec des '/', mais je viens de changer normalement :smiley:
2016-04-27 09:49:01	sebastien.charret	hierarchy == relation categories
2016-04-27 09:49:43	⤷	ok donc cela va impacter les fixtures
2016-04-27 09:50:33	⤷	est ce que cela va aussi faire un changement au niveau du champ Category?
2016-04-27 09:50:38	⤷	!channel
2016-04-27 09:50:43	malo	Ok donc mon final_dict (dictionnaire pour le manager) retourne bien les univers et si ils ont des sous categories, concatène le nom de l'univers plus le noms de la sous catégories avec un '_' entre les deux.
2016-04-27 09:50:54	⤷	Le champ 'Category' est en dur, aucun changement
2016-04-27 09:51:00	sebastien.charret	Okay
2016-04-27 09:51:23	malo	Il est dans les attributs commun lui @sebastien.charret  :smiley:
2016-04-27 09:51:53	clementidelon	Mais sa valeur de matching sera impactée (edited)
2016-04-27 09:52:05	malo	Donc @clementidelon  @caixia , pour 'Home' j'ai 'Home_Home'
2016-04-27 09:52:11	⤷	C'est ce qu'il faut ?
2016-04-27 09:52:23	clementidelon	Oui c'est ça
2016-04-27 09:52:28	caixia	oui :simple_smile:
2016-04-27 09:52:33	malo	Okay
2016-04-27 09:53:18	clementidelon	il y a tools aussi ou ça doit être concaténé pour la sous-catégorie de HomeImprovement
2016-04-27 09:53:27	⤷	just to check
2016-04-27 09:53:32	malo	HomeImprovement_Tools
2016-04-27 09:53:35	⤷	Je l'ai
2016-04-27 09:53:37	caixia	juste pour l'info, les thesaurus lines qui ont les noms  comme "Home_Home" sont déjà crées dans la table thesaurus_line
2016-04-27 09:54:04	⤷	oui, on a bien ça *HomeImprovement_Tools*
2016-04-27 09:55:08	malo	C'est normal que ça ne s'affiche pas sur le front ?
2016-04-27 09:56:28	caixia	c'est pour amazon_fr
2016-04-27 09:56:47	clementidelon	@malo:  par contre pour les autres on a juste la sous catégorie, genre "MajorHomeAppliances"
2016-04-27 09:57:37	malo	Non, je fais pas d'exceptions. Toutes les sous-catégories sont concaténé
2016-04-27 09:57:58	clementidelon	C'est bien ce qu'il me semblait, c'est pour ça que j'insistais :smile:
2016-04-27 09:58:10	malo	C'est un problème ?
2016-04-27 09:58:18	⤷	:3
2016-04-27 09:58:37	clementidelon	Vois avec Caixia la règle pour discriminer les noms, il faut que le sync_attributes applique la meme
2016-04-27 09:59:07	⤷	sinon les attributs ne correspondront pas aux catégories du thésaurus (edited)
2016-04-27 09:59:34	caixia	pour les noms qui sont déjà uniques, je ne fait pas la concatenation
2016-04-27 09:59:49	malo	bah @caixia , comme il y a que deux niveau de catégories, j'ai simplement tout concaténé
2016-04-27 09:59:56	⤷	Ok
2016-04-27 10:00:20	⤷	ça fait encore de la logique pour mon algo :stuck_out_tongue:
2016-04-27 10:01:31	caixia	je ne sais pas, si c'est compliqué de le modifier pour ton algo, de mon côté, c'est pas très compliqué, je peut le modifier aussi
2016-04-27 10:01:42	malo	Non attend
2016-04-27 10:01:46	⤷	Je pense que c'est bon :smiley:
2016-04-27 10:01:58	caixia	ok, cool :simple_smile:
2016-04-27 10:02:42	malo	Ok impec
2016-04-27 10:02:55	⤷	Donc au niveau des concaténation j'ai juste HomeImprovment_Tools
2016-04-27 10:02:58	⤷	Et Home_Home
2016-04-27 10:03:06	⤷	Sinon j'ai pris que le noms des sous catégorie
2016-04-27 10:03:22	caixia	oui, c'est ça je pense
2016-04-27 10:13:30	⤷	caixia uploaded a file: https://lengow.slack.com/files/caixia/F143KCPAA/capture_du_2016-04-27_10_12_32.png (on a bien HomeImprovement_Tools dans le front)
2016-04-27 10:13:39	⤷	:simple_smile:
2016-04-27 10:13:47	malo	Du coup c'est bon ? :smiley:
2016-04-27 10:14:01	caixia	oui, c'est bon pour les catégories
2016-04-27 10:14:40	malo	Cool ! Dites moi si il y a un soucis autre part
2016-04-27 10:14:59	⤷	Ou si vous avez besoin d'aide sur un truc ^^"
2016-04-27 10:19:12	clementidelon	:simple_smile:
2016-04-27 10:19:14	⤷	### PATH HomeImprovement/BatteryAverageLife NOT FOUND IN DICT!!
2016-04-27 10:19:14		### PATH HomeImprovement/BatteryAverageLifeStandby NOT FOUND IN DICT!!
2016-04-27 10:19:14		### PATH HomeImprovement/BatteryChargeTime NOT FOUND IN DICT!!
2016-04-27 10:19:14		### PATH HomeImprovement/BatteryTypeLithiumIon NOT FOUND IN DICT!!
2016-04-27 10:19:14		### PATH HomeImprovement/BatteryTypeLithiumMetal NOT FOUND IN DICT!!
2016-04-27 10:19:14		### PATH HomeImprovement/CountryOfOrigin NOT FOUND IN DICT!!
2016-04-27 10:19:14		### PATH HomeImprovement/ItemDisplayArea NOT FOUND IN DICT!!
2016-04-27 10:19:14		### PATH HomeImprovement/LithiumBatteryEnergyContent NOT FOUND IN DICT!!
2016-04-27 10:19:24	⤷	plom plom plom
2016-04-27 10:19:50	malo	?
2016-04-27 10:21:30	⤷	@clementidelon: du cherche ça ou ?
2016-04-27 10:24:37	clementidelon	dans le path_to_name
2016-04-27 10:25:13	⤷	j'ai peut-être fait une erreur
2016-04-27 10:25:53	⤷	mais il me semble qu'on devrait avoir un attribut dans la structure 
2016-04-27 10:25:53		vu qu'on a `<xsd:element name="BatteryTypeLithiumIon" type="xsd:positiveInteger" minOccurs="0"/>` dans le xsd (edited)
2016-04-27 10:29:22	malo	Dans mon path_by_name
2016-04-27 10:29:43	⤷	Pour le nom BatteryTypeLithiumIon le path est : HomeImprovement/HICommon/BatteryTypeLithiumIon
2016-04-27 10:29:59	⤷	Et pour BatteryTypeLithiumIon_1 j'ai HomeImprovement/BatteryTypeLithiumIon
2016-04-27 10:30:08	sebastien.charret	!channel dans la structure le champs 'Relation_Type' n'a pas de valeur (liste vide)
2016-04-27 10:31:05	malo	@sebastien.charret: effectivement, je regarde si ça viens de moi (surement ^^")
2016-04-27 10:35:35	clementidelon	@malo: J'ai peut-être pas la dernière version de path_to _name
2016-04-27 10:36:27	malo	Surement, si tu veux la dernière version il suffit de faire un 'ipython sp_amazon/parserXSD.py'
2016-04-27 10:36:36	⤷	ça met à jour le fichier path_by_name
2016-04-27 10:36:44	⤷	Mais j'ai pas commit
2016-04-27 10:36:49	⤷	Je vais commit plutôt xD
2016-04-27 10:37:31	⤷	Et @sebastien.charret , en faite dans HomeImprovment il ne devrai même pas y avoir de Relation_Type comme il à un VariationData
2016-04-27 10:38:56	clementidelon	Oui HomeImprovement *n'a pas* de VariationData, donc Relation_Type n'est pas nécessaire (edited)
2016-04-27 10:41:40	malo	HomeImprovement fait reference à BuildingMaterials qui lui à un VariationData. @clementidelon je t'avais demandé si c'était uniquement dans les enfant direct que je devais vérifier et tu m'a dis que non :3
2016-04-27 10:42:00	clementidelon	rhooo
2016-04-27 10:42:02	malo	Mais de toute façon j'ai du mal comprendre
2016-04-27 10:42:43	⤷	Car j'ai noté que les relationsship devaient être misent dans les catégories qui non pas de VariationData
2016-04-27 10:43:07	⤷	J'ai enlevé 'RelationShip' des attributs commun
2016-04-27 10:43:44	⤷	Et quand je trouve une catégorie qui à VariationData, dans ses enfants, alors je ne met pas de RelationShip
2016-04-27 10:43:52	⤷	J'ai inversé ? :stuck_out_tongue:
2016-04-27 10:43:59	clementidelon	Oui c'est bien ça ! désolé pour le quiproquo
2016-04-27 10:44:42	⤷	Relationship ne doit pas être dans les attributs communs, mais seulement pour les catégories qui ont un "VariationData'" (edited)
2016-04-27 10:44:55	malo	Ok
2016-04-27 10:45:02	⤷	Donc je me suis bien trompé :smiley:
2016-04-27 10:45:51	⤷	Mais pour être bien sûr, je cherche bien VariationData peut importe sa profondeur, du moment qu'il est dans la catégorie ?
2016-04-27 10:46:00	⤷	Ou bien il doit être enfant directe ?
2016-04-27 11:05:16	clementidelon	il est enfant de ProductType
2016-04-27 11:06:06	⤷	ou de ProductData
2016-04-27 11:08:17	malo	@clementidelon: pour les attributs manquant, je les retrouvent bien dans le final_dict, j'ai un problème quand je créer le path_by_name.json donc.
2016-04-27 11:09:23	clementidelon	ok
2016-04-27 11:30:33	malo	Bon j'ai 10456 attributs maintenant
2016-04-27 12:08:17	clementidelon	@malo: KeyError: 'Problem in path_to_name : "Home/Home/VariationData/Color" leads to multiple attributes
2016-04-27 12:08:30	⤷	on a plusieurs fois le chemin encore
2016-04-27 12:09:05	⤷	je dois y aller ++
2016-04-27 12:22:15	malo	Du coup @sebastien.charret  j'ai rajouté dans le path, tout le chemin, donc aussi les noms des univers
2016-04-27 14:33:29	sebastien.charret	hello on en est ou des problemes sur le path?
2016-04-27 14:33:38	⤷	je dois faire un git pull?
2016-04-27 14:45:42	malo	Ouais pull :smiley:
2016-04-27 15:11:57	sebastien.charret	!channel SKU_1 c'est la nouvelle denomination pour les attributes?
2016-04-27 15:12:13	⤷	!channel au lieu de SKU?\
2016-04-27 15:12:23	malo	Je viens de regler le soucis
2016-04-27 15:12:29	sebastien.charret	ok
2016-04-27 15:12:47	malo	Le sync_attribute est en cours
2016-04-27 15:13:27	⤷	En faite avant je partais de 1, donc tous les attributes avaient _1. La si ils sont uniques je rajoute pas de chiffre
2016-04-27 15:13:34	sebastien.charret	ok
2016-04-27 15:14:12	⤷	les valeurs valides de Relation_Type sont recup aussi?
2016-04-27 15:14:30	malo	Ah c'est vrais qu'il y a ce soucis ! Je regarde ça
2016-04-27 15:16:28	sebastien.charret	tu peux commit tes modifs stp, j'ai besoin de la derniere version du fichier path_by_name.json stp
2016-04-27 15:17:32	malo	C'est fait
2016-04-27 15:19:02	⤷	Heu
2016-04-27 15:19:10	⤷	Dans mon final_dict
2016-04-27 15:19:24	⤷	Dans l'univers Shoes je trouve ça :
2016-04-27 15:20:41	sebastien.charret	merci
2016-04-27 15:20:43	malo	malo uploaded a file: https://lengow.slack.com/files/malo/F145TNFS4/-.js (Untitled)
2016-04-27 15:21:00	⤷	Il y a bien les valeurs pour Relation_Type
2016-04-27 15:21:05	⤷	Bizzare..
2016-04-27 15:22:04	⤷	Et c'est que lui, parce que les autres champs avec des conversion_values sont bien affichés
2016-04-27 15:41:15	sebastien.charret	Tu as fait un fix sur cet attribut? genre je le trouve plus dans HomeImprovement. C'est peut etre normal mais pour savoir si c'est une erreur ou pas
2016-04-27 15:42:00	malo	Relationship ne doit pas être dans les attributs communs, mais seulement pour les catégories qui ont un "VariationData'"
2016-04-27 15:42:11	sebastien.charret	Ok
2016-04-27 15:42:18	malo	Après
2016-04-27 15:42:24	sebastien.charret	cool
2016-04-27 15:42:34	malo	J'ai demandé à Clement mais ne m'a pas vraiment répondu
2016-04-27 15:42:51	⤷	le "qui ont un VariationData" est pas claire
2016-04-27 15:43:06	⤷	Il peut être enfant directe ou bien enfant d'une ref etc..
2016-04-27 15:43:13	⤷	je sais pas si je dois le prendre quand même
2016-04-27 15:44:10	sebastien.charret	la pour home improvement les sous categories semblent avoir un variation data
2016-04-27 15:44:17	malo	Oui
2016-04-27 15:44:22	⤷	Donc je le prend ou pas ?
2016-04-27 15:44:31	⤷	Le VariationData est pas enfant directe
2016-04-27 15:44:35	⤷	je le prend quand même ?
2016-04-27 16:51:58	clementidelon	Enfant d'une ref ou pas
2016-04-27 16:52:23	malo	Yeah ! Plop toi :smiley:
2016-04-27 16:52:36	⤷	On viens d'en parler avec Seb ! Ce que je fait actuellement :
2016-04-27 16:52:39	clementidelon	C'est pareil
2016-04-27 16:53:13	malo	Je regarde dans les attributs direct de l'univers. Si je VariationData, j'ajoute Relationship à l'univers
2016-04-27 16:53:14	⤷	Sinon
2016-04-27 16:53:40	⤷	Je regarde dans chaque sous categories, si je trouve Variationdata, je l'ajoute à la sous categories
2016-04-27 16:54:06	⤷	Si TOUTES les sous categories on un VariationData, alors je l'ajoute dans l'univers,
2016-04-27 16:54:17	⤷	C'est correcte ?
2016-04-27 16:54:25	clementidelon	Oui c'est bien ça nickel :-) 
2016-04-27 16:54:30	malo	Okey impec' !
2016-04-27 16:54:46	clementidelon	:simple_smile: 
2016-04-27 16:55:26	malo	Avec tout les termes je me perd un peu parfois désoler ^^"
2016-04-27 16:55:49	clementidelon	Pas de pb !
2016-04-27 17:04:19	malo	Ok j'ai compris pourquoi on peut pas cliquer sur l'univers pour voir les attributs commun de celui-ci. En faite il sont déjà mis dans les attributs commun.
2016-04-27 17:09:57	sebastien.charret	j;ai une question sur un noeud de Price (edited)
2016-04-27 17:10:45	⤷	lequel dois je prendre entre "PreviousPrice_Value": {
2016-04-27 17:10:45	⤷	"path": "Price/Previous/DatedPrice/PreviousPrice/Value",
2016-04-27 17:10:45	⤷	"use": "optional"
2016-04-27 17:10:45	⤷	},
2016-04-27 17:11:39	⤷	"EndDate_7": {
2016-04-27 17:11:39	⤷	"path": "Price/Previous/DatedPrice/EndDate",
2016-04-27 17:11:39	⤷	"use": "optional"
2016-04-27 17:11:39	⤷	},
2016-04-27 17:12:12	⤷	je m'embrouille
2016-04-27 17:12:18	malo	Heu
2016-04-27 17:12:30	⤷	C'est deux node bien different
2016-04-27 17:12:35	⤷	noeud*
2016-04-27 17:13:06	⤷	Si tu veux la valeur du précédent prix c'est PreviousPrice_Value
2016-04-27 17:13:27	⤷	Et si tu veux la date de la fin du prix actuel c'est EndDate_7
2016-04-27 17:18:04	sebastien.charret	<xsd:complexType name="DatedPrice">
2016-04-27 17:18:04	⤷	<xsd:sequence>
2016-04-27 17:18:04	⤷	<xsd:element name="StartDate" type="xsd:dateTime" minOccurs="0"/>
2016-04-27 17:18:04	⤷	<xsd:element name="EndDate" type="xsd:dateTime" minOccurs="0"/>
2016-04-27 17:18:04	⤷	<xsd:choice>
2016-04-27 17:18:04	⤷	<xsd:element name="Price" type="CurrencyAmount"/>
2016-04-27 17:18:04	⤷	<xsd:element name="PreviousPrice" type="CurrencyAmount"/>
2016-04-27 17:18:04	⤷	</xsd:choice>
2016-04-27 17:18:04	⤷	</xsd:sequence>
2016-04-27 17:18:04	⤷	<xsd:attribute name="delete" type="xsd:boolean" use="optional"/>
2016-04-27 17:18:04	⤷	</xsd:complexType>
2016-04-27 17:18:11	⤷	pour le choice?
2016-04-27 17:18:29	⤷	ce noeud se contruit comment? (edited)
2016-04-27 18:13:01	clementidelon	En fait tu peux avoir soit l'un soit l'autre
2016-04-27 18:13:24	⤷	Meh pas vu que j'avais une heure de retard :-D 
2016-04-27 18:15:31	⤷	Ctrl-z ctrl-z ;-) 
2016-04-28 07:56:12	⤷	@malo: 
2016-04-28 07:56:12		!! PATH Computers/Monitor/ScreenSize[/Value] NOT FOUND IN ATTRIB DICT!!
2016-04-28 07:56:12		!!! PATH Computers/Monitor/ScreenSize/unitOfMeasure[/Value] NOT FOUND IN ATTRIB DICT!!
2016-04-28 07:56:12		!!! PATH Computers/Monitor/Wattage[/Value] NOT FOUND IN ATTRIB DICT!!
2016-04-28 09:49:37	malo	Plop !
2016-04-28 09:49:53	⤷	Pourquoi tu as "[/Value]" dans le nom ? :O
2016-04-28 10:14:13	clementidelon	clementidelon uploaded a file: https://lengow.slack.com/files/clementidelon/F14EGASQG/-.xml (Untitled)
2016-04-28 10:15:42	⤷	@malo: exemple d'attributs manquants dans le dict pour Computers
2016-04-28 10:16:08	malo	@clementidelon: Merci :smiley:, je regarde ça rapidement !
2016-04-28 10:16:34	⤷	C'est que dans computers ou juste un exemple ?
2016-04-28 10:21:02	⤷	J'ai un problème sur le nom des sous catégories en faite
2016-04-28 10:23:27	⤷	Ah non
2016-04-28 10:23:29	⤷	..
2016-04-28 10:34:46	clementidelon	C'est juste un exemple
2016-04-28 10:39:10	⤷	gg @malo
2016-04-28 10:39:19	malo	C'est tout bon ?
2016-04-28 10:39:23	clementidelon	ouaip [:tada:1]
2016-04-28 10:41:29	malo	:tada:
