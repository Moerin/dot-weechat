2015-09-24 17:20:13	gstoffer	Coucou
2015-09-24 17:20:20	sebastien.charret	le repo ou est presente la documentation pour les structures?
2015-09-24 17:20:38	gstoffer	Demande à tes collègues :smile:
2015-09-24 17:20:54	sebastien.charret	??
2015-09-24 17:21:12	⤷	je parle du code de JB
2015-09-24 17:21:30	⤷	puisque que l'on avait pas terminé notre discussion (edited)
2015-09-24 17:21:42	gstoffer	lengow_core
2015-09-24 17:21:44	sebastien.charret	merci (edited)
2015-09-24 17:21:56	gstoffer	Je t'en prie ^^
2015-09-24 17:30:38	sebastien.charret	ERREUR: intervalle litéral mal formé : « tstzrange(now(), NULL)?
2015-09-24 17:30:50	⤷	Do you know it?
2015-09-24 17:31:19	gstoffer	tstzrange(now(), NULL::timestamptz)
2015-09-24 17:31:34	⤷	tstzrange n'admet que des types timestamp
2015-09-24 17:31:54	sebastien.charret	ok mais c'est par default dans la table
2015-09-24 17:36:43	gstoffer	Tu peux m'envoyer ta requête ?
2015-09-24 17:36:49	sebastien.charret	tiens peut etre plus clair
2015-09-24 17:36:51	⤷	INSERT INTO "structure" ("name", "logo", "ngram", "channel_holder_id", "vat_rate", "format", "render_class", "schema_definition", "config_fields", "is_active", "created_at", "updated_at", "common_mapping", "description", "sys_period", "channel_thesaurus_line_id")
2015-09-24 17:36:51		VALUES ('PriceministerV2', 'https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60', NULL, '833', NULL, NULL, NULL, NULL, NULL, '1', now(), now(), NULL, NULL, 'tstzrange(now(), NULL::timestamptz) ', NULL);
2015-09-24 17:36:51		https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60
2015-09-24 17:39:08	gstoffer	Il faut enlever le sys_period de ton insert, c'est auto-géré
2015-09-24 17:39:38	sebastien.charret	Ok peut etre adminer qu'il insere de base
2015-09-24 17:39:47	⤷	car je n'ai rien touché
2015-09-24 17:40:42	gstoffer	Non c'est postgresql qui et temporal tables qui gèrent cette colonne
2015-10-05 14:12:17	sebastien.charret	tu me diras si Julie et toi avez bien recus le doodle?
2015-10-15 10:31:19	gstoffer	http://schemaspy.sourceforge.net/
2015-10-15 10:35:50	sebastien.charret	Merci
2015-10-15 11:35:21	⤷	Une question
2015-10-15 11:35:39	⤷	Tu sais utiliser sublime pour faire des recherche a l'aide de regex? (edited)
2015-10-15 11:36:43	gstoffer	je saurais faire , mais je ne l'ai encore jamais fait
2015-10-15 11:38:22	sebastien.charret	Ok trouver un pattern comme ceci? INSERT INTO lengow_client.client_flux * (nombre arbitraire de mot) set champsCouleur= *(nombre arbitraire de mot)
2015-10-15 11:38:48	gstoffer	faut échapper le = je pense
2015-10-15 11:38:59	⤷	et le .
2015-10-15 11:38:59	sebastien.charret	possible
2015-10-15 11:39:09	⤷	oui c'est vrai (edited)
2015-10-16 16:44:35	⤷	Tu crois qu'il y a moyen de faire plus opti
2015-10-16 16:44:37	⤷	?
2015-10-16 16:44:38	⤷	SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande = "acceptsale" AND (itemstatus = "ACCEPTED" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0" UNION
2015-10-16 16:44:38		SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande IN ("new", "accept") AND (date < "2015-09-10" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0";
2015-10-16 16:44:38		SELECT * from lengow_tracking.API_commande_Priceminister WHERE etatCommande in ("new", "accept", "acceptsale") AND idClient="5201" AND idFlux="105905" AND itemid<>"0"  AND ( date < "2015-09-10" OR itemstatus = "CANCELLED" );
2015-10-16 16:48:18	gstoffer	ça me paraît bien
2015-10-16 16:48:27	sebastien.charret	merci maman
2015-10-16 16:48:40	gstoffer	de rien mon chéri
2015-10-21 17:51:35	sebastien.charret	Coucou (edited)
2015-10-21 17:51:45	⤷	le champs
2015-10-21 17:51:52	⤷	updated_at
2015-10-21 17:52:05	⤷	de order_marketpace_line
2015-10-21 17:52:37	⤷	as tu creer un procedure pour effectuer sa mise a jour lors de son insertion?
2015-10-21 17:53:06	gstoffer	il se peut que non ^^
2015-10-21 17:53:22	sebastien.charret	mais tu devais le faire? ^^ (edited)
2015-10-21 17:53:50	⤷	car sur order_marketplace ca a l'air d'etre le cas
2015-10-21 17:53:54	⤷	ou alors je fabule
2015-10-21 17:54:12	gstoffer	oui c'est faisable :simple_smile:
2015-10-22 11:18:23	sebastien.charret	Coucou
2015-10-22 11:18:33	gstoffer	Hello
2015-10-22 11:18:49	sebastien.charret	db common table country
2015-10-22 11:19:02	⤷	tu sais comment ont ete genere les donnees? (edited)
2015-10-22 11:19:19	⤷	me manque une occurence
2015-10-22 11:19:21	⤷	FX
2015-10-22 11:19:37	⤷	si ca a etait fait a la main je la rajoute
2015-10-22 11:19:49	gstoffer	Non ça n'a pas été fait à la main
2015-10-22 11:19:54	⤷	c'est quoi ce FX
2015-10-22 11:19:56	sebastien.charret	sinon faut comprendre why it is not in there? (edited)
2015-10-22 11:20:44	⤷	fx    France (European Territory)
2015-10-22 11:20:56	gstoffer	C'est obligatoire ?
2015-10-22 11:21:04	sebastien.charret	ben j'ai un client
2015-10-22 11:21:11	⤷	qui l'a renseigne
2015-10-22 11:21:21	⤷	sur une commande price
2015-10-22 11:21:24	gstoffer	Parce que ça ne fait pas partie de la norme ISO-3166-1
2015-10-22 11:21:42	sebastien.charret	Ok je regarde la norme price
2015-10-22 11:21:57	gstoffer	Il est chiant ce client !
2015-10-22 11:22:06	⤷	Il est sur une norme européenne
2015-10-22 11:22:10	sebastien.charret	c'est la MKtp surtout
2015-10-22 11:22:30	gstoffer	Nous on est sur une ISO internationale
2015-10-22 11:24:19	sebastien.charret	Je n'ai rien la dessus
2015-10-22 11:24:25	⤷	(doc)
2015-10-22 11:24:47	gstoffer	wikipedia l'explique très bien
2015-10-22 11:24:56	sebastien.charret	Oui je te crois
2015-10-22 11:25:03	gstoffer	France, Metropolitan    FX, FXX, 249    1993–1997    FXFR    Merged into France (FR, FRA, 250)
2015-10-22 11:25:10	⤷	C'est même périmé
2015-10-22 11:25:14	sebastien.charret	mais je fais quoi avec mon FX? (edited)
2015-10-22 11:25:30	gstoffer	la période de validité se termine en 97
2015-10-22 11:26:05	sebastien.charret	bien alors lol
2015-10-22 11:26:20	⤷	Copyright (c) 1997-2012 Rakuten, Inc. All Rights Reserved.
2015-10-22 11:26:31	⤷	sur le site priceminister
2015-10-22 11:26:52	gstoffer	Ben ils utilisent des normes périmées
2015-10-22 11:26:55	sebastien.charret	soit on trouve une solution
2015-10-22 11:27:07	⤷	soit je dis a RAKUTEN de changer leur norme
2015-10-22 11:27:26	⤷	pour le deuxieme je veux te nommer dans le mail
2015-10-22 11:27:41	gstoffer	ouais dis à Rakuten de changer sa norme moisie
2015-10-22 11:28:06	sebastien.charret	cf l'allocution de Mr Stoffer sur l'utilisation de la norme de Priceminister:
2015-10-22 11:28:10	⤷	'Nah!'
2015-10-22 11:28:27	⤷	Avec ca ils vont pas me le refuser (edited)
2015-10-22 11:28:27	gstoffer	Bah je privilégie un standard plutôt qu'une marketplace
2015-10-22 11:28:59	⤷	Franchement s'ils font de la merde, ce n'est pas à nous de la gober
2015-10-22 11:29:26	⤷	Cela dit, en attendant on peut très bien appliquer le standard en transformant FX en FR
2015-10-22 11:29:28	sebastien.charret	Je vais leur faire part de ton ressentiment
2015-10-22 11:29:43	gstoffer	Je suis sûr qu'ils seront ravis :simple_smile: (edited)
2015-10-22 11:29:50	sebastien.charret	Oui je vais patcher
2015-10-22 11:30:01	⤷	ca va etre beau!
2015-10-22 11:31:23	gstoffer	On va quand même pas aliéner un standard et baiser notre table pour leur beaux yeux ?
2015-10-22 11:31:34	sebastien.charret	amen
2015-10-26 09:48:04	gstoffer	Tu peux venir stp ? :simple_smile:
2015-10-26 10:02:37	sebastien.charret	Tu aurais encore le lien qui atteste que FX est déprécié stp?
2015-10-27 11:44:24	⤷	Coucou
2015-10-27 11:44:32	⤷	Tu as pus faire la procedure?
2015-10-27 11:44:54	gstoffer	C'est en cours :wink:
2015-10-27 11:45:03	sebastien.charret	ok merci :simple_smile:
2015-10-28 16:58:35	⤷	http://www.datanamic.com/schema-change-notifier/
2015-10-28 16:58:53	⤷	http://www.postgresql.org/docs/9.1/static/sql-notify.html
2015-10-28 16:58:56	⤷	bisous
2015-10-28 17:02:16	gstoffer	Je vais potasser la doc, datanamic est payant
2015-10-28 17:02:24	sebastien.charret	arf
2015-10-28 17:02:43	⤷	il doit exister une alternative open source
2015-11-09 09:42:49	⤷	Hello
2015-11-09 09:43:07	⤷	je reviens vers toi pour la creation de BDD test
2015-11-09 09:44:01	gstoffer	Tout à fait :simple_smile:
2015-11-09 09:44:19	sebastien.charret	:simple_smile:
2015-11-09 11:46:48	⤷	http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema
2015-11-09 11:46:48		Django and postgresql testing schema (http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema)
2015-11-09 11:46:48		I'm using PostgreSQL 9.3 and Django 1.7.4 with psycopg2 2.5.4 The DBA, asked us to create a schema for our application instead of using public. We defined the schema, and we had to add the 'OPT...
2015-11-09 11:46:51	⤷	voila le lien
2015-11-09 11:47:48	gstoffer	C'est tout à fait ça
2015-11-09 11:48:01	⤷	Seulement, il n'y a pas de solutions.
2015-11-09 11:48:27	sebastien.charret	en relisant attentivement on vas que pour lui c'est un cas particulier
2015-11-09 11:48:35	⤷	que ca fonctionne avec public
2015-11-09 11:48:47	gstoffer	A partir du modèle, postgresql est incapable de déterminer dans quel schéma doivent être créées les tables
2015-11-09 11:48:57	sebastien.charret	mais que lui veut changer le nom du schema
2015-11-09 11:49:09	gstoffer	De toute façon ça ne peut pas marcher
2015-11-09 11:49:32	⤷	il va te manquer tout ce que l'ORM ne voit pas dans postgresql
2015-11-09 11:50:21	⤷	CUSTOM TYPE, INHERITANCE, TRIGGER, etc
2015-11-09 11:50:35	sebastien.charret	arf
2015-11-09 11:51:02	gstoffer	Tu dois tester sur une base déjà déployé
2015-11-09 11:51:25	⤷	Dans ce contexte, il te faut déporter la création de la BDD en dehors de Django
2015-11-09 11:52:04	sebastien.charret	Je ne vois pas comment faire puisque les tests sont lance pas une commande django
2015-11-09 11:52:33	gstoffer	django devrait permettre de désigner une BDD existante
2015-11-09 11:53:06	sebastien.charret	oui dans les settings
2015-11-09 11:53:26	⤷	nous avons mapper les BDD
2015-11-09 11:53:38	⤷	je ne pense pas que ce soit ce que tu veux dire
2015-11-09 11:53:52	gstoffer	je parle pour l'exécution des tests
2015-11-10 10:03:27	sebastien.charret	tu peux venir stp
2015-11-10 10:03:33	⤷	je vais devenir fou
2015-11-12 15:54:44	⤷	Coucou
2015-11-12 15:54:54	gstoffer	Hello
2015-11-12 15:55:11	sebastien.charret	Pourquoi sur les tables avec des relations fk il n'a pas de ON DELETE CASCADE?
2015-11-12 15:55:46	⤷	DELETE FROM "structure"
2015-11-12 15:55:46		WHERE "name" LIKE '%Priceminister%' AND (("id" = '1140') OR ("id" = '1141') OR ("id" = '1142') OR ("id" = '1143') OR ("id" = '1147') OR ("id" = '1086') OR ("id" = '1144') OR ("id" = '1145') OR ("id" = '1088') OR ("id" = '1146') OR ("id" = '1089') OR ("id" = '1090') OR ("id" = '1091') OR ("id" = '1092') OR ("id" = '1093') OR ("id" = '1094') OR ("id" = '1095') OR ("id" = '1096') OR ("id" = '1097') OR ("id" = '1098') OR ("id" = '1099') OR ("id" = '1100') OR ("id" = '1101') OR ("id" = '1102') OR ("id" = '1103') OR ("id" = '1104') OR ("id" = '1105') OR ("id" = '1106') OR ("id" = '1107') OR ("id" = '1108') OR ("id" = '1109') OR ("id" = '1110') OR ("id" = '1111') OR ("id" = '1112') OR ("id" = '1113') OR ("id" = '1114') OR ("id" = '1115') OR ("id" = '1116') OR ("id" = '1117') OR ("id" = '1118') OR ("id" = '1119') OR ("id" = '1120') OR ("id" = '1121') OR ("id" = '1122') OR ("id" = '1123') OR ("id" = '1124') OR ("id" = '1125') OR ("id" = '1126') OR ("id" = '1127') OR ("id" = '1128') OR ("id" = '1129') OR ("id" = '1130') OR ("id" = '1131') OR ("id" = '1132') OR ("id" = '1133') OR ("id" = '1191') OR ("id" = '1134') OR ("id" = '1135') OR ("id" = '1136') OR ("id" = '1137') OR ("id" = '1138') OR ("id" = '1139') OR ("id" = '1148') OR ("id" = '1149') OR ("id" = '1150') OR ("id" = '1151') OR ("id" = '1152') OR ("id" = '1153') OR ("id" = '1154') OR ("id" = '1155') OR ("id" = '1156') OR ("id" = '1157') OR ("id" = '1158') OR ("id" = '1159') OR ("id" = '1160') OR ("id" = '1161') OR ("id" = '1162') OR ("id" = '1163') OR ("id" = '1164') OR ("id" = '1165') OR ("id" = '1166') OR ("id" = '1167') OR ("id" = '1168') OR ("id" = '1169') OR ("id" = '1170') OR ("id" = '1171') OR ("id" = '1172') OR ("id" = '1173') OR ("id" = '1174') OR ("id" = '1175') OR ("id" = '1181') OR ("id" = '1176') OR ("id" = '1177') OR ("id" = '1178') OR ("id" = '1179') OR ("id" = '1180') OR ("id" = '1182') OR ("id" = '1183') OR ("id" = '1184') OR ("id" = '1185') OR ("id" = '1190') OR ("id" = '1186') OR ("id" = '1187') OR ("id" = '1188') OR ("id" = '1189') OR ("id" = '1192') OR ("id" = '1193') OR ("id" = '1194') OR ("id" = '1195') OR ("id" = '1196') OR ("id" = '1197') OR ("id" = '1198') OR ("id" = '1199') OR ("id" = '1200') OR ("id" = '1210') OR ("id" = '1201') OR ("id" = '1202') OR ("id" = '1203') OR ("id" = '1204') OR ("id" = '1205') OR ("id" = '1206') OR ("id" = '1207') OR ("id" = '1208') OR ("id" = '1209') OR ("id" = '1211') OR ("id" = '1212') OR ("id" = '1213') OR ("id" = '1214') OR ("id" = '1215') OR ("id" = '1216') OR ("id" = '1217') OR ("id" = '1218') OR ("id" = '1219') OR ("id" = '1220') OR ("id" = '1221') OR ("id" = '1222') OR ("id" = '1223') OR ("id" = '1224') OR ("id" = '1225') OR ("id" = '1226') OR ("id" = '1227') OR ("id" = '1228') OR ("id" = '1229') OR ("id" = '1230') OR ("id" = '1231') OR ("id" = '1232')) ;
2015-11-12 15:55:55	⤷	Erreur dans la requête: ERREUR: UPDATE ou DELETE sur la table « structure » viole la contrainte de clé étrangère
2015-11-12 15:55:55		« catalog_structure_mapping_channel_structure_id_fkey » de la table « structure_mapping »
2015-11-12 15:55:55		DETAIL: La clé (id)=(1140) est toujours référencée à partir de la table « structure_mapping
2015-11-12 15:56:07	gstoffer	Parce que ce n'est pas forcément le comportement que l'on souhaite par défaut
2015-11-12 15:56:40	sebastien.charret	On va se retrouver avec des clef qui ne pointe vers rien dans le cas ou force le delete
2015-11-12 15:57:02	⤷	ou alors il y un moyen simple que je ne connais pas
2015-11-12 15:57:54	gstoffer	En gros, tu tentes de supprimer un diffuseur pour lequel des marchands ont un ou plusieurs flux branchés dessus.
2015-11-12 15:57:54		En production, par exemple, ce n'est pas très propre comme action :simple_smile:
2015-11-12 15:58:51	sebastien.charret	Si tu parles de diffuseurs en tant que structure oui
2015-11-12 15:59:06	⤷	mais pourtant mon approche est concrete
2015-11-12 15:59:30	⤷	je souhaite suppimer mes structures et les leurs references etrangeres
2015-11-12 15:59:31	gstoffer	Oui tu vas conrètement mettre des marchands dans le caca
2015-11-12 16:00:06	sebastien.charret	oui il n'auront plus de reference sur les structures (edited)
2015-11-12 16:00:16	gstoffer	Ce n'est pas bien
2015-11-12 16:00:33	sebastien.charret	Comment agir pour la suppression donc?
2015-11-12 16:00:39	⤷	update??
2015-11-12 16:01:07	gstoffer	Sans doute d'innocentes personnes qui font des tests, se retrouveront avec des erreurs sans savoir d'où ça vient, c'est plutôt sauvage :simple_smile:
2015-11-12 16:01:25	sebastien.charret	Ok je comprends (edited)
2015-11-12 16:01:44	⤷	Mais ma question est comment dois je proceder?
2015-11-12 16:02:05	⤷	je suis donc oblige de passer par un update des données
2015-11-12 16:02:36	⤷	mais a l'heure actuelle le nombre de structure ne correspond pas a la realite
2015-11-12 16:02:47	gstoffer	Tu t'assures que tous les flux branchés sur cette structure ne soient pas utilisés
2015-11-12 16:03:23	sebastien.charret	146...
2015-11-13 09:01:52	⤷	Ce merveilleux Guillaume!!!
2015-11-13 09:02:12	⤷	Tu sais ou est passe la Table Structure Converter?
2015-11-13 09:04:32	gstoffer	Supprimé à la demande de ton boss
2015-11-13 09:04:40	sebastien.charret	Mon boss?
2015-11-13 09:04:53	gstoffer	Thomas
2015-11-13 09:04:58	sebastien.charret	Je suis mon propre maitre :sunglasses:
2015-11-13 09:05:04	gstoffer	XD
2015-11-13 09:05:07	sebastien.charret	ok
2015-11-13 09:05:39	gstoffer	Il avait peur de finir à la rue, parce qu'on on en faisait trop
2015-11-13 09:05:59	⤷	du coup on a coupé net la partie conversion
2015-11-13 09:06:05	sebastien.charret	Elle faiseait quoi?
2015-11-13 09:06:31	gstoffer	ça permettait de convertir un flux dans n'importe quel format diffuseur
2015-11-13 09:06:56	⤷	En gros avec une api on maitrisait la chaine de bout en bout
2015-11-16 11:11:50	sebastien.charret	Select v.label from Field f natural join FieldValue fv
2015-11-16 11:11:50		natural join Value v
2015-11-16 11:11:50		Where idMirakl = '55'
2015-11-16 11:12:07	⤷	-- Select v.label from Field f natural join FieldValue fv
2015-11-16 11:12:07		-- Where idMirakl = '55' AND f.label = 'Couleur' AND fv.idValue IN (Select idValue From Value) as v;
2015-11-16 11:24:56	⤷	http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join
2015-11-16 11:24:56		Difference between natural join and inner join (http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join)
2015-11-16 11:24:56		What is difference between join and natural join please can any one post hear
2015-11-16 11:25:14	⤷	la difference ne se fait que sur le nombre de colonnes retourrnees
2015-11-16 11:25:28	⤷	:confused:
2015-11-16 11:25:51	⤷	je ne vois pas l'impact que cela aurait pu avoir
2015-11-16 11:44:37	⤷	Coucou
2015-11-16 11:44:53	⤷	Reussis tu a rexecuter la requete?
2015-11-16 11:45:06	⤷	Select v.label from Field f inner join FieldValue fv
2015-11-16 11:45:06		inner join Value v
2015-11-16 11:45:06		Where idMirakl = '55' AND f.label = 'Couleur'
2015-11-16 11:45:19	⤷	ok
2015-11-16 11:45:21	⤷	...
2015-11-16 11:45:30	⤷	je viens de voir mon erreur
2015-11-16 11:45:39	⤷	je n'ai rien dit...
2016-01-04 10:47:11	⤷	mailto:g.legall@gmail.com (g.legall@gmail.com)
2016-02-08 10:34:06	⤷	Donc on part sur un champ nomme additionnal properties?
2016-02-08 10:34:12	gstoffer	non
2016-02-08 10:34:24	⤷	on part sur un champ metadata
2016-02-08 10:34:27	sebastien.charret	ok
2016-02-08 10:34:49	gstoffer	on va pas s'emmerder avec un nom à rallonge
2016-02-08 10:34:51	⤷	:smile:
2016-02-08 10:34:58	sebastien.charret	Une idee de quand ca sera mis en prod
2016-02-08 10:35:02	gstoffer	je fais ça après mon point
2016-02-08 10:35:03	sebastien.charret	ou sur inte
2016-02-08 10:35:05	⤷	?
2016-02-08 10:35:08	gstoffer	ce matin
2016-02-08 10:35:08	sebastien.charret	ok
2016-02-08 10:35:14	⤷	merci
2016-02-08 15:54:22	⤷	c'est bon pour le champs? (edited)
2016-04-19 17:57:43	sebastien.charret	toto
2016-04-19 17:57:59	⤷	select schema_definition from channel.structure where id = 2810
2016-04-19 17:58:15	sebastien.charret	sebastien.charret uploaded a file: https://lengow.slack.com/files/sebastien.charret/F11UBCZ32/.1.xml.swp (.1.xml)
2016-04-19 18:01:42	gstoffer	Je te confirme que c'est le contenu qui est titanesque et inaffichable, j'ai le même problème que toi
2016-04-19 18:02:04	sebastien.charret	ok
2016-04-19 18:02:28	⤷	donc que ce soit par command ou interface web on ne peut pas l'afficher
2016-04-19 18:03:28	gstoffer	Non il faudrait l'exporter dans un fichier ou utiliser autre chose que less (l'éditeur par défaut utilisé par psql)
2015-09-24 17:20:13	gstoffer	Coucou
2015-09-24 17:20:20	sebastien.charret	le repo ou est presente la documentation pour les structures?
2015-09-24 17:20:38	gstoffer	Demande à tes collègues :smile:
2015-09-24 17:20:54	sebastien.charret	??
2015-09-24 17:21:12	⤷	je parle du code de JB
2015-09-24 17:21:30	⤷	puisque que l'on avait pas terminé notre discussion (edited)
2015-09-24 17:21:42	gstoffer	lengow_core
2015-09-24 17:21:44	sebastien.charret	merci (edited)
2015-09-24 17:21:56	gstoffer	Je t'en prie ^^
2015-09-24 17:30:38	sebastien.charret	ERREUR: intervalle litéral mal formé : « tstzrange(now(), NULL)?
2015-09-24 17:30:50	⤷	Do you know it?
2015-09-24 17:31:19	gstoffer	tstzrange(now(), NULL::timestamptz)
2015-09-24 17:31:34	⤷	tstzrange n'admet que des types timestamp
2015-09-24 17:31:54	sebastien.charret	ok mais c'est par default dans la table
2015-09-24 17:36:43	gstoffer	Tu peux m'envoyer ta requête ?
2015-09-24 17:36:49	sebastien.charret	tiens peut etre plus clair
2015-09-24 17:36:51	⤷	INSERT INTO "structure" ("name", "logo", "ngram", "channel_holder_id", "vat_rate", "format", "render_class", "schema_definition", "config_fields", "is_active", "created_at", "updated_at", "common_mapping", "description", "sys_period", "channel_thesaurus_line_id")
2015-09-24 17:36:51		VALUES ('PriceministerV2', 'https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60', NULL, '833', NULL, NULL, NULL, NULL, NULL, '1', now(), now(), NULL, NULL, 'tstzrange(now(), NULL::timestamptz) ', NULL);
2015-09-24 17:36:51		https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60
2015-09-24 17:39:08	gstoffer	Il faut enlever le sys_period de ton insert, c'est auto-géré
2015-09-24 17:39:38	sebastien.charret	Ok peut etre adminer qu'il insere de base
2015-09-24 17:39:47	⤷	car je n'ai rien touché
2015-09-24 17:40:42	gstoffer	Non c'est postgresql qui et temporal tables qui gèrent cette colonne
2015-10-05 14:12:17	sebastien.charret	tu me diras si Julie et toi avez bien recus le doodle?
2015-10-15 10:31:19	gstoffer	http://schemaspy.sourceforge.net/
2015-10-15 10:35:50	sebastien.charret	Merci
2015-10-15 11:35:21	⤷	Une question
2015-10-15 11:35:39	⤷	Tu sais utiliser sublime pour faire des recherche a l'aide de regex? (edited)
2015-10-15 11:36:43	gstoffer	je saurais faire , mais je ne l'ai encore jamais fait
2015-10-15 11:38:22	sebastien.charret	Ok trouver un pattern comme ceci? INSERT INTO lengow_client.client_flux * (nombre arbitraire de mot) set champsCouleur= *(nombre arbitraire de mot)
2015-10-15 11:38:48	gstoffer	faut échapper le = je pense
2015-10-15 11:38:59	⤷	et le .
2015-10-15 11:38:59	sebastien.charret	possible
2015-10-15 11:39:09	⤷	oui c'est vrai (edited)
2015-10-16 16:44:35	⤷	Tu crois qu'il y a moyen de faire plus opti
2015-10-16 16:44:37	⤷	?
2015-10-16 16:44:38	⤷	SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande = "acceptsale" AND (itemstatus = "ACCEPTED" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0" UNION
2015-10-16 16:44:38		SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande IN ("new", "accept") AND (date < "2015-09-10" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0";
2015-10-16 16:44:38		SELECT * from lengow_tracking.API_commande_Priceminister WHERE etatCommande in ("new", "accept", "acceptsale") AND idClient="5201" AND idFlux="105905" AND itemid<>"0"  AND ( date < "2015-09-10" OR itemstatus = "CANCELLED" );
2015-10-16 16:48:18	gstoffer	ça me paraît bien
2015-10-16 16:48:27	sebastien.charret	merci maman
2015-10-16 16:48:40	gstoffer	de rien mon chéri
2015-10-21 17:51:35	sebastien.charret	Coucou (edited)
2015-10-21 17:51:45	⤷	le champs
2015-10-21 17:51:52	⤷	updated_at
2015-10-21 17:52:05	⤷	de order_marketpace_line
2015-10-21 17:52:37	⤷	as tu creer un procedure pour effectuer sa mise a jour lors de son insertion?
2015-10-21 17:53:06	gstoffer	il se peut que non ^^
2015-10-21 17:53:22	sebastien.charret	mais tu devais le faire? ^^ (edited)
2015-10-21 17:53:50	⤷	car sur order_marketplace ca a l'air d'etre le cas
2015-10-21 17:53:54	⤷	ou alors je fabule
2015-10-21 17:54:12	gstoffer	oui c'est faisable :simple_smile:
2015-10-22 11:18:23	sebastien.charret	Coucou
2015-10-22 11:18:33	gstoffer	Hello
2015-10-22 11:18:49	sebastien.charret	db common table country
2015-10-22 11:19:02	⤷	tu sais comment ont ete genere les donnees? (edited)
2015-10-22 11:19:19	⤷	me manque une occurence
2015-10-22 11:19:21	⤷	FX
2015-10-22 11:19:37	⤷	si ca a etait fait a la main je la rajoute
2015-10-22 11:19:49	gstoffer	Non ça n'a pas été fait à la main
2015-10-22 11:19:54	⤷	c'est quoi ce FX
2015-10-22 11:19:56	sebastien.charret	sinon faut comprendre why it is not in there? (edited)
2015-10-22 11:20:44	⤷	fx    France (European Territory)
2015-10-22 11:20:56	gstoffer	C'est obligatoire ?
2015-10-22 11:21:04	sebastien.charret	ben j'ai un client
2015-10-22 11:21:11	⤷	qui l'a renseigne
2015-10-22 11:21:21	⤷	sur une commande price
2015-10-22 11:21:24	gstoffer	Parce que ça ne fait pas partie de la norme ISO-3166-1
2015-10-22 11:21:42	sebastien.charret	Ok je regarde la norme price
2015-10-22 11:21:57	gstoffer	Il est chiant ce client !
2015-10-22 11:22:06	⤷	Il est sur une norme européenne
2015-10-22 11:22:10	sebastien.charret	c'est la MKtp surtout
2015-10-22 11:22:30	gstoffer	Nous on est sur une ISO internationale
2015-10-22 11:24:19	sebastien.charret	Je n'ai rien la dessus
2015-10-22 11:24:25	⤷	(doc)
2015-10-22 11:24:47	gstoffer	wikipedia l'explique très bien
2015-10-22 11:24:56	sebastien.charret	Oui je te crois
2015-10-22 11:25:03	gstoffer	France, Metropolitan    FX, FXX, 249    1993–1997    FXFR    Merged into France (FR, FRA, 250)
2015-10-22 11:25:10	⤷	C'est même périmé
2015-10-22 11:25:14	sebastien.charret	mais je fais quoi avec mon FX? (edited)
2015-10-22 11:25:30	gstoffer	la période de validité se termine en 97
2015-10-22 11:26:05	sebastien.charret	bien alors lol
2015-10-22 11:26:20	⤷	Copyright (c) 1997-2012 Rakuten, Inc. All Rights Reserved.
2015-10-22 11:26:31	⤷	sur le site priceminister
2015-10-22 11:26:52	gstoffer	Ben ils utilisent des normes périmées
2015-10-22 11:26:55	sebastien.charret	soit on trouve une solution
2015-10-22 11:27:07	⤷	soit je dis a RAKUTEN de changer leur norme
2015-10-22 11:27:26	⤷	pour le deuxieme je veux te nommer dans le mail
2015-10-22 11:27:41	gstoffer	ouais dis à Rakuten de changer sa norme moisie
2015-10-22 11:28:06	sebastien.charret	cf l'allocution de Mr Stoffer sur l'utilisation de la norme de Priceminister:
2015-10-22 11:28:10	⤷	'Nah!'
2015-10-22 11:28:27	⤷	Avec ca ils vont pas me le refuser (edited)
2015-10-22 11:28:27	gstoffer	Bah je privilégie un standard plutôt qu'une marketplace
2015-10-22 11:28:59	⤷	Franchement s'ils font de la merde, ce n'est pas à nous de la gober
2015-10-22 11:29:26	⤷	Cela dit, en attendant on peut très bien appliquer le standard en transformant FX en FR
2015-10-22 11:29:28	sebastien.charret	Je vais leur faire part de ton ressentiment
2015-10-22 11:29:43	gstoffer	Je suis sûr qu'ils seront ravis :simple_smile: (edited)
2015-10-22 11:29:50	sebastien.charret	Oui je vais patcher
2015-10-22 11:30:01	⤷	ca va etre beau!
2015-10-22 11:31:23	gstoffer	On va quand même pas aliéner un standard et baiser notre table pour leur beaux yeux ?
2015-10-22 11:31:34	sebastien.charret	amen
2015-10-26 09:48:04	gstoffer	Tu peux venir stp ? :simple_smile:
2015-10-26 10:02:37	sebastien.charret	Tu aurais encore le lien qui atteste que FX est déprécié stp?
2015-10-27 11:44:24	⤷	Coucou
2015-10-27 11:44:32	⤷	Tu as pus faire la procedure?
2015-10-27 11:44:54	gstoffer	C'est en cours :wink:
2015-10-27 11:45:03	sebastien.charret	ok merci :simple_smile:
2015-10-28 16:58:35	⤷	http://www.datanamic.com/schema-change-notifier/
2015-10-28 16:58:53	⤷	http://www.postgresql.org/docs/9.1/static/sql-notify.html
2015-10-28 16:58:56	⤷	bisous
2015-10-28 17:02:16	gstoffer	Je vais potasser la doc, datanamic est payant
2015-10-28 17:02:24	sebastien.charret	arf
2015-10-28 17:02:43	⤷	il doit exister une alternative open source
2015-11-09 09:42:49	⤷	Hello
2015-11-09 09:43:07	⤷	je reviens vers toi pour la creation de BDD test
2015-11-09 09:44:01	gstoffer	Tout à fait :simple_smile:
2015-11-09 09:44:19	sebastien.charret	:simple_smile:
2015-11-09 11:46:48	⤷	http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema
2015-11-09 11:46:48		Django and postgresql testing schema (http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema)
2015-11-09 11:46:48		I'm using PostgreSQL 9.3 and Django 1.7.4 with psycopg2 2.5.4 The DBA, asked us to create a schema for our application instead of using public. We defined the schema, and we had to add the 'OPT...
2015-11-09 11:46:51	⤷	voila le lien
2015-11-09 11:47:48	gstoffer	C'est tout à fait ça
2015-11-09 11:48:01	⤷	Seulement, il n'y a pas de solutions.
2015-11-09 11:48:27	sebastien.charret	en relisant attentivement on vas que pour lui c'est un cas particulier
2015-11-09 11:48:35	⤷	que ca fonctionne avec public
2015-11-09 11:48:47	gstoffer	A partir du modèle, postgresql est incapable de déterminer dans quel schéma doivent être créées les tables
2015-11-09 11:48:57	sebastien.charret	mais que lui veut changer le nom du schema
2015-11-09 11:49:09	gstoffer	De toute façon ça ne peut pas marcher
2015-11-09 11:49:32	⤷	il va te manquer tout ce que l'ORM ne voit pas dans postgresql
2015-11-09 11:50:21	⤷	CUSTOM TYPE, INHERITANCE, TRIGGER, etc
2015-11-09 11:50:35	sebastien.charret	arf
2015-11-09 11:51:02	gstoffer	Tu dois tester sur une base déjà déployé
2015-11-09 11:51:25	⤷	Dans ce contexte, il te faut déporter la création de la BDD en dehors de Django
2015-11-09 11:52:04	sebastien.charret	Je ne vois pas comment faire puisque les tests sont lance pas une commande django
2015-11-09 11:52:33	gstoffer	django devrait permettre de désigner une BDD existante
2015-11-09 11:53:06	sebastien.charret	oui dans les settings
2015-11-09 11:53:26	⤷	nous avons mapper les BDD
2015-11-09 11:53:38	⤷	je ne pense pas que ce soit ce que tu veux dire
2015-11-09 11:53:52	gstoffer	je parle pour l'exécution des tests
2015-11-10 10:03:27	sebastien.charret	tu peux venir stp
2015-11-10 10:03:33	⤷	je vais devenir fou
2015-11-12 15:54:44	⤷	Coucou
2015-11-12 15:54:54	gstoffer	Hello
2015-11-12 15:55:11	sebastien.charret	Pourquoi sur les tables avec des relations fk il n'a pas de ON DELETE CASCADE?
2015-11-12 15:55:46	⤷	DELETE FROM "structure"
2015-11-12 15:55:46		WHERE "name" LIKE '%Priceminister%' AND (("id" = '1140') OR ("id" = '1141') OR ("id" = '1142') OR ("id" = '1143') OR ("id" = '1147') OR ("id" = '1086') OR ("id" = '1144') OR ("id" = '1145') OR ("id" = '1088') OR ("id" = '1146') OR ("id" = '1089') OR ("id" = '1090') OR ("id" = '1091') OR ("id" = '1092') OR ("id" = '1093') OR ("id" = '1094') OR ("id" = '1095') OR ("id" = '1096') OR ("id" = '1097') OR ("id" = '1098') OR ("id" = '1099') OR ("id" = '1100') OR ("id" = '1101') OR ("id" = '1102') OR ("id" = '1103') OR ("id" = '1104') OR ("id" = '1105') OR ("id" = '1106') OR ("id" = '1107') OR ("id" = '1108') OR ("id" = '1109') OR ("id" = '1110') OR ("id" = '1111') OR ("id" = '1112') OR ("id" = '1113') OR ("id" = '1114') OR ("id" = '1115') OR ("id" = '1116') OR ("id" = '1117') OR ("id" = '1118') OR ("id" = '1119') OR ("id" = '1120') OR ("id" = '1121') OR ("id" = '1122') OR ("id" = '1123') OR ("id" = '1124') OR ("id" = '1125') OR ("id" = '1126') OR ("id" = '1127') OR ("id" = '1128') OR ("id" = '1129') OR ("id" = '1130') OR ("id" = '1131') OR ("id" = '1132') OR ("id" = '1133') OR ("id" = '1191') OR ("id" = '1134') OR ("id" = '1135') OR ("id" = '1136') OR ("id" = '1137') OR ("id" = '1138') OR ("id" = '1139') OR ("id" = '1148') OR ("id" = '1149') OR ("id" = '1150') OR ("id" = '1151') OR ("id" = '1152') OR ("id" = '1153') OR ("id" = '1154') OR ("id" = '1155') OR ("id" = '1156') OR ("id" = '1157') OR ("id" = '1158') OR ("id" = '1159') OR ("id" = '1160') OR ("id" = '1161') OR ("id" = '1162') OR ("id" = '1163') OR ("id" = '1164') OR ("id" = '1165') OR ("id" = '1166') OR ("id" = '1167') OR ("id" = '1168') OR ("id" = '1169') OR ("id" = '1170') OR ("id" = '1171') OR ("id" = '1172') OR ("id" = '1173') OR ("id" = '1174') OR ("id" = '1175') OR ("id" = '1181') OR ("id" = '1176') OR ("id" = '1177') OR ("id" = '1178') OR ("id" = '1179') OR ("id" = '1180') OR ("id" = '1182') OR ("id" = '1183') OR ("id" = '1184') OR ("id" = '1185') OR ("id" = '1190') OR ("id" = '1186') OR ("id" = '1187') OR ("id" = '1188') OR ("id" = '1189') OR ("id" = '1192') OR ("id" = '1193') OR ("id" = '1194') OR ("id" = '1195') OR ("id" = '1196') OR ("id" = '1197') OR ("id" = '1198') OR ("id" = '1199') OR ("id" = '1200') OR ("id" = '1210') OR ("id" = '1201') OR ("id" = '1202') OR ("id" = '1203') OR ("id" = '1204') OR ("id" = '1205') OR ("id" = '1206') OR ("id" = '1207') OR ("id" = '1208') OR ("id" = '1209') OR ("id" = '1211') OR ("id" = '1212') OR ("id" = '1213') OR ("id" = '1214') OR ("id" = '1215') OR ("id" = '1216') OR ("id" = '1217') OR ("id" = '1218') OR ("id" = '1219') OR ("id" = '1220') OR ("id" = '1221') OR ("id" = '1222') OR ("id" = '1223') OR ("id" = '1224') OR ("id" = '1225') OR ("id" = '1226') OR ("id" = '1227') OR ("id" = '1228') OR ("id" = '1229') OR ("id" = '1230') OR ("id" = '1231') OR ("id" = '1232')) ;
2015-11-12 15:55:55	⤷	Erreur dans la requête: ERREUR: UPDATE ou DELETE sur la table « structure » viole la contrainte de clé étrangère
2015-11-12 15:55:55		« catalog_structure_mapping_channel_structure_id_fkey » de la table « structure_mapping »
2015-11-12 15:55:55		DETAIL: La clé (id)=(1140) est toujours référencée à partir de la table « structure_mapping
2015-11-12 15:56:07	gstoffer	Parce que ce n'est pas forcément le comportement que l'on souhaite par défaut
2015-11-12 15:56:40	sebastien.charret	On va se retrouver avec des clef qui ne pointe vers rien dans le cas ou force le delete
2015-11-12 15:57:02	⤷	ou alors il y un moyen simple que je ne connais pas
2015-11-12 15:57:54	gstoffer	En gros, tu tentes de supprimer un diffuseur pour lequel des marchands ont un ou plusieurs flux branchés dessus.
2015-11-12 15:57:54		En production, par exemple, ce n'est pas très propre comme action :simple_smile:
2015-11-12 15:58:51	sebastien.charret	Si tu parles de diffuseurs en tant que structure oui
2015-11-12 15:59:06	⤷	mais pourtant mon approche est concrete
2015-11-12 15:59:30	⤷	je souhaite suppimer mes structures et les leurs references etrangeres
2015-11-12 15:59:31	gstoffer	Oui tu vas conrètement mettre des marchands dans le caca
2015-11-12 16:00:06	sebastien.charret	oui il n'auront plus de reference sur les structures (edited)
2015-11-12 16:00:16	gstoffer	Ce n'est pas bien
2015-11-12 16:00:33	sebastien.charret	Comment agir pour la suppression donc?
2015-11-12 16:00:39	⤷	update??
2015-11-12 16:01:07	gstoffer	Sans doute d'innocentes personnes qui font des tests, se retrouveront avec des erreurs sans savoir d'où ça vient, c'est plutôt sauvage :simple_smile:
2015-11-12 16:01:25	sebastien.charret	Ok je comprends (edited)
2015-11-12 16:01:44	⤷	Mais ma question est comment dois je proceder?
2015-11-12 16:02:05	⤷	je suis donc oblige de passer par un update des données
2015-11-12 16:02:36	⤷	mais a l'heure actuelle le nombre de structure ne correspond pas a la realite
2015-11-12 16:02:47	gstoffer	Tu t'assures que tous les flux branchés sur cette structure ne soient pas utilisés
2015-11-12 16:03:23	sebastien.charret	146...
2015-11-13 09:01:52	⤷	Ce merveilleux Guillaume!!!
2015-11-13 09:02:12	⤷	Tu sais ou est passe la Table Structure Converter?
2015-11-13 09:04:32	gstoffer	Supprimé à la demande de ton boss
2015-11-13 09:04:40	sebastien.charret	Mon boss?
2015-11-13 09:04:53	gstoffer	Thomas
2015-11-13 09:04:58	sebastien.charret	Je suis mon propre maitre :sunglasses:
2015-11-13 09:05:04	gstoffer	XD
2015-11-13 09:05:07	sebastien.charret	ok
2015-11-13 09:05:39	gstoffer	Il avait peur de finir à la rue, parce qu'on on en faisait trop
2015-11-13 09:05:59	⤷	du coup on a coupé net la partie conversion
2015-11-13 09:06:05	sebastien.charret	Elle faiseait quoi?
2015-11-13 09:06:31	gstoffer	ça permettait de convertir un flux dans n'importe quel format diffuseur
2015-11-13 09:06:56	⤷	En gros avec une api on maitrisait la chaine de bout en bout
2015-11-16 11:11:50	sebastien.charret	Select v.label from Field f natural join FieldValue fv
2015-11-16 11:11:50		natural join Value v
2015-11-16 11:11:50		Where idMirakl = '55'
2015-11-16 11:12:07	⤷	-- Select v.label from Field f natural join FieldValue fv
2015-11-16 11:12:07		-- Where idMirakl = '55' AND f.label = 'Couleur' AND fv.idValue IN (Select idValue From Value) as v;
2015-11-16 11:24:56	⤷	http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join
2015-11-16 11:24:56		Difference between natural join and inner join (http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join)
2015-11-16 11:24:56		What is difference between join and natural join please can any one post hear
2015-11-16 11:25:14	⤷	la difference ne se fait que sur le nombre de colonnes retourrnees
2015-11-16 11:25:28	⤷	:confused:
2015-11-16 11:25:51	⤷	je ne vois pas l'impact que cela aurait pu avoir
2015-11-16 11:44:37	⤷	Coucou
2015-11-16 11:44:53	⤷	Reussis tu a rexecuter la requete?
2015-11-16 11:45:06	⤷	Select v.label from Field f inner join FieldValue fv
2015-11-16 11:45:06		inner join Value v
2015-11-16 11:45:06		Where idMirakl = '55' AND f.label = 'Couleur'
2015-11-16 11:45:19	⤷	ok
2015-11-16 11:45:21	⤷	...
2015-11-16 11:45:30	⤷	je viens de voir mon erreur
2015-11-16 11:45:39	⤷	je n'ai rien dit...
2016-01-04 10:47:11	⤷	mailto:g.legall@gmail.com (g.legall@gmail.com)
2016-02-08 10:34:06	⤷	Donc on part sur un champ nomme additionnal properties?
2016-02-08 10:34:12	gstoffer	non
2016-02-08 10:34:24	⤷	on part sur un champ metadata
2016-02-08 10:34:27	sebastien.charret	ok
2016-02-08 10:34:49	gstoffer	on va pas s'emmerder avec un nom à rallonge
2016-02-08 10:34:51	⤷	:smile:
2016-02-08 10:34:58	sebastien.charret	Une idee de quand ca sera mis en prod
2016-02-08 10:35:02	gstoffer	je fais ça après mon point
2016-02-08 10:35:03	sebastien.charret	ou sur inte
2016-02-08 10:35:05	⤷	?
2016-02-08 10:35:08	gstoffer	ce matin
2016-02-08 10:35:08	sebastien.charret	ok
2016-02-08 10:35:14	⤷	merci
2016-02-08 15:54:22	⤷	c'est bon pour le champs? (edited)
2016-04-19 17:57:43	⤷	titi
2016-04-19 17:57:59	⤷	select schema_definition from channel.structure where id = 2810
2016-04-19 17:58:15	⤷	sebastien.charret uploaded a file: https://lengow.slack.com/files/sebastien.charret/F11UBCZ32/.1.xml.swp (.1.xml)
2016-04-19 18:01:42	gstoffer	Je te confirme que c'est le contenu qui est titanesque et inaffichable, j'ai le même problème que toi
2016-04-19 18:02:04	sebastien.charret	ok
2016-04-19 18:02:28	⤷	donc que ce soit par command ou interface web on ne peut pas l'afficher
2016-04-19 18:03:28	gstoffer	Non il faudrait l'exporter dans un fichier ou utiliser autre chose que less (l'éditeur par défaut utilisé par psql)
2015-09-24 17:20:13	gstoffer	Coucou
2015-09-24 17:20:20	sebastien.charret	le repo ou est presente la documentation pour les structures?
2015-09-24 17:20:38	gstoffer	Demande à tes collègues :smile:
2015-09-24 17:20:54	sebastien.charret	??
2015-09-24 17:21:12	⤷	je parle du code de JB
2015-09-24 17:21:30	⤷	puisque que l'on avait pas terminé notre discussion (edited)
2015-09-24 17:21:42	gstoffer	lengow_core
2015-09-24 17:21:44	sebastien.charret	merci (edited)
2015-09-24 17:21:56	gstoffer	Je t'en prie ^^
2015-09-24 17:30:38	sebastien.charret	ERREUR: intervalle litéral mal formé : « tstzrange(now(), NULL)?
2015-09-24 17:30:50	⤷	Do you know it?
2015-09-24 17:31:19	gstoffer	tstzrange(now(), NULL::timestamptz)
2015-09-24 17:31:34	⤷	tstzrange n'admet que des types timestamp
2015-09-24 17:31:54	sebastien.charret	ok mais c'est par default dans la table
2015-09-24 17:36:43	gstoffer	Tu peux m'envoyer ta requête ?
2015-09-24 17:36:49	sebastien.charret	tiens peut etre plus clair
2015-09-24 17:36:51	⤷	INSERT INTO "structure" ("name", "logo", "ngram", "channel_holder_id", "vat_rate", "format", "render_class", "schema_definition", "config_fields", "is_active", "created_at", "updated_at", "common_mapping", "description", "sys_period", "channel_thesaurus_line_id")
2015-09-24 17:36:51		VALUES ('PriceministerV2', 'https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60', NULL, '833', NULL, NULL, NULL, NULL, NULL, '1', now(), now(), NULL, NULL, 'tstzrange(now(), NULL::timestamptz) ', NULL);
2015-09-24 17:36:51		https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60
2015-09-24 17:39:08	gstoffer	Il faut enlever le sys_period de ton insert, c'est auto-géré
2015-09-24 17:39:38	sebastien.charret	Ok peut etre adminer qu'il insere de base
2015-09-24 17:39:47	⤷	car je n'ai rien touché
2015-09-24 17:40:42	gstoffer	Non c'est postgresql qui et temporal tables qui gèrent cette colonne
2015-10-05 14:12:17	sebastien.charret	tu me diras si Julie et toi avez bien recus le doodle?
2015-10-15 10:31:19	gstoffer	http://schemaspy.sourceforge.net/
2015-10-15 10:35:50	sebastien.charret	Merci
2015-10-15 11:35:21	⤷	Une question
2015-10-15 11:35:39	⤷	Tu sais utiliser sublime pour faire des recherche a l'aide de regex? (edited)
2015-10-15 11:36:43	gstoffer	je saurais faire , mais je ne l'ai encore jamais fait
2015-10-15 11:38:22	sebastien.charret	Ok trouver un pattern comme ceci? INSERT INTO lengow_client.client_flux * (nombre arbitraire de mot) set champsCouleur= *(nombre arbitraire de mot)
2015-10-15 11:38:48	gstoffer	faut échapper le = je pense
2015-10-15 11:38:59	⤷	et le .
2015-10-15 11:38:59	sebastien.charret	possible
2015-10-15 11:39:09	⤷	oui c'est vrai (edited)
2015-10-16 16:44:35	⤷	Tu crois qu'il y a moyen de faire plus opti
2015-10-16 16:44:37	⤷	?
2015-10-16 16:44:38	⤷	SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande = "acceptsale" AND (itemstatus = "ACCEPTED" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0" UNION
2015-10-16 16:44:38		SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande IN ("new", "accept") AND (date < "2015-09-10" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0";
2015-10-16 16:44:38		SELECT * from lengow_tracking.API_commande_Priceminister WHERE etatCommande in ("new", "accept", "acceptsale") AND idClient="5201" AND idFlux="105905" AND itemid<>"0"  AND ( date < "2015-09-10" OR itemstatus = "CANCELLED" );
2015-10-16 16:48:18	gstoffer	ça me paraît bien
2015-10-16 16:48:27	sebastien.charret	merci maman
2015-10-16 16:48:40	gstoffer	de rien mon chéri
2015-10-21 17:51:35	sebastien.charret	Coucou (edited)
2015-10-21 17:51:45	⤷	le champs
2015-10-21 17:51:52	⤷	updated_at
2015-10-21 17:52:05	⤷	de order_marketpace_line
2015-10-21 17:52:37	⤷	as tu creer un procedure pour effectuer sa mise a jour lors de son insertion?
2015-10-21 17:53:06	gstoffer	il se peut que non ^^
2015-10-21 17:53:22	sebastien.charret	mais tu devais le faire? ^^ (edited)
2015-10-21 17:53:50	⤷	car sur order_marketplace ca a l'air d'etre le cas
2015-10-21 17:53:54	⤷	ou alors je fabule
2015-10-21 17:54:12	gstoffer	oui c'est faisable :simple_smile:
2015-10-22 11:18:23	sebastien.charret	Coucou
2015-10-22 11:18:33	gstoffer	Hello
2015-10-22 11:18:49	sebastien.charret	db common table country
2015-10-22 11:19:02	⤷	tu sais comment ont ete genere les donnees? (edited)
2015-10-22 11:19:19	⤷	me manque une occurence
2015-10-22 11:19:21	⤷	FX
2015-10-22 11:19:37	⤷	si ca a etait fait a la main je la rajoute
2015-10-22 11:19:49	gstoffer	Non ça n'a pas été fait à la main
2015-10-22 11:19:54	⤷	c'est quoi ce FX
2015-10-22 11:19:56	sebastien.charret	sinon faut comprendre why it is not in there? (edited)
2015-10-22 11:20:44	⤷	fx    France (European Territory)
2015-10-22 11:20:56	gstoffer	C'est obligatoire ?
2015-10-22 11:21:04	sebastien.charret	ben j'ai un client
2015-10-22 11:21:11	⤷	qui l'a renseigne
2015-10-22 11:21:21	⤷	sur une commande price
2015-10-22 11:21:24	gstoffer	Parce que ça ne fait pas partie de la norme ISO-3166-1
2015-10-22 11:21:42	sebastien.charret	Ok je regarde la norme price
2015-10-22 11:21:57	gstoffer	Il est chiant ce client !
2015-10-22 11:22:06	⤷	Il est sur une norme européenne
2015-10-22 11:22:10	sebastien.charret	c'est la MKtp surtout
2015-10-22 11:22:30	gstoffer	Nous on est sur une ISO internationale
2015-10-22 11:24:19	sebastien.charret	Je n'ai rien la dessus
2015-10-22 11:24:25	⤷	(doc)
2015-10-22 11:24:47	gstoffer	wikipedia l'explique très bien
2015-10-22 11:24:56	sebastien.charret	Oui je te crois
2015-10-22 11:25:03	gstoffer	France, Metropolitan    FX, FXX, 249    1993–1997    FXFR    Merged into France (FR, FRA, 250)
2015-10-22 11:25:10	⤷	C'est même périmé
2015-10-22 11:25:14	sebastien.charret	mais je fais quoi avec mon FX? (edited)
2015-10-22 11:25:30	gstoffer	la période de validité se termine en 97
2015-10-22 11:26:05	sebastien.charret	bien alors lol
2015-10-22 11:26:20	⤷	Copyright (c) 1997-2012 Rakuten, Inc. All Rights Reserved.
2015-10-22 11:26:31	⤷	sur le site priceminister
2015-10-22 11:26:52	gstoffer	Ben ils utilisent des normes périmées
2015-10-22 11:26:55	sebastien.charret	soit on trouve une solution
2015-10-22 11:27:07	⤷	soit je dis a RAKUTEN de changer leur norme
2015-10-22 11:27:26	⤷	pour le deuxieme je veux te nommer dans le mail
2015-10-22 11:27:41	gstoffer	ouais dis à Rakuten de changer sa norme moisie
2015-10-22 11:28:06	sebastien.charret	cf l'allocution de Mr Stoffer sur l'utilisation de la norme de Priceminister:
2015-10-22 11:28:10	⤷	'Nah!'
2015-10-22 11:28:27	⤷	Avec ca ils vont pas me le refuser (edited)
2015-10-22 11:28:27	gstoffer	Bah je privilégie un standard plutôt qu'une marketplace
2015-10-22 11:28:59	⤷	Franchement s'ils font de la merde, ce n'est pas à nous de la gober
2015-10-22 11:29:26	⤷	Cela dit, en attendant on peut très bien appliquer le standard en transformant FX en FR
2015-10-22 11:29:28	sebastien.charret	Je vais leur faire part de ton ressentiment
2015-10-22 11:29:43	gstoffer	Je suis sûr qu'ils seront ravis :simple_smile: (edited)
2015-10-22 11:29:50	sebastien.charret	Oui je vais patcher
2015-10-22 11:30:01	⤷	ca va etre beau!
2015-10-22 11:31:23	gstoffer	On va quand même pas aliéner un standard et baiser notre table pour leur beaux yeux ?
2015-10-22 11:31:34	sebastien.charret	amen
2015-10-26 09:48:04	gstoffer	Tu peux venir stp ? :simple_smile:
2015-10-26 10:02:37	sebastien.charret	Tu aurais encore le lien qui atteste que FX est déprécié stp?
2015-10-27 11:44:24	⤷	Coucou
2015-10-27 11:44:32	⤷	Tu as pus faire la procedure?
2015-10-27 11:44:54	gstoffer	C'est en cours :wink:
2015-10-27 11:45:03	sebastien.charret	ok merci :simple_smile:
2015-10-28 16:58:35	⤷	http://www.datanamic.com/schema-change-notifier/
2015-10-28 16:58:53	⤷	http://www.postgresql.org/docs/9.1/static/sql-notify.html
2015-10-28 16:58:56	⤷	bisous
2015-10-28 17:02:16	gstoffer	Je vais potasser la doc, datanamic est payant
2015-10-28 17:02:24	sebastien.charret	arf
2015-10-28 17:02:43	⤷	il doit exister une alternative open source
2015-11-09 09:42:49	⤷	Hello
2015-11-09 09:43:07	⤷	je reviens vers toi pour la creation de BDD test
2015-11-09 09:44:01	gstoffer	Tout à fait :simple_smile:
2015-11-09 09:44:19	sebastien.charret	:simple_smile:
2015-11-09 11:46:48	⤷	http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema
2015-11-09 11:46:48		Django and postgresql testing schema (http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema)
2015-11-09 11:46:48		I'm using PostgreSQL 9.3 and Django 1.7.4 with psycopg2 2.5.4 The DBA, asked us to create a schema for our application instead of using public. We defined the schema, and we had to add the 'OPT...
2015-11-09 11:46:51	⤷	voila le lien
2015-11-09 11:47:48	gstoffer	C'est tout à fait ça
2015-11-09 11:48:01	⤷	Seulement, il n'y a pas de solutions.
2015-11-09 11:48:27	sebastien.charret	en relisant attentivement on vas que pour lui c'est un cas particulier
2015-11-09 11:48:35	⤷	que ca fonctionne avec public
2015-11-09 11:48:47	gstoffer	A partir du modèle, postgresql est incapable de déterminer dans quel schéma doivent être créées les tables
2015-11-09 11:48:57	sebastien.charret	mais que lui veut changer le nom du schema
2015-11-09 11:49:09	gstoffer	De toute façon ça ne peut pas marcher
2015-11-09 11:49:32	⤷	il va te manquer tout ce que l'ORM ne voit pas dans postgresql
2015-11-09 11:50:21	⤷	CUSTOM TYPE, INHERITANCE, TRIGGER, etc
2015-11-09 11:50:35	sebastien.charret	arf
2015-11-09 11:51:02	gstoffer	Tu dois tester sur une base déjà déployé
2015-11-09 11:51:25	⤷	Dans ce contexte, il te faut déporter la création de la BDD en dehors de Django
2015-11-09 11:52:04	sebastien.charret	Je ne vois pas comment faire puisque les tests sont lance pas une commande django
2015-11-09 11:52:33	gstoffer	django devrait permettre de désigner une BDD existante
2015-11-09 11:53:06	sebastien.charret	oui dans les settings
2015-11-09 11:53:26	⤷	nous avons mapper les BDD
2015-11-09 11:53:38	⤷	je ne pense pas que ce soit ce que tu veux dire
2015-11-09 11:53:52	gstoffer	je parle pour l'exécution des tests
2015-11-10 10:03:27	sebastien.charret	tu peux venir stp
2015-11-10 10:03:33	⤷	je vais devenir fou
2015-11-12 15:54:44	⤷	Coucou
2015-11-12 15:54:54	gstoffer	Hello
2015-11-12 15:55:11	sebastien.charret	Pourquoi sur les tables avec des relations fk il n'a pas de ON DELETE CASCADE?
2015-11-12 15:55:46	⤷	DELETE FROM "structure"
2015-11-12 15:55:46		WHERE "name" LIKE '%Priceminister%' AND (("id" = '1140') OR ("id" = '1141') OR ("id" = '1142') OR ("id" = '1143') OR ("id" = '1147') OR ("id" = '1086') OR ("id" = '1144') OR ("id" = '1145') OR ("id" = '1088') OR ("id" = '1146') OR ("id" = '1089') OR ("id" = '1090') OR ("id" = '1091') OR ("id" = '1092') OR ("id" = '1093') OR ("id" = '1094') OR ("id" = '1095') OR ("id" = '1096') OR ("id" = '1097') OR ("id" = '1098') OR ("id" = '1099') OR ("id" = '1100') OR ("id" = '1101') OR ("id" = '1102') OR ("id" = '1103') OR ("id" = '1104') OR ("id" = '1105') OR ("id" = '1106') OR ("id" = '1107') OR ("id" = '1108') OR ("id" = '1109') OR ("id" = '1110') OR ("id" = '1111') OR ("id" = '1112') OR ("id" = '1113') OR ("id" = '1114') OR ("id" = '1115') OR ("id" = '1116') OR ("id" = '1117') OR ("id" = '1118') OR ("id" = '1119') OR ("id" = '1120') OR ("id" = '1121') OR ("id" = '1122') OR ("id" = '1123') OR ("id" = '1124') OR ("id" = '1125') OR ("id" = '1126') OR ("id" = '1127') OR ("id" = '1128') OR ("id" = '1129') OR ("id" = '1130') OR ("id" = '1131') OR ("id" = '1132') OR ("id" = '1133') OR ("id" = '1191') OR ("id" = '1134') OR ("id" = '1135') OR ("id" = '1136') OR ("id" = '1137') OR ("id" = '1138') OR ("id" = '1139') OR ("id" = '1148') OR ("id" = '1149') OR ("id" = '1150') OR ("id" = '1151') OR ("id" = '1152') OR ("id" = '1153') OR ("id" = '1154') OR ("id" = '1155') OR ("id" = '1156') OR ("id" = '1157') OR ("id" = '1158') OR ("id" = '1159') OR ("id" = '1160') OR ("id" = '1161') OR ("id" = '1162') OR ("id" = '1163') OR ("id" = '1164') OR ("id" = '1165') OR ("id" = '1166') OR ("id" = '1167') OR ("id" = '1168') OR ("id" = '1169') OR ("id" = '1170') OR ("id" = '1171') OR ("id" = '1172') OR ("id" = '1173') OR ("id" = '1174') OR ("id" = '1175') OR ("id" = '1181') OR ("id" = '1176') OR ("id" = '1177') OR ("id" = '1178') OR ("id" = '1179') OR ("id" = '1180') OR ("id" = '1182') OR ("id" = '1183') OR ("id" = '1184') OR ("id" = '1185') OR ("id" = '1190') OR ("id" = '1186') OR ("id" = '1187') OR ("id" = '1188') OR ("id" = '1189') OR ("id" = '1192') OR ("id" = '1193') OR ("id" = '1194') OR ("id" = '1195') OR ("id" = '1196') OR ("id" = '1197') OR ("id" = '1198') OR ("id" = '1199') OR ("id" = '1200') OR ("id" = '1210') OR ("id" = '1201') OR ("id" = '1202') OR ("id" = '1203') OR ("id" = '1204') OR ("id" = '1205') OR ("id" = '1206') OR ("id" = '1207') OR ("id" = '1208') OR ("id" = '1209') OR ("id" = '1211') OR ("id" = '1212') OR ("id" = '1213') OR ("id" = '1214') OR ("id" = '1215') OR ("id" = '1216') OR ("id" = '1217') OR ("id" = '1218') OR ("id" = '1219') OR ("id" = '1220') OR ("id" = '1221') OR ("id" = '1222') OR ("id" = '1223') OR ("id" = '1224') OR ("id" = '1225') OR ("id" = '1226') OR ("id" = '1227') OR ("id" = '1228') OR ("id" = '1229') OR ("id" = '1230') OR ("id" = '1231') OR ("id" = '1232')) ;
2015-11-12 15:55:55	⤷	Erreur dans la requête: ERREUR: UPDATE ou DELETE sur la table « structure » viole la contrainte de clé étrangère
2015-11-12 15:55:55		« catalog_structure_mapping_channel_structure_id_fkey » de la table « structure_mapping »
2015-11-12 15:55:55		DETAIL: La clé (id)=(1140) est toujours référencée à partir de la table « structure_mapping
2015-11-12 15:56:07	gstoffer	Parce que ce n'est pas forcément le comportement que l'on souhaite par défaut
2015-11-12 15:56:40	sebastien.charret	On va se retrouver avec des clef qui ne pointe vers rien dans le cas ou force le delete
2015-11-12 15:57:02	⤷	ou alors il y un moyen simple que je ne connais pas
2015-11-12 15:57:54	gstoffer	En gros, tu tentes de supprimer un diffuseur pour lequel des marchands ont un ou plusieurs flux branchés dessus.
2015-11-12 15:57:54		En production, par exemple, ce n'est pas très propre comme action :simple_smile:
2015-11-12 15:58:51	sebastien.charret	Si tu parles de diffuseurs en tant que structure oui
2015-11-12 15:59:06	⤷	mais pourtant mon approche est concrete
2015-11-12 15:59:30	⤷	je souhaite suppimer mes structures et les leurs references etrangeres
2015-11-12 15:59:31	gstoffer	Oui tu vas conrètement mettre des marchands dans le caca
2015-11-12 16:00:06	sebastien.charret	oui il n'auront plus de reference sur les structures (edited)
2015-11-12 16:00:16	gstoffer	Ce n'est pas bien
2015-11-12 16:00:33	sebastien.charret	Comment agir pour la suppression donc?
2015-11-12 16:00:39	⤷	update??
2015-11-12 16:01:07	gstoffer	Sans doute d'innocentes personnes qui font des tests, se retrouveront avec des erreurs sans savoir d'où ça vient, c'est plutôt sauvage :simple_smile:
2015-11-12 16:01:25	sebastien.charret	Ok je comprends (edited)
2015-11-12 16:01:44	⤷	Mais ma question est comment dois je proceder?
2015-11-12 16:02:05	⤷	je suis donc oblige de passer par un update des données
2015-11-12 16:02:36	⤷	mais a l'heure actuelle le nombre de structure ne correspond pas a la realite
2015-11-12 16:02:47	gstoffer	Tu t'assures que tous les flux branchés sur cette structure ne soient pas utilisés
2015-11-12 16:03:23	sebastien.charret	146...
2015-11-13 09:01:52	⤷	Ce merveilleux Guillaume!!!
2015-11-13 09:02:12	⤷	Tu sais ou est passe la Table Structure Converter?
2015-11-13 09:04:32	gstoffer	Supprimé à la demande de ton boss
2015-11-13 09:04:40	sebastien.charret	Mon boss?
2015-11-13 09:04:53	gstoffer	Thomas
2015-11-13 09:04:58	sebastien.charret	Je suis mon propre maitre :sunglasses:
2015-11-13 09:05:04	gstoffer	XD
2015-11-13 09:05:07	sebastien.charret	ok
2015-11-13 09:05:39	gstoffer	Il avait peur de finir à la rue, parce qu'on on en faisait trop
2015-11-13 09:05:59	⤷	du coup on a coupé net la partie conversion
2015-11-13 09:06:05	sebastien.charret	Elle faiseait quoi?
2015-11-13 09:06:31	gstoffer	ça permettait de convertir un flux dans n'importe quel format diffuseur
2015-11-13 09:06:56	⤷	En gros avec une api on maitrisait la chaine de bout en bout
2015-11-16 11:11:50	sebastien.charret	Select v.label from Field f natural join FieldValue fv
2015-11-16 11:11:50		natural join Value v
2015-11-16 11:11:50		Where idMirakl = '55'
2015-11-16 11:12:07	⤷	-- Select v.label from Field f natural join FieldValue fv
2015-11-16 11:12:07		-- Where idMirakl = '55' AND f.label = 'Couleur' AND fv.idValue IN (Select idValue From Value) as v;
2015-11-16 11:24:56	⤷	http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join
2015-11-16 11:24:56		Difference between natural join and inner join (http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join)
2015-11-16 11:24:56		What is difference between join and natural join please can any one post hear
2015-11-16 11:25:14	⤷	la difference ne se fait que sur le nombre de colonnes retourrnees
2015-11-16 11:25:28	⤷	:confused:
2015-11-16 11:25:51	⤷	je ne vois pas l'impact que cela aurait pu avoir
2015-11-16 11:44:37	⤷	Coucou
2015-11-16 11:44:53	⤷	Reussis tu a rexecuter la requete?
2015-11-16 11:45:06	⤷	Select v.label from Field f inner join FieldValue fv
2015-11-16 11:45:06		inner join Value v
2015-11-16 11:45:06		Where idMirakl = '55' AND f.label = 'Couleur'
2015-11-16 11:45:19	⤷	ok
2015-11-16 11:45:21	⤷	...
2015-11-16 11:45:30	⤷	je viens de voir mon erreur
2015-11-16 11:45:39	⤷	je n'ai rien dit...
2016-01-04 10:47:11	⤷	mailto:g.legall@gmail.com (g.legall@gmail.com)
2016-02-08 10:34:06	⤷	Donc on part sur un champ nomme additionnal properties?
2016-02-08 10:34:12	gstoffer	non
2016-02-08 10:34:24	⤷	on part sur un champ metadata
2016-02-08 10:34:27	sebastien.charret	ok
2016-02-08 10:34:49	gstoffer	on va pas s'emmerder avec un nom à rallonge
2016-02-08 10:34:51	⤷	:smile:
2016-02-08 10:34:58	sebastien.charret	Une idee de quand ca sera mis en prod
2016-02-08 10:35:02	gstoffer	je fais ça après mon point
2016-02-08 10:35:03	sebastien.charret	ou sur inte
2016-02-08 10:35:05	⤷	?
2016-02-08 10:35:08	gstoffer	ce matin
2016-02-08 10:35:08	sebastien.charret	ok
2016-02-08 10:35:14	⤷	merci
2016-02-08 15:54:22	⤷	c'est bon pour le champs? (edited)
2016-04-19 17:57:43	⤷	titi
2016-04-19 17:57:59	⤷	select schema_definition from channel.structure where id = 2810
2016-04-19 17:58:15	⤷	sebastien.charret uploaded a file: https://lengow.slack.com/files/sebastien.charret/F11UBCZ32/.1.xml.swp (.1.xml)
2016-04-19 18:01:42	gstoffer	Je te confirme que c'est le contenu qui est titanesque et inaffichable, j'ai le même problème que toi
2016-04-19 18:02:04	sebastien.charret	ok
2016-04-19 18:02:28	⤷	donc que ce soit par command ou interface web on ne peut pas l'afficher
2016-04-19 18:03:28	gstoffer	Non il faudrait l'exporter dans un fichier ou utiliser autre chose que less (l'éditeur par défaut utilisé par psql)
2015-09-24 17:20:13	gstoffer	Coucou
2015-09-24 17:20:20	sebastien.charret	le repo ou est presente la documentation pour les structures?
2015-09-24 17:20:38	gstoffer	Demande à tes collègues :smile:
2015-09-24 17:20:54	sebastien.charret	??
2015-09-24 17:21:12	⤷	je parle du code de JB
2015-09-24 17:21:30	⤷	puisque que l'on avait pas terminé notre discussion (edited)
2015-09-24 17:21:42	gstoffer	lengow_core
2015-09-24 17:21:44	sebastien.charret	merci (edited)
2015-09-24 17:21:56	gstoffer	Je t'en prie ^^
2015-09-24 17:30:38	sebastien.charret	ERREUR: intervalle litéral mal formé : « tstzrange(now(), NULL)?
2015-09-24 17:30:50	⤷	Do you know it?
2015-09-24 17:31:19	gstoffer	tstzrange(now(), NULL::timestamptz)
2015-09-24 17:31:34	⤷	tstzrange n'admet que des types timestamp
2015-09-24 17:31:54	sebastien.charret	ok mais c'est par default dans la table
2015-09-24 17:36:43	gstoffer	Tu peux m'envoyer ta requête ?
2015-09-24 17:36:49	sebastien.charret	tiens peut etre plus clair
2015-09-24 17:36:51	⤷	INSERT INTO "structure" ("name", "logo", "ngram", "channel_holder_id", "vat_rate", "format", "render_class", "schema_definition", "config_fields", "is_active", "created_at", "updated_at", "common_mapping", "description", "sys_period", "channel_thesaurus_line_id")
2015-09-24 17:36:51		VALUES ('PriceministerV2', 'https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60', NULL, '833', NULL, NULL, NULL, NULL, NULL, '1', now(), now(), NULL, NULL, 'tstzrange(now(), NULL::timestamptz) ', NULL);
2015-09-24 17:36:51		https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60
2015-09-24 17:39:08	gstoffer	Il faut enlever le sys_period de ton insert, c'est auto-géré
2015-09-24 17:39:38	sebastien.charret	Ok peut etre adminer qu'il insere de base
2015-09-24 17:39:47	⤷	car je n'ai rien touché
2015-09-24 17:40:42	gstoffer	Non c'est postgresql qui et temporal tables qui gèrent cette colonne
2015-10-05 14:12:17	sebastien.charret	tu me diras si Julie et toi avez bien recus le doodle?
2015-10-15 10:31:19	gstoffer	http://schemaspy.sourceforge.net/
2015-10-15 10:35:50	sebastien.charret	Merci
2015-10-15 11:35:21	⤷	Une question
2015-10-15 11:35:39	⤷	Tu sais utiliser sublime pour faire des recherche a l'aide de regex? (edited)
2015-10-15 11:36:43	gstoffer	je saurais faire , mais je ne l'ai encore jamais fait
2015-10-15 11:38:22	sebastien.charret	Ok trouver un pattern comme ceci? INSERT INTO lengow_client.client_flux * (nombre arbitraire de mot) set champsCouleur= *(nombre arbitraire de mot)
2015-10-15 11:38:48	gstoffer	faut échapper le = je pense
2015-10-15 11:38:59	⤷	et le .
2015-10-15 11:38:59	sebastien.charret	possible
2015-10-15 11:39:09	⤷	oui c'est vrai (edited)
2015-10-16 16:44:35	⤷	Tu crois qu'il y a moyen de faire plus opti
2015-10-16 16:44:37	⤷	?
2015-10-16 16:44:38	⤷	SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande = "acceptsale" AND (itemstatus = "ACCEPTED" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0" UNION
2015-10-16 16:44:38		SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande IN ("new", "accept") AND (date < "2015-09-10" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0";
2015-10-16 16:44:38		SELECT * from lengow_tracking.API_commande_Priceminister WHERE etatCommande in ("new", "accept", "acceptsale") AND idClient="5201" AND idFlux="105905" AND itemid<>"0"  AND ( date < "2015-09-10" OR itemstatus = "CANCELLED" );
2015-10-16 16:48:18	gstoffer	ça me paraît bien
2015-10-16 16:48:27	sebastien.charret	merci maman
2015-10-16 16:48:40	gstoffer	de rien mon chéri
2015-10-21 17:51:35	sebastien.charret	Coucou (edited)
2015-10-21 17:51:45	⤷	le champs
2015-10-21 17:51:52	⤷	updated_at
2015-10-21 17:52:05	⤷	de order_marketpace_line
2015-10-21 17:52:37	⤷	as tu creer un procedure pour effectuer sa mise a jour lors de son insertion?
2015-10-21 17:53:06	gstoffer	il se peut que non ^^
2015-10-21 17:53:22	sebastien.charret	mais tu devais le faire? ^^ (edited)
2015-10-21 17:53:50	⤷	car sur order_marketplace ca a l'air d'etre le cas
2015-10-21 17:53:54	⤷	ou alors je fabule
2015-10-21 17:54:12	gstoffer	oui c'est faisable :simple_smile:
2015-10-22 11:18:23	sebastien.charret	Coucou
2015-10-22 11:18:33	gstoffer	Hello
2015-10-22 11:18:49	sebastien.charret	db common table country
2015-10-22 11:19:02	⤷	tu sais comment ont ete genere les donnees? (edited)
2015-10-22 11:19:19	⤷	me manque une occurence
2015-10-22 11:19:21	⤷	FX
2015-10-22 11:19:37	⤷	si ca a etait fait a la main je la rajoute
2015-10-22 11:19:49	gstoffer	Non ça n'a pas été fait à la main
2015-10-22 11:19:54	⤷	c'est quoi ce FX
2015-10-22 11:19:56	sebastien.charret	sinon faut comprendre why it is not in there? (edited)
2015-10-22 11:20:44	⤷	fx    France (European Territory)
2015-10-22 11:20:56	gstoffer	C'est obligatoire ?
2015-10-22 11:21:04	sebastien.charret	ben j'ai un client
2015-10-22 11:21:11	⤷	qui l'a renseigne
2015-10-22 11:21:21	⤷	sur une commande price
2015-10-22 11:21:24	gstoffer	Parce que ça ne fait pas partie de la norme ISO-3166-1
2015-10-22 11:21:42	sebastien.charret	Ok je regarde la norme price
2015-10-22 11:21:57	gstoffer	Il est chiant ce client !
2015-10-22 11:22:06	⤷	Il est sur une norme européenne
2015-10-22 11:22:10	sebastien.charret	c'est la MKtp surtout
2015-10-22 11:22:30	gstoffer	Nous on est sur une ISO internationale
2015-10-22 11:24:19	sebastien.charret	Je n'ai rien la dessus
2015-10-22 11:24:25	⤷	(doc)
2015-10-22 11:24:47	gstoffer	wikipedia l'explique très bien
2015-10-22 11:24:56	sebastien.charret	Oui je te crois
2015-10-22 11:25:03	gstoffer	France, Metropolitan    FX, FXX, 249    1993–1997    FXFR    Merged into France (FR, FRA, 250)
2015-10-22 11:25:10	⤷	C'est même périmé
2015-10-22 11:25:14	sebastien.charret	mais je fais quoi avec mon FX? (edited)
2015-10-22 11:25:30	gstoffer	la période de validité se termine en 97
2015-10-22 11:26:05	sebastien.charret	bien alors lol
2015-10-22 11:26:20	⤷	Copyright (c) 1997-2012 Rakuten, Inc. All Rights Reserved.
2015-10-22 11:26:31	⤷	sur le site priceminister
2015-10-22 11:26:52	gstoffer	Ben ils utilisent des normes périmées
2015-10-22 11:26:55	sebastien.charret	soit on trouve une solution
2015-10-22 11:27:07	⤷	soit je dis a RAKUTEN de changer leur norme
2015-10-22 11:27:26	⤷	pour le deuxieme je veux te nommer dans le mail
2015-10-22 11:27:41	gstoffer	ouais dis à Rakuten de changer sa norme moisie
2015-10-22 11:28:06	sebastien.charret	cf l'allocution de Mr Stoffer sur l'utilisation de la norme de Priceminister:
2015-10-22 11:28:10	⤷	'Nah!'
2015-10-22 11:28:27	⤷	Avec ca ils vont pas me le refuser (edited)
2015-10-22 11:28:27	gstoffer	Bah je privilégie un standard plutôt qu'une marketplace
2015-10-22 11:28:59	⤷	Franchement s'ils font de la merde, ce n'est pas à nous de la gober
2015-10-22 11:29:26	⤷	Cela dit, en attendant on peut très bien appliquer le standard en transformant FX en FR
2015-10-22 11:29:28	sebastien.charret	Je vais leur faire part de ton ressentiment
2015-10-22 11:29:43	gstoffer	Je suis sûr qu'ils seront ravis :simple_smile: (edited)
2015-10-22 11:29:50	sebastien.charret	Oui je vais patcher
2015-10-22 11:30:01	⤷	ca va etre beau!
2015-10-22 11:31:23	gstoffer	On va quand même pas aliéner un standard et baiser notre table pour leur beaux yeux ?
2015-10-22 11:31:34	sebastien.charret	amen
2015-10-26 09:48:04	gstoffer	Tu peux venir stp ? :simple_smile:
2015-10-26 10:02:37	sebastien.charret	Tu aurais encore le lien qui atteste que FX est déprécié stp?
2015-10-27 11:44:24	⤷	Coucou
2015-10-27 11:44:32	⤷	Tu as pus faire la procedure?
2015-10-27 11:44:54	gstoffer	C'est en cours :wink:
2015-10-27 11:45:03	sebastien.charret	ok merci :simple_smile:
2015-10-28 16:58:35	⤷	http://www.datanamic.com/schema-change-notifier/
2015-10-28 16:58:53	⤷	http://www.postgresql.org/docs/9.1/static/sql-notify.html
2015-10-28 16:58:56	⤷	bisous
2015-10-28 17:02:16	gstoffer	Je vais potasser la doc, datanamic est payant
2015-10-28 17:02:24	sebastien.charret	arf
2015-10-28 17:02:43	⤷	il doit exister une alternative open source
2015-11-09 09:42:49	⤷	Hello
2015-11-09 09:43:07	⤷	je reviens vers toi pour la creation de BDD test
2015-11-09 09:44:01	gstoffer	Tout à fait :simple_smile:
2015-11-09 09:44:19	sebastien.charret	:simple_smile:
2015-11-09 11:46:48	⤷	http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema
2015-11-09 11:46:48		Django and postgresql testing schema (http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema)
2015-11-09 11:46:48		I'm using PostgreSQL 9.3 and Django 1.7.4 with psycopg2 2.5.4 The DBA, asked us to create a schema for our application instead of using public. We defined the schema, and we had to add the 'OPT...
2015-11-09 11:46:51	⤷	voila le lien
2015-11-09 11:47:48	gstoffer	C'est tout à fait ça
2015-11-09 11:48:01	⤷	Seulement, il n'y a pas de solutions.
2015-11-09 11:48:27	sebastien.charret	en relisant attentivement on vas que pour lui c'est un cas particulier
2015-11-09 11:48:35	⤷	que ca fonctionne avec public
2015-11-09 11:48:47	gstoffer	A partir du modèle, postgresql est incapable de déterminer dans quel schéma doivent être créées les tables
2015-11-09 11:48:57	sebastien.charret	mais que lui veut changer le nom du schema
2015-11-09 11:49:09	gstoffer	De toute façon ça ne peut pas marcher
2015-11-09 11:49:32	⤷	il va te manquer tout ce que l'ORM ne voit pas dans postgresql
2015-11-09 11:50:21	⤷	CUSTOM TYPE, INHERITANCE, TRIGGER, etc
2015-11-09 11:50:35	sebastien.charret	arf
2015-11-09 11:51:02	gstoffer	Tu dois tester sur une base déjà déployé
2015-11-09 11:51:25	⤷	Dans ce contexte, il te faut déporter la création de la BDD en dehors de Django
2015-11-09 11:52:04	sebastien.charret	Je ne vois pas comment faire puisque les tests sont lance pas une commande django
2015-11-09 11:52:33	gstoffer	django devrait permettre de désigner une BDD existante
2015-11-09 11:53:06	sebastien.charret	oui dans les settings
2015-11-09 11:53:26	⤷	nous avons mapper les BDD
2015-11-09 11:53:38	⤷	je ne pense pas que ce soit ce que tu veux dire
2015-11-09 11:53:52	gstoffer	je parle pour l'exécution des tests
2015-11-10 10:03:27	sebastien.charret	tu peux venir stp
2015-11-10 10:03:33	⤷	je vais devenir fou
2015-11-12 15:54:44	⤷	Coucou
2015-11-12 15:54:54	gstoffer	Hello
2015-11-12 15:55:11	sebastien.charret	Pourquoi sur les tables avec des relations fk il n'a pas de ON DELETE CASCADE?
2015-11-12 15:55:46	⤷	DELETE FROM "structure"
2015-11-12 15:55:46		WHERE "name" LIKE '%Priceminister%' AND (("id" = '1140') OR ("id" = '1141') OR ("id" = '1142') OR ("id" = '1143') OR ("id" = '1147') OR ("id" = '1086') OR ("id" = '1144') OR ("id" = '1145') OR ("id" = '1088') OR ("id" = '1146') OR ("id" = '1089') OR ("id" = '1090') OR ("id" = '1091') OR ("id" = '1092') OR ("id" = '1093') OR ("id" = '1094') OR ("id" = '1095') OR ("id" = '1096') OR ("id" = '1097') OR ("id" = '1098') OR ("id" = '1099') OR ("id" = '1100') OR ("id" = '1101') OR ("id" = '1102') OR ("id" = '1103') OR ("id" = '1104') OR ("id" = '1105') OR ("id" = '1106') OR ("id" = '1107') OR ("id" = '1108') OR ("id" = '1109') OR ("id" = '1110') OR ("id" = '1111') OR ("id" = '1112') OR ("id" = '1113') OR ("id" = '1114') OR ("id" = '1115') OR ("id" = '1116') OR ("id" = '1117') OR ("id" = '1118') OR ("id" = '1119') OR ("id" = '1120') OR ("id" = '1121') OR ("id" = '1122') OR ("id" = '1123') OR ("id" = '1124') OR ("id" = '1125') OR ("id" = '1126') OR ("id" = '1127') OR ("id" = '1128') OR ("id" = '1129') OR ("id" = '1130') OR ("id" = '1131') OR ("id" = '1132') OR ("id" = '1133') OR ("id" = '1191') OR ("id" = '1134') OR ("id" = '1135') OR ("id" = '1136') OR ("id" = '1137') OR ("id" = '1138') OR ("id" = '1139') OR ("id" = '1148') OR ("id" = '1149') OR ("id" = '1150') OR ("id" = '1151') OR ("id" = '1152') OR ("id" = '1153') OR ("id" = '1154') OR ("id" = '1155') OR ("id" = '1156') OR ("id" = '1157') OR ("id" = '1158') OR ("id" = '1159') OR ("id" = '1160') OR ("id" = '1161') OR ("id" = '1162') OR ("id" = '1163') OR ("id" = '1164') OR ("id" = '1165') OR ("id" = '1166') OR ("id" = '1167') OR ("id" = '1168') OR ("id" = '1169') OR ("id" = '1170') OR ("id" = '1171') OR ("id" = '1172') OR ("id" = '1173') OR ("id" = '1174') OR ("id" = '1175') OR ("id" = '1181') OR ("id" = '1176') OR ("id" = '1177') OR ("id" = '1178') OR ("id" = '1179') OR ("id" = '1180') OR ("id" = '1182') OR ("id" = '1183') OR ("id" = '1184') OR ("id" = '1185') OR ("id" = '1190') OR ("id" = '1186') OR ("id" = '1187') OR ("id" = '1188') OR ("id" = '1189') OR ("id" = '1192') OR ("id" = '1193') OR ("id" = '1194') OR ("id" = '1195') OR ("id" = '1196') OR ("id" = '1197') OR ("id" = '1198') OR ("id" = '1199') OR ("id" = '1200') OR ("id" = '1210') OR ("id" = '1201') OR ("id" = '1202') OR ("id" = '1203') OR ("id" = '1204') OR ("id" = '1205') OR ("id" = '1206') OR ("id" = '1207') OR ("id" = '1208') OR ("id" = '1209') OR ("id" = '1211') OR ("id" = '1212') OR ("id" = '1213') OR ("id" = '1214') OR ("id" = '1215') OR ("id" = '1216') OR ("id" = '1217') OR ("id" = '1218') OR ("id" = '1219') OR ("id" = '1220') OR ("id" = '1221') OR ("id" = '1222') OR ("id" = '1223') OR ("id" = '1224') OR ("id" = '1225') OR ("id" = '1226') OR ("id" = '1227') OR ("id" = '1228') OR ("id" = '1229') OR ("id" = '1230') OR ("id" = '1231') OR ("id" = '1232')) ;
2015-11-12 15:55:55	⤷	Erreur dans la requête: ERREUR: UPDATE ou DELETE sur la table « structure » viole la contrainte de clé étrangère
2015-11-12 15:55:55		« catalog_structure_mapping_channel_structure_id_fkey » de la table « structure_mapping »
2015-11-12 15:55:55		DETAIL: La clé (id)=(1140) est toujours référencée à partir de la table « structure_mapping
2015-11-12 15:56:07	gstoffer	Parce que ce n'est pas forcément le comportement que l'on souhaite par défaut
2015-11-12 15:56:40	sebastien.charret	On va se retrouver avec des clef qui ne pointe vers rien dans le cas ou force le delete
2015-11-12 15:57:02	⤷	ou alors il y un moyen simple que je ne connais pas
2015-11-12 15:57:54	gstoffer	En gros, tu tentes de supprimer un diffuseur pour lequel des marchands ont un ou plusieurs flux branchés dessus.
2015-11-12 15:57:54		En production, par exemple, ce n'est pas très propre comme action :simple_smile:
2015-11-12 15:58:51	sebastien.charret	Si tu parles de diffuseurs en tant que structure oui
2015-11-12 15:59:06	⤷	mais pourtant mon approche est concrete
2015-11-12 15:59:30	⤷	je souhaite suppimer mes structures et les leurs references etrangeres
2015-11-12 15:59:31	gstoffer	Oui tu vas conrètement mettre des marchands dans le caca
2015-11-12 16:00:06	sebastien.charret	oui il n'auront plus de reference sur les structures (edited)
2015-11-12 16:00:16	gstoffer	Ce n'est pas bien
2015-11-12 16:00:33	sebastien.charret	Comment agir pour la suppression donc?
2015-11-12 16:00:39	⤷	update??
2015-11-12 16:01:07	gstoffer	Sans doute d'innocentes personnes qui font des tests, se retrouveront avec des erreurs sans savoir d'où ça vient, c'est plutôt sauvage :simple_smile:
2015-11-12 16:01:25	sebastien.charret	Ok je comprends (edited)
2015-11-12 16:01:44	⤷	Mais ma question est comment dois je proceder?
2015-11-12 16:02:05	⤷	je suis donc oblige de passer par un update des données
2015-11-12 16:02:36	⤷	mais a l'heure actuelle le nombre de structure ne correspond pas a la realite
2015-11-12 16:02:47	gstoffer	Tu t'assures que tous les flux branchés sur cette structure ne soient pas utilisés
2015-11-12 16:03:23	sebastien.charret	146...
2015-11-13 09:01:52	⤷	Ce merveilleux Guillaume!!!
2015-11-13 09:02:12	⤷	Tu sais ou est passe la Table Structure Converter?
2015-11-13 09:04:32	gstoffer	Supprimé à la demande de ton boss
2015-11-13 09:04:40	sebastien.charret	Mon boss?
2015-11-13 09:04:53	gstoffer	Thomas
2015-11-13 09:04:58	sebastien.charret	Je suis mon propre maitre :sunglasses:
2015-11-13 09:05:04	gstoffer	XD
2015-11-13 09:05:07	sebastien.charret	ok
2015-11-13 09:05:39	gstoffer	Il avait peur de finir à la rue, parce qu'on on en faisait trop
2015-11-13 09:05:59	⤷	du coup on a coupé net la partie conversion
2015-11-13 09:06:05	sebastien.charret	Elle faiseait quoi?
2015-11-13 09:06:31	gstoffer	ça permettait de convertir un flux dans n'importe quel format diffuseur
2015-11-13 09:06:56	⤷	En gros avec une api on maitrisait la chaine de bout en bout
2015-11-16 11:11:50	sebastien.charret	Select v.label from Field f natural join FieldValue fv
2015-11-16 11:11:50		natural join Value v
2015-11-16 11:11:50		Where idMirakl = '55'
2015-11-16 11:12:07	⤷	-- Select v.label from Field f natural join FieldValue fv
2015-11-16 11:12:07		-- Where idMirakl = '55' AND f.label = 'Couleur' AND fv.idValue IN (Select idValue From Value) as v;
2015-11-16 11:24:56	⤷	http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join
2015-11-16 11:24:56		Difference between natural join and inner join (http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join)
2015-11-16 11:24:56		What is difference between join and natural join please can any one post hear
2015-11-16 11:25:14	⤷	la difference ne se fait que sur le nombre de colonnes retourrnees
2015-11-16 11:25:28	⤷	:confused:
2015-11-16 11:25:51	⤷	je ne vois pas l'impact que cela aurait pu avoir
2015-11-16 11:44:37	⤷	Coucou
2015-11-16 11:44:53	⤷	Reussis tu a rexecuter la requete?
2015-11-16 11:45:06	⤷	Select v.label from Field f inner join FieldValue fv
2015-11-16 11:45:06		inner join Value v
2015-11-16 11:45:06		Where idMirakl = '55' AND f.label = 'Couleur'
2015-11-16 11:45:19	⤷	ok
2015-11-16 11:45:21	⤷	...
2015-11-16 11:45:30	⤷	je viens de voir mon erreur
2015-11-16 11:45:39	⤷	je n'ai rien dit...
2016-01-04 10:47:11	⤷	mailto:g.legall@gmail.com (g.legall@gmail.com)
2016-02-08 10:34:06	⤷	Donc on part sur un champ nomme additionnal properties?
2016-02-08 10:34:12	gstoffer	non
2016-02-08 10:34:24	⤷	on part sur un champ metadata
2016-02-08 10:34:27	sebastien.charret	ok
2016-02-08 10:34:49	gstoffer	on va pas s'emmerder avec un nom à rallonge
2016-02-08 10:34:51	⤷	:smile:
2016-02-08 10:34:58	sebastien.charret	Une idee de quand ca sera mis en prod
2016-02-08 10:35:02	gstoffer	je fais ça après mon point
2016-02-08 10:35:03	sebastien.charret	ou sur inte
2016-02-08 10:35:05	⤷	?
2016-02-08 10:35:08	gstoffer	ce matin
2016-02-08 10:35:08	sebastien.charret	ok
2016-02-08 10:35:14	⤷	merci
2016-02-08 15:54:22	⤷	c'est bon pour le champs? (edited)
2016-04-19 17:57:43	⤷	titi
2016-04-19 17:57:59	⤷	select schema_definition from channel.structure where id = 2810
2016-04-19 17:58:15	⤷	sebastien.charret uploaded a file: https://lengow.slack.com/files/sebastien.charret/F11UBCZ32/.1.xml.swp (.1.xml)
2016-04-19 18:01:42	gstoffer	Je te confirme que c'est le contenu qui est titanesque et inaffichable, j'ai le même problème que toi
2016-04-19 18:02:04	sebastien.charret	ok
2016-04-19 18:02:28	⤷	donc que ce soit par command ou interface web on ne peut pas l'afficher
2016-04-19 18:03:28	gstoffer	Non il faudrait l'exporter dans un fichier ou utiliser autre chose que less (l'éditeur par défaut utilisé par psql)
2015-09-24 17:20:13	gstoffer	Coucou
2015-09-24 17:20:20	sebastien.charret	le repo ou est presente la documentation pour les structures?
2015-09-24 17:20:38	gstoffer	Demande à tes collègues :smile:
2015-09-24 17:20:54	sebastien.charret	??
2015-09-24 17:21:12	⤷	je parle du code de JB
2015-09-24 17:21:30	⤷	puisque que l'on avait pas terminé notre discussion (edited)
2015-09-24 17:21:42	gstoffer	lengow_core
2015-09-24 17:21:44	sebastien.charret	merci (edited)
2015-09-24 17:21:56	gstoffer	Je t'en prie ^^
2015-09-24 17:30:38	sebastien.charret	ERREUR: intervalle litéral mal formé : « tstzrange(now(), NULL)?
2015-09-24 17:30:50	⤷	Do you know it?
2015-09-24 17:31:19	gstoffer	tstzrange(now(), NULL::timestamptz)
2015-09-24 17:31:34	⤷	tstzrange n'admet que des types timestamp
2015-09-24 17:31:54	sebastien.charret	ok mais c'est par default dans la table
2015-09-24 17:36:43	gstoffer	Tu peux m'envoyer ta requête ?
2015-09-24 17:36:49	sebastien.charret	tiens peut etre plus clair
2015-09-24 17:36:51	⤷	INSERT INTO "structure" ("name", "logo", "ngram", "channel_holder_id", "vat_rate", "format", "render_class", "schema_definition", "config_fields", "is_active", "created_at", "updated_at", "common_mapping", "description", "sys_period", "channel_thesaurus_line_id")
2015-09-24 17:36:51		VALUES ('PriceministerV2', 'https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60', NULL, '833', NULL, NULL, NULL, NULL, NULL, '1', now(), now(), NULL, NULL, 'tstzrange(now(), NULL::timestamptz) ', NULL);
2015-09-24 17:36:51		https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60
2015-09-24 17:39:08	gstoffer	Il faut enlever le sys_period de ton insert, c'est auto-géré
2015-09-24 17:39:38	sebastien.charret	Ok peut etre adminer qu'il insere de base
2015-09-24 17:39:47	⤷	car je n'ai rien touché
2015-09-24 17:40:42	gstoffer	Non c'est postgresql qui et temporal tables qui gèrent cette colonne
2015-10-05 14:12:17	sebastien.charret	tu me diras si Julie et toi avez bien recus le doodle?
2015-10-15 10:31:19	gstoffer	http://schemaspy.sourceforge.net/
2015-10-15 10:35:50	sebastien.charret	Merci
2015-10-15 11:35:21	⤷	Une question
2015-10-15 11:35:39	⤷	Tu sais utiliser sublime pour faire des recherche a l'aide de regex? (edited)
2015-10-15 11:36:43	gstoffer	je saurais faire , mais je ne l'ai encore jamais fait
2015-10-15 11:38:22	sebastien.charret	Ok trouver un pattern comme ceci? INSERT INTO lengow_client.client_flux * (nombre arbitraire de mot) set champsCouleur= *(nombre arbitraire de mot)
2015-10-15 11:38:48	gstoffer	faut échapper le = je pense
2015-10-15 11:38:59	⤷	et le .
2015-10-15 11:38:59	sebastien.charret	possible
2015-10-15 11:39:09	⤷	oui c'est vrai (edited)
2015-10-16 16:44:35	⤷	Tu crois qu'il y a moyen de faire plus opti
2015-10-16 16:44:37	⤷	?
2015-10-16 16:44:38	⤷	SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande = "acceptsale" AND (itemstatus = "ACCEPTED" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0" UNION
2015-10-16 16:44:38		SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande IN ("new", "accept") AND (date < "2015-09-10" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0";
2015-10-16 16:44:38		SELECT * from lengow_tracking.API_commande_Priceminister WHERE etatCommande in ("new", "accept", "acceptsale") AND idClient="5201" AND idFlux="105905" AND itemid<>"0"  AND ( date < "2015-09-10" OR itemstatus = "CANCELLED" );
2015-10-16 16:48:18	gstoffer	ça me paraît bien
2015-10-16 16:48:27	sebastien.charret	merci maman
2015-10-16 16:48:40	gstoffer	de rien mon chéri
2015-10-21 17:51:35	sebastien.charret	Coucou (edited)
2015-10-21 17:51:45	⤷	le champs
2015-10-21 17:51:52	⤷	updated_at
2015-10-21 17:52:05	⤷	de order_marketpace_line
2015-10-21 17:52:37	⤷	as tu creer un procedure pour effectuer sa mise a jour lors de son insertion?
2015-10-21 17:53:06	gstoffer	il se peut que non ^^
2015-10-21 17:53:22	sebastien.charret	mais tu devais le faire? ^^ (edited)
2015-10-21 17:53:50	⤷	car sur order_marketplace ca a l'air d'etre le cas
2015-10-21 17:53:54	⤷	ou alors je fabule
2015-10-21 17:54:12	gstoffer	oui c'est faisable :simple_smile:
2015-10-22 11:18:23	sebastien.charret	Coucou
2015-10-22 11:18:33	gstoffer	Hello
2015-10-22 11:18:49	sebastien.charret	db common table country
2015-10-22 11:19:02	⤷	tu sais comment ont ete genere les donnees? (edited)
2015-10-22 11:19:19	⤷	me manque une occurence
2015-10-22 11:19:21	⤷	FX
2015-10-22 11:19:37	⤷	si ca a etait fait a la main je la rajoute
2015-10-22 11:19:49	gstoffer	Non ça n'a pas été fait à la main
2015-10-22 11:19:54	⤷	c'est quoi ce FX
2015-10-22 11:19:56	sebastien.charret	sinon faut comprendre why it is not in there? (edited)
2015-10-22 11:20:44	⤷	fx    France (European Territory)
2015-10-22 11:20:56	gstoffer	C'est obligatoire ?
2015-10-22 11:21:04	sebastien.charret	ben j'ai un client
2015-10-22 11:21:11	⤷	qui l'a renseigne
2015-10-22 11:21:21	⤷	sur une commande price
2015-10-22 11:21:24	gstoffer	Parce que ça ne fait pas partie de la norme ISO-3166-1
2015-10-22 11:21:42	sebastien.charret	Ok je regarde la norme price
2015-10-22 11:21:57	gstoffer	Il est chiant ce client !
2015-10-22 11:22:06	⤷	Il est sur une norme européenne
2015-10-22 11:22:10	sebastien.charret	c'est la MKtp surtout
2015-10-22 11:22:30	gstoffer	Nous on est sur une ISO internationale
2015-10-22 11:24:19	sebastien.charret	Je n'ai rien la dessus
2015-10-22 11:24:25	⤷	(doc)
2015-10-22 11:24:47	gstoffer	wikipedia l'explique très bien
2015-10-22 11:24:56	sebastien.charret	Oui je te crois
2015-10-22 11:25:03	gstoffer	France, Metropolitan    FX, FXX, 249    1993–1997    FXFR    Merged into France (FR, FRA, 250)
2015-10-22 11:25:10	⤷	C'est même périmé
2015-10-22 11:25:14	sebastien.charret	mais je fais quoi avec mon FX? (edited)
2015-10-22 11:25:30	gstoffer	la période de validité se termine en 97
2015-10-22 11:26:05	sebastien.charret	bien alors lol
2015-10-22 11:26:20	⤷	Copyright (c) 1997-2012 Rakuten, Inc. All Rights Reserved.
2015-10-22 11:26:31	⤷	sur le site priceminister
2015-10-22 11:26:52	gstoffer	Ben ils utilisent des normes périmées
2015-10-22 11:26:55	sebastien.charret	soit on trouve une solution
2015-10-22 11:27:07	⤷	soit je dis a RAKUTEN de changer leur norme
2015-10-22 11:27:26	⤷	pour le deuxieme je veux te nommer dans le mail
2015-10-22 11:27:41	gstoffer	ouais dis à Rakuten de changer sa norme moisie
2015-10-22 11:28:06	sebastien.charret	cf l'allocution de Mr Stoffer sur l'utilisation de la norme de Priceminister:
2015-10-22 11:28:10	⤷	'Nah!'
2015-10-22 11:28:27	⤷	Avec ca ils vont pas me le refuser (edited)
2015-10-22 11:28:27	gstoffer	Bah je privilégie un standard plutôt qu'une marketplace
2015-10-22 11:28:59	⤷	Franchement s'ils font de la merde, ce n'est pas à nous de la gober
2015-10-22 11:29:26	⤷	Cela dit, en attendant on peut très bien appliquer le standard en transformant FX en FR
2015-10-22 11:29:28	sebastien.charret	Je vais leur faire part de ton ressentiment
2015-10-22 11:29:43	gstoffer	Je suis sûr qu'ils seront ravis :simple_smile: (edited)
2015-10-22 11:29:50	sebastien.charret	Oui je vais patcher
2015-10-22 11:30:01	⤷	ca va etre beau!
2015-10-22 11:31:23	gstoffer	On va quand même pas aliéner un standard et baiser notre table pour leur beaux yeux ?
2015-10-22 11:31:34	sebastien.charret	amen
2015-10-26 09:48:04	gstoffer	Tu peux venir stp ? :simple_smile:
2015-10-26 10:02:37	sebastien.charret	Tu aurais encore le lien qui atteste que FX est déprécié stp?
2015-10-27 11:44:24	⤷	Coucou
2015-10-27 11:44:32	⤷	Tu as pus faire la procedure?
2015-10-27 11:44:54	gstoffer	C'est en cours :wink:
2015-10-27 11:45:03	sebastien.charret	ok merci :simple_smile:
2015-10-28 16:58:35	⤷	http://www.datanamic.com/schema-change-notifier/
2015-10-28 16:58:53	⤷	http://www.postgresql.org/docs/9.1/static/sql-notify.html
2015-10-28 16:58:56	⤷	bisous
2015-10-28 17:02:16	gstoffer	Je vais potasser la doc, datanamic est payant
2015-10-28 17:02:24	sebastien.charret	arf
2015-10-28 17:02:43	⤷	il doit exister une alternative open source
2015-11-09 09:42:49	⤷	Hello
2015-11-09 09:43:07	⤷	je reviens vers toi pour la creation de BDD test
2015-11-09 09:44:01	gstoffer	Tout à fait :simple_smile:
2015-11-09 09:44:19	sebastien.charret	:simple_smile:
2015-11-09 11:46:48	⤷	http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema
2015-11-09 11:46:48		Django and postgresql testing schema (http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema)
2015-11-09 11:46:48		I'm using PostgreSQL 9.3 and Django 1.7.4 with psycopg2 2.5.4 The DBA, asked us to create a schema for our application instead of using public. We defined the schema, and we had to add the 'OPT...
2015-11-09 11:46:51	⤷	voila le lien
2015-11-09 11:47:48	gstoffer	C'est tout à fait ça
2015-11-09 11:48:01	⤷	Seulement, il n'y a pas de solutions.
2015-11-09 11:48:27	sebastien.charret	en relisant attentivement on vas que pour lui c'est un cas particulier
2015-11-09 11:48:35	⤷	que ca fonctionne avec public
2015-11-09 11:48:47	gstoffer	A partir du modèle, postgresql est incapable de déterminer dans quel schéma doivent être créées les tables
2015-11-09 11:48:57	sebastien.charret	mais que lui veut changer le nom du schema
2015-11-09 11:49:09	gstoffer	De toute façon ça ne peut pas marcher
2015-11-09 11:49:32	⤷	il va te manquer tout ce que l'ORM ne voit pas dans postgresql
2015-11-09 11:50:21	⤷	CUSTOM TYPE, INHERITANCE, TRIGGER, etc
2015-11-09 11:50:35	sebastien.charret	arf
2015-11-09 11:51:02	gstoffer	Tu dois tester sur une base déjà déployé
2015-11-09 11:51:25	⤷	Dans ce contexte, il te faut déporter la création de la BDD en dehors de Django
2015-11-09 11:52:04	sebastien.charret	Je ne vois pas comment faire puisque les tests sont lance pas une commande django
2015-11-09 11:52:33	gstoffer	django devrait permettre de désigner une BDD existante
2015-11-09 11:53:06	sebastien.charret	oui dans les settings
2015-11-09 11:53:26	⤷	nous avons mapper les BDD
2015-11-09 11:53:38	⤷	je ne pense pas que ce soit ce que tu veux dire
2015-11-09 11:53:52	gstoffer	je parle pour l'exécution des tests
2015-11-10 10:03:27	sebastien.charret	tu peux venir stp
2015-11-10 10:03:33	⤷	je vais devenir fou
2015-11-12 15:54:44	⤷	Coucou
2015-11-12 15:54:54	gstoffer	Hello
2015-11-12 15:55:11	sebastien.charret	Pourquoi sur les tables avec des relations fk il n'a pas de ON DELETE CASCADE?
2015-11-12 15:55:46	⤷	DELETE FROM "structure"
2015-11-12 15:55:46		WHERE "name" LIKE '%Priceminister%' AND (("id" = '1140') OR ("id" = '1141') OR ("id" = '1142') OR ("id" = '1143') OR ("id" = '1147') OR ("id" = '1086') OR ("id" = '1144') OR ("id" = '1145') OR ("id" = '1088') OR ("id" = '1146') OR ("id" = '1089') OR ("id" = '1090') OR ("id" = '1091') OR ("id" = '1092') OR ("id" = '1093') OR ("id" = '1094') OR ("id" = '1095') OR ("id" = '1096') OR ("id" = '1097') OR ("id" = '1098') OR ("id" = '1099') OR ("id" = '1100') OR ("id" = '1101') OR ("id" = '1102') OR ("id" = '1103') OR ("id" = '1104') OR ("id" = '1105') OR ("id" = '1106') OR ("id" = '1107') OR ("id" = '1108') OR ("id" = '1109') OR ("id" = '1110') OR ("id" = '1111') OR ("id" = '1112') OR ("id" = '1113') OR ("id" = '1114') OR ("id" = '1115') OR ("id" = '1116') OR ("id" = '1117') OR ("id" = '1118') OR ("id" = '1119') OR ("id" = '1120') OR ("id" = '1121') OR ("id" = '1122') OR ("id" = '1123') OR ("id" = '1124') OR ("id" = '1125') OR ("id" = '1126') OR ("id" = '1127') OR ("id" = '1128') OR ("id" = '1129') OR ("id" = '1130') OR ("id" = '1131') OR ("id" = '1132') OR ("id" = '1133') OR ("id" = '1191') OR ("id" = '1134') OR ("id" = '1135') OR ("id" = '1136') OR ("id" = '1137') OR ("id" = '1138') OR ("id" = '1139') OR ("id" = '1148') OR ("id" = '1149') OR ("id" = '1150') OR ("id" = '1151') OR ("id" = '1152') OR ("id" = '1153') OR ("id" = '1154') OR ("id" = '1155') OR ("id" = '1156') OR ("id" = '1157') OR ("id" = '1158') OR ("id" = '1159') OR ("id" = '1160') OR ("id" = '1161') OR ("id" = '1162') OR ("id" = '1163') OR ("id" = '1164') OR ("id" = '1165') OR ("id" = '1166') OR ("id" = '1167') OR ("id" = '1168') OR ("id" = '1169') OR ("id" = '1170') OR ("id" = '1171') OR ("id" = '1172') OR ("id" = '1173') OR ("id" = '1174') OR ("id" = '1175') OR ("id" = '1181') OR ("id" = '1176') OR ("id" = '1177') OR ("id" = '1178') OR ("id" = '1179') OR ("id" = '1180') OR ("id" = '1182') OR ("id" = '1183') OR ("id" = '1184') OR ("id" = '1185') OR ("id" = '1190') OR ("id" = '1186') OR ("id" = '1187') OR ("id" = '1188') OR ("id" = '1189') OR ("id" = '1192') OR ("id" = '1193') OR ("id" = '1194') OR ("id" = '1195') OR ("id" = '1196') OR ("id" = '1197') OR ("id" = '1198') OR ("id" = '1199') OR ("id" = '1200') OR ("id" = '1210') OR ("id" = '1201') OR ("id" = '1202') OR ("id" = '1203') OR ("id" = '1204') OR ("id" = '1205') OR ("id" = '1206') OR ("id" = '1207') OR ("id" = '1208') OR ("id" = '1209') OR ("id" = '1211') OR ("id" = '1212') OR ("id" = '1213') OR ("id" = '1214') OR ("id" = '1215') OR ("id" = '1216') OR ("id" = '1217') OR ("id" = '1218') OR ("id" = '1219') OR ("id" = '1220') OR ("id" = '1221') OR ("id" = '1222') OR ("id" = '1223') OR ("id" = '1224') OR ("id" = '1225') OR ("id" = '1226') OR ("id" = '1227') OR ("id" = '1228') OR ("id" = '1229') OR ("id" = '1230') OR ("id" = '1231') OR ("id" = '1232')) ;
2015-11-12 15:55:55	⤷	Erreur dans la requête: ERREUR: UPDATE ou DELETE sur la table « structure » viole la contrainte de clé étrangère
2015-11-12 15:55:55		« catalog_structure_mapping_channel_structure_id_fkey » de la table « structure_mapping »
2015-11-12 15:55:55		DETAIL: La clé (id)=(1140) est toujours référencée à partir de la table « structure_mapping
2015-11-12 15:56:07	gstoffer	Parce que ce n'est pas forcément le comportement que l'on souhaite par défaut
2015-11-12 15:56:40	sebastien.charret	On va se retrouver avec des clef qui ne pointe vers rien dans le cas ou force le delete
2015-11-12 15:57:02	⤷	ou alors il y un moyen simple que je ne connais pas
2015-11-12 15:57:54	gstoffer	En gros, tu tentes de supprimer un diffuseur pour lequel des marchands ont un ou plusieurs flux branchés dessus.
2015-11-12 15:57:54		En production, par exemple, ce n'est pas très propre comme action :simple_smile:
2015-11-12 15:58:51	sebastien.charret	Si tu parles de diffuseurs en tant que structure oui
2015-11-12 15:59:06	⤷	mais pourtant mon approche est concrete
2015-11-12 15:59:30	⤷	je souhaite suppimer mes structures et les leurs references etrangeres
2015-11-12 15:59:31	gstoffer	Oui tu vas conrètement mettre des marchands dans le caca
2015-11-12 16:00:06	sebastien.charret	oui il n'auront plus de reference sur les structures (edited)
2015-11-12 16:00:16	gstoffer	Ce n'est pas bien
2015-11-12 16:00:33	sebastien.charret	Comment agir pour la suppression donc?
2015-11-12 16:00:39	⤷	update??
2015-11-12 16:01:07	gstoffer	Sans doute d'innocentes personnes qui font des tests, se retrouveront avec des erreurs sans savoir d'où ça vient, c'est plutôt sauvage :simple_smile:
2015-11-12 16:01:25	sebastien.charret	Ok je comprends (edited)
2015-11-12 16:01:44	⤷	Mais ma question est comment dois je proceder?
2015-11-12 16:02:05	⤷	je suis donc oblige de passer par un update des données
2015-11-12 16:02:36	⤷	mais a l'heure actuelle le nombre de structure ne correspond pas a la realite
2015-11-12 16:02:47	gstoffer	Tu t'assures que tous les flux branchés sur cette structure ne soient pas utilisés
2015-11-12 16:03:23	sebastien.charret	146...
2015-11-13 09:01:52	⤷	Ce merveilleux Guillaume!!!
2015-11-13 09:02:12	⤷	Tu sais ou est passe la Table Structure Converter?
2015-11-13 09:04:32	gstoffer	Supprimé à la demande de ton boss
2015-11-13 09:04:40	sebastien.charret	Mon boss?
2015-11-13 09:04:53	gstoffer	Thomas
2015-11-13 09:04:58	sebastien.charret	Je suis mon propre maitre :sunglasses:
2015-11-13 09:05:04	gstoffer	XD
2015-11-13 09:05:07	sebastien.charret	ok
2015-11-13 09:05:39	gstoffer	Il avait peur de finir à la rue, parce qu'on on en faisait trop
2015-11-13 09:05:59	⤷	du coup on a coupé net la partie conversion
2015-11-13 09:06:05	sebastien.charret	Elle faiseait quoi?
2015-11-13 09:06:31	gstoffer	ça permettait de convertir un flux dans n'importe quel format diffuseur
2015-11-13 09:06:56	⤷	En gros avec une api on maitrisait la chaine de bout en bout
2015-11-16 11:11:50	sebastien.charret	Select v.label from Field f natural join FieldValue fv
2015-11-16 11:11:50		natural join Value v
2015-11-16 11:11:50		Where idMirakl = '55'
2015-11-16 11:12:07	⤷	-- Select v.label from Field f natural join FieldValue fv
2015-11-16 11:12:07		-- Where idMirakl = '55' AND f.label = 'Couleur' AND fv.idValue IN (Select idValue From Value) as v;
2015-11-16 11:24:56	⤷	http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join
2015-11-16 11:24:56		Difference between natural join and inner join (http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join)
2015-11-16 11:24:56		What is difference between join and natural join please can any one post hear
2015-11-16 11:25:14	⤷	la difference ne se fait que sur le nombre de colonnes retourrnees
2015-11-16 11:25:28	⤷	:confused:
2015-11-16 11:25:51	⤷	je ne vois pas l'impact que cela aurait pu avoir
2015-11-16 11:44:37	⤷	Coucou
2015-11-16 11:44:53	⤷	Reussis tu a rexecuter la requete?
2015-11-16 11:45:06	⤷	Select v.label from Field f inner join FieldValue fv
2015-11-16 11:45:06		inner join Value v
2015-11-16 11:45:06		Where idMirakl = '55' AND f.label = 'Couleur'
2015-11-16 11:45:19	⤷	ok
2015-11-16 11:45:21	⤷	...
2015-11-16 11:45:30	⤷	je viens de voir mon erreur
2015-11-16 11:45:39	⤷	je n'ai rien dit...
2016-01-04 10:47:11	⤷	mailto:g.legall@gmail.com (g.legall@gmail.com)
2016-02-08 10:34:06	⤷	Donc on part sur un champ nomme additionnal properties?
2016-02-08 10:34:12	gstoffer	non
2016-02-08 10:34:24	⤷	on part sur un champ metadata
2016-02-08 10:34:27	sebastien.charret	ok
2016-02-08 10:34:49	gstoffer	on va pas s'emmerder avec un nom à rallonge
2016-02-08 10:34:51	⤷	:smile:
2016-02-08 10:34:58	sebastien.charret	Une idee de quand ca sera mis en prod
2016-02-08 10:35:02	gstoffer	je fais ça après mon point
2016-02-08 10:35:03	sebastien.charret	ou sur inte
2016-02-08 10:35:05	⤷	?
2016-02-08 10:35:08	gstoffer	ce matin
2016-02-08 10:35:08	sebastien.charret	ok
2016-02-08 10:35:14	⤷	merci
2016-02-08 15:54:22	⤷	c'est bon pour le champs? (edited)
2016-04-19 17:57:43	⤷	titi
2016-04-19 17:57:59	⤷	select schema_definition from channel.structure where id = 2810
2016-04-19 17:58:15	⤷	sebastien.charret uploaded a file: https://lengow.slack.com/files/sebastien.charret/F11UBCZ32/.1.xml.swp (.1.xml)
2016-04-19 18:01:42	gstoffer	Je te confirme que c'est le contenu qui est titanesque et inaffichable, j'ai le même problème que toi
2016-04-19 18:02:04	sebastien.charret	ok
2016-04-19 18:02:28	⤷	donc que ce soit par command ou interface web on ne peut pas l'afficher
2016-04-19 18:03:28	gstoffer	Non il faudrait l'exporter dans un fichier ou utiliser autre chose que less (l'éditeur par défaut utilisé par psql)
2015-09-24 17:20:13	gstoffer	Coucou
2015-09-24 17:20:20	sebastien.charret	le repo ou est presente la documentation pour les structures?
2015-09-24 17:20:38	gstoffer	Demande à tes collègues :smile:
2015-09-24 17:20:54	sebastien.charret	??
2015-09-24 17:21:12	⤷	je parle du code de JB
2015-09-24 17:21:30	⤷	puisque que l'on avait pas terminé notre discussion (edited)
2015-09-24 17:21:42	gstoffer	lengow_core
2015-09-24 17:21:44	sebastien.charret	merci (edited)
2015-09-24 17:21:56	gstoffer	Je t'en prie ^^
2015-09-24 17:30:38	sebastien.charret	ERREUR: intervalle litéral mal formé : « tstzrange(now(), NULL)?
2015-09-24 17:30:50	⤷	Do you know it?
2015-09-24 17:31:19	gstoffer	tstzrange(now(), NULL::timestamptz)
2015-09-24 17:31:34	⤷	tstzrange n'admet que des types timestamp
2015-09-24 17:31:54	sebastien.charret	ok mais c'est par default dans la table
2015-09-24 17:36:43	gstoffer	Tu peux m'envoyer ta requête ?
2015-09-24 17:36:49	sebastien.charret	tiens peut etre plus clair
2015-09-24 17:36:51	⤷	INSERT INTO "structure" ("name", "logo", "ngram", "channel_holder_id", "vat_rate", "format", "render_class", "schema_definition", "config_fields", "is_active", "created_at", "updated_at", "common_mapping", "description", "sys_period", "channel_thesaurus_line_id")
2015-09-24 17:36:51		VALUES ('PriceministerV2', 'https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60', NULL, '833', NULL, NULL, NULL, NULL, NULL, '1', now(), now(), NULL, NULL, 'tstzrange(now(), NULL::timestamptz) ', NULL);
2015-09-24 17:36:51		https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60
2015-09-24 17:39:08	gstoffer	Il faut enlever le sys_period de ton insert, c'est auto-géré
2015-09-24 17:39:38	sebastien.charret	Ok peut etre adminer qu'il insere de base
2015-09-24 17:39:47	⤷	car je n'ai rien touché
2015-09-24 17:40:42	gstoffer	Non c'est postgresql qui et temporal tables qui gèrent cette colonne
2015-10-05 14:12:17	sebastien.charret	tu me diras si Julie et toi avez bien recus le doodle?
2015-10-15 10:31:19	gstoffer	http://schemaspy.sourceforge.net/
2015-10-15 10:35:50	sebastien.charret	Merci
2015-10-15 11:35:21	⤷	Une question
2015-10-15 11:35:39	⤷	Tu sais utiliser sublime pour faire des recherche a l'aide de regex? (edited)
2015-10-15 11:36:43	gstoffer	je saurais faire , mais je ne l'ai encore jamais fait
2015-10-15 11:38:22	sebastien.charret	Ok trouver un pattern comme ceci? INSERT INTO lengow_client.client_flux * (nombre arbitraire de mot) set champsCouleur= *(nombre arbitraire de mot)
2015-10-15 11:38:48	gstoffer	faut échapper le = je pense
2015-10-15 11:38:59	⤷	et le .
2015-10-15 11:38:59	sebastien.charret	possible
2015-10-15 11:39:09	⤷	oui c'est vrai (edited)
2015-10-16 16:44:35	⤷	Tu crois qu'il y a moyen de faire plus opti
2015-10-16 16:44:37	⤷	?
2015-10-16 16:44:38	⤷	SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande = "acceptsale" AND (itemstatus = "ACCEPTED" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0" UNION
2015-10-16 16:44:38		SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande IN ("new", "accept") AND (date < "2015-09-10" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0";
2015-10-16 16:44:38		SELECT * from lengow_tracking.API_commande_Priceminister WHERE etatCommande in ("new", "accept", "acceptsale") AND idClient="5201" AND idFlux="105905" AND itemid<>"0"  AND ( date < "2015-09-10" OR itemstatus = "CANCELLED" );
2015-10-16 16:48:18	gstoffer	ça me paraît bien
2015-10-16 16:48:27	sebastien.charret	merci maman
2015-10-16 16:48:40	gstoffer	de rien mon chéri
2015-10-21 17:51:35	sebastien.charret	Coucou (edited)
2015-10-21 17:51:45	⤷	le champs
2015-10-21 17:51:52	⤷	updated_at
2015-10-21 17:52:05	⤷	de order_marketpace_line
2015-10-21 17:52:37	⤷	as tu creer un procedure pour effectuer sa mise a jour lors de son insertion?
2015-10-21 17:53:06	gstoffer	il se peut que non ^^
2015-10-21 17:53:22	sebastien.charret	mais tu devais le faire? ^^ (edited)
2015-10-21 17:53:50	⤷	car sur order_marketplace ca a l'air d'etre le cas
2015-10-21 17:53:54	⤷	ou alors je fabule
2015-10-21 17:54:12	gstoffer	oui c'est faisable :simple_smile:
2015-10-22 11:18:23	sebastien.charret	Coucou
2015-10-22 11:18:33	gstoffer	Hello
2015-10-22 11:18:49	sebastien.charret	db common table country
2015-10-22 11:19:02	⤷	tu sais comment ont ete genere les donnees? (edited)
2015-10-22 11:19:19	⤷	me manque une occurence
2015-10-22 11:19:21	⤷	FX
2015-10-22 11:19:37	⤷	si ca a etait fait a la main je la rajoute
2015-10-22 11:19:49	gstoffer	Non ça n'a pas été fait à la main
2015-10-22 11:19:54	⤷	c'est quoi ce FX
2015-10-22 11:19:56	sebastien.charret	sinon faut comprendre why it is not in there? (edited)
2015-10-22 11:20:44	⤷	fx    France (European Territory)
2015-10-22 11:20:56	gstoffer	C'est obligatoire ?
2015-10-22 11:21:04	sebastien.charret	ben j'ai un client
2015-10-22 11:21:11	⤷	qui l'a renseigne
2015-10-22 11:21:21	⤷	sur une commande price
2015-10-22 11:21:24	gstoffer	Parce que ça ne fait pas partie de la norme ISO-3166-1
2015-10-22 11:21:42	sebastien.charret	Ok je regarde la norme price
2015-10-22 11:21:57	gstoffer	Il est chiant ce client !
2015-10-22 11:22:06	⤷	Il est sur une norme européenne
2015-10-22 11:22:10	sebastien.charret	c'est la MKtp surtout
2015-10-22 11:22:30	gstoffer	Nous on est sur une ISO internationale
2015-10-22 11:24:19	sebastien.charret	Je n'ai rien la dessus
2015-10-22 11:24:25	⤷	(doc)
2015-10-22 11:24:47	gstoffer	wikipedia l'explique très bien
2015-10-22 11:24:56	sebastien.charret	Oui je te crois
2015-10-22 11:25:03	gstoffer	France, Metropolitan    FX, FXX, 249    1993–1997    FXFR    Merged into France (FR, FRA, 250)
2015-10-22 11:25:10	⤷	C'est même périmé
2015-10-22 11:25:14	sebastien.charret	mais je fais quoi avec mon FX? (edited)
2015-10-22 11:25:30	gstoffer	la période de validité se termine en 97
2015-10-22 11:26:05	sebastien.charret	bien alors lol
2015-10-22 11:26:20	⤷	Copyright (c) 1997-2012 Rakuten, Inc. All Rights Reserved.
2015-10-22 11:26:31	⤷	sur le site priceminister
2015-10-22 11:26:52	gstoffer	Ben ils utilisent des normes périmées
2015-10-22 11:26:55	sebastien.charret	soit on trouve une solution
2015-10-22 11:27:07	⤷	soit je dis a RAKUTEN de changer leur norme
2015-10-22 11:27:26	⤷	pour le deuxieme je veux te nommer dans le mail
2015-10-22 11:27:41	gstoffer	ouais dis à Rakuten de changer sa norme moisie
2015-10-22 11:28:06	sebastien.charret	cf l'allocution de Mr Stoffer sur l'utilisation de la norme de Priceminister:
2015-10-22 11:28:10	⤷	'Nah!'
2015-10-22 11:28:27	⤷	Avec ca ils vont pas me le refuser (edited)
2015-10-22 11:28:27	gstoffer	Bah je privilégie un standard plutôt qu'une marketplace
2015-10-22 11:28:59	⤷	Franchement s'ils font de la merde, ce n'est pas à nous de la gober
2015-10-22 11:29:26	⤷	Cela dit, en attendant on peut très bien appliquer le standard en transformant FX en FR
2015-10-22 11:29:28	sebastien.charret	Je vais leur faire part de ton ressentiment
2015-10-22 11:29:43	gstoffer	Je suis sûr qu'ils seront ravis :simple_smile: (edited)
2015-10-22 11:29:50	sebastien.charret	Oui je vais patcher
2015-10-22 11:30:01	⤷	ca va etre beau!
2015-10-22 11:31:23	gstoffer	On va quand même pas aliéner un standard et baiser notre table pour leur beaux yeux ?
2015-10-22 11:31:34	sebastien.charret	amen
2015-10-26 09:48:04	gstoffer	Tu peux venir stp ? :simple_smile:
2015-10-26 10:02:37	sebastien.charret	Tu aurais encore le lien qui atteste que FX est déprécié stp?
2015-10-27 11:44:24	⤷	Coucou
2015-10-27 11:44:32	⤷	Tu as pus faire la procedure?
2015-10-27 11:44:54	gstoffer	C'est en cours :wink:
2015-10-27 11:45:03	sebastien.charret	ok merci :simple_smile:
2015-10-28 16:58:35	⤷	http://www.datanamic.com/schema-change-notifier/
2015-10-28 16:58:53	⤷	http://www.postgresql.org/docs/9.1/static/sql-notify.html
2015-10-28 16:58:56	⤷	bisous
2015-10-28 17:02:16	gstoffer	Je vais potasser la doc, datanamic est payant
2015-10-28 17:02:24	sebastien.charret	arf
2015-10-28 17:02:43	⤷	il doit exister une alternative open source
2015-11-09 09:42:49	⤷	Hello
2015-11-09 09:43:07	⤷	je reviens vers toi pour la creation de BDD test
2015-11-09 09:44:01	gstoffer	Tout à fait :simple_smile:
2015-11-09 09:44:19	sebastien.charret	:simple_smile:
2015-11-09 11:46:48	⤷	http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema
2015-11-09 11:46:48		Django and postgresql testing schema (http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema)
2015-11-09 11:46:48		I'm using PostgreSQL 9.3 and Django 1.7.4 with psycopg2 2.5.4 The DBA, asked us to create a schema for our application instead of using public. We defined the schema, and we had to add the 'OPT...
2015-11-09 11:46:51	⤷	voila le lien
2015-11-09 11:47:48	gstoffer	C'est tout à fait ça
2015-11-09 11:48:01	⤷	Seulement, il n'y a pas de solutions.
2015-11-09 11:48:27	sebastien.charret	en relisant attentivement on vas que pour lui c'est un cas particulier
2015-11-09 11:48:35	⤷	que ca fonctionne avec public
2015-11-09 11:48:47	gstoffer	A partir du modèle, postgresql est incapable de déterminer dans quel schéma doivent être créées les tables
2015-11-09 11:48:57	sebastien.charret	mais que lui veut changer le nom du schema
2015-11-09 11:49:09	gstoffer	De toute façon ça ne peut pas marcher
2015-11-09 11:49:32	⤷	il va te manquer tout ce que l'ORM ne voit pas dans postgresql
2015-11-09 11:50:21	⤷	CUSTOM TYPE, INHERITANCE, TRIGGER, etc
2015-11-09 11:50:35	sebastien.charret	arf
2015-11-09 11:51:02	gstoffer	Tu dois tester sur une base déjà déployé
2015-11-09 11:51:25	⤷	Dans ce contexte, il te faut déporter la création de la BDD en dehors de Django
2015-11-09 11:52:04	sebastien.charret	Je ne vois pas comment faire puisque les tests sont lance pas une commande django
2015-11-09 11:52:33	gstoffer	django devrait permettre de désigner une BDD existante
2015-11-09 11:53:06	sebastien.charret	oui dans les settings
2015-11-09 11:53:26	⤷	nous avons mapper les BDD
2015-11-09 11:53:38	⤷	je ne pense pas que ce soit ce que tu veux dire
2015-11-09 11:53:52	gstoffer	je parle pour l'exécution des tests
2015-11-10 10:03:27	sebastien.charret	tu peux venir stp
2015-11-10 10:03:33	⤷	je vais devenir fou
2015-11-12 15:54:44	⤷	Coucou
2015-11-12 15:54:54	gstoffer	Hello
2015-11-12 15:55:11	sebastien.charret	Pourquoi sur les tables avec des relations fk il n'a pas de ON DELETE CASCADE?
2015-11-12 15:55:46	⤷	DELETE FROM "structure"
2015-11-12 15:55:46		WHERE "name" LIKE '%Priceminister%' AND (("id" = '1140') OR ("id" = '1141') OR ("id" = '1142') OR ("id" = '1143') OR ("id" = '1147') OR ("id" = '1086') OR ("id" = '1144') OR ("id" = '1145') OR ("id" = '1088') OR ("id" = '1146') OR ("id" = '1089') OR ("id" = '1090') OR ("id" = '1091') OR ("id" = '1092') OR ("id" = '1093') OR ("id" = '1094') OR ("id" = '1095') OR ("id" = '1096') OR ("id" = '1097') OR ("id" = '1098') OR ("id" = '1099') OR ("id" = '1100') OR ("id" = '1101') OR ("id" = '1102') OR ("id" = '1103') OR ("id" = '1104') OR ("id" = '1105') OR ("id" = '1106') OR ("id" = '1107') OR ("id" = '1108') OR ("id" = '1109') OR ("id" = '1110') OR ("id" = '1111') OR ("id" = '1112') OR ("id" = '1113') OR ("id" = '1114') OR ("id" = '1115') OR ("id" = '1116') OR ("id" = '1117') OR ("id" = '1118') OR ("id" = '1119') OR ("id" = '1120') OR ("id" = '1121') OR ("id" = '1122') OR ("id" = '1123') OR ("id" = '1124') OR ("id" = '1125') OR ("id" = '1126') OR ("id" = '1127') OR ("id" = '1128') OR ("id" = '1129') OR ("id" = '1130') OR ("id" = '1131') OR ("id" = '1132') OR ("id" = '1133') OR ("id" = '1191') OR ("id" = '1134') OR ("id" = '1135') OR ("id" = '1136') OR ("id" = '1137') OR ("id" = '1138') OR ("id" = '1139') OR ("id" = '1148') OR ("id" = '1149') OR ("id" = '1150') OR ("id" = '1151') OR ("id" = '1152') OR ("id" = '1153') OR ("id" = '1154') OR ("id" = '1155') OR ("id" = '1156') OR ("id" = '1157') OR ("id" = '1158') OR ("id" = '1159') OR ("id" = '1160') OR ("id" = '1161') OR ("id" = '1162') OR ("id" = '1163') OR ("id" = '1164') OR ("id" = '1165') OR ("id" = '1166') OR ("id" = '1167') OR ("id" = '1168') OR ("id" = '1169') OR ("id" = '1170') OR ("id" = '1171') OR ("id" = '1172') OR ("id" = '1173') OR ("id" = '1174') OR ("id" = '1175') OR ("id" = '1181') OR ("id" = '1176') OR ("id" = '1177') OR ("id" = '1178') OR ("id" = '1179') OR ("id" = '1180') OR ("id" = '1182') OR ("id" = '1183') OR ("id" = '1184') OR ("id" = '1185') OR ("id" = '1190') OR ("id" = '1186') OR ("id" = '1187') OR ("id" = '1188') OR ("id" = '1189') OR ("id" = '1192') OR ("id" = '1193') OR ("id" = '1194') OR ("id" = '1195') OR ("id" = '1196') OR ("id" = '1197') OR ("id" = '1198') OR ("id" = '1199') OR ("id" = '1200') OR ("id" = '1210') OR ("id" = '1201') OR ("id" = '1202') OR ("id" = '1203') OR ("id" = '1204') OR ("id" = '1205') OR ("id" = '1206') OR ("id" = '1207') OR ("id" = '1208') OR ("id" = '1209') OR ("id" = '1211') OR ("id" = '1212') OR ("id" = '1213') OR ("id" = '1214') OR ("id" = '1215') OR ("id" = '1216') OR ("id" = '1217') OR ("id" = '1218') OR ("id" = '1219') OR ("id" = '1220') OR ("id" = '1221') OR ("id" = '1222') OR ("id" = '1223') OR ("id" = '1224') OR ("id" = '1225') OR ("id" = '1226') OR ("id" = '1227') OR ("id" = '1228') OR ("id" = '1229') OR ("id" = '1230') OR ("id" = '1231') OR ("id" = '1232')) ;
2015-11-12 15:55:55	⤷	Erreur dans la requête: ERREUR: UPDATE ou DELETE sur la table « structure » viole la contrainte de clé étrangère
2015-11-12 15:55:55		« catalog_structure_mapping_channel_structure_id_fkey » de la table « structure_mapping »
2015-11-12 15:55:55		DETAIL: La clé (id)=(1140) est toujours référencée à partir de la table « structure_mapping
2015-11-12 15:56:07	gstoffer	Parce que ce n'est pas forcément le comportement que l'on souhaite par défaut
2015-11-12 15:56:40	sebastien.charret	On va se retrouver avec des clef qui ne pointe vers rien dans le cas ou force le delete
2015-11-12 15:57:02	⤷	ou alors il y un moyen simple que je ne connais pas
2015-11-12 15:57:54	gstoffer	En gros, tu tentes de supprimer un diffuseur pour lequel des marchands ont un ou plusieurs flux branchés dessus.
2015-11-12 15:57:54		En production, par exemple, ce n'est pas très propre comme action :simple_smile:
2015-11-12 15:58:51	sebastien.charret	Si tu parles de diffuseurs en tant que structure oui
2015-11-12 15:59:06	⤷	mais pourtant mon approche est concrete
2015-11-12 15:59:30	⤷	je souhaite suppimer mes structures et les leurs references etrangeres
2015-11-12 15:59:31	gstoffer	Oui tu vas conrètement mettre des marchands dans le caca
2015-11-12 16:00:06	sebastien.charret	oui il n'auront plus de reference sur les structures (edited)
2015-11-12 16:00:16	gstoffer	Ce n'est pas bien
2015-11-12 16:00:33	sebastien.charret	Comment agir pour la suppression donc?
2015-11-12 16:00:39	⤷	update??
2015-11-12 16:01:07	gstoffer	Sans doute d'innocentes personnes qui font des tests, se retrouveront avec des erreurs sans savoir d'où ça vient, c'est plutôt sauvage :simple_smile:
2015-11-12 16:01:25	sebastien.charret	Ok je comprends (edited)
2015-11-12 16:01:44	⤷	Mais ma question est comment dois je proceder?
2015-11-12 16:02:05	⤷	je suis donc oblige de passer par un update des données
2015-11-12 16:02:36	⤷	mais a l'heure actuelle le nombre de structure ne correspond pas a la realite
2015-11-12 16:02:47	gstoffer	Tu t'assures que tous les flux branchés sur cette structure ne soient pas utilisés
2015-11-12 16:03:23	sebastien.charret	146...
2015-11-13 09:01:52	⤷	Ce merveilleux Guillaume!!!
2015-11-13 09:02:12	⤷	Tu sais ou est passe la Table Structure Converter?
2015-11-13 09:04:32	gstoffer	Supprimé à la demande de ton boss
2015-11-13 09:04:40	sebastien.charret	Mon boss?
2015-11-13 09:04:53	gstoffer	Thomas
2015-11-13 09:04:58	sebastien.charret	Je suis mon propre maitre :sunglasses:
2015-11-13 09:05:04	gstoffer	XD
2015-11-13 09:05:07	sebastien.charret	ok
2015-11-13 09:05:39	gstoffer	Il avait peur de finir à la rue, parce qu'on on en faisait trop
2015-11-13 09:05:59	⤷	du coup on a coupé net la partie conversion
2015-11-13 09:06:05	sebastien.charret	Elle faiseait quoi?
2015-11-13 09:06:31	gstoffer	ça permettait de convertir un flux dans n'importe quel format diffuseur
2015-11-13 09:06:56	⤷	En gros avec une api on maitrisait la chaine de bout en bout
2015-11-16 11:11:50	sebastien.charret	Select v.label from Field f natural join FieldValue fv
2015-11-16 11:11:50		natural join Value v
2015-11-16 11:11:50		Where idMirakl = '55'
2015-11-16 11:12:07	⤷	-- Select v.label from Field f natural join FieldValue fv
2015-11-16 11:12:07		-- Where idMirakl = '55' AND f.label = 'Couleur' AND fv.idValue IN (Select idValue From Value) as v;
2015-11-16 11:24:56	⤷	http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join
2015-11-16 11:24:56		Difference between natural join and inner join (http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join)
2015-11-16 11:24:56		What is difference between join and natural join please can any one post hear
2015-11-16 11:25:14	⤷	la difference ne se fait que sur le nombre de colonnes retourrnees
2015-11-16 11:25:28	⤷	:confused:
2015-11-16 11:25:51	⤷	je ne vois pas l'impact que cela aurait pu avoir
2015-11-16 11:44:37	⤷	Coucou
2015-11-16 11:44:53	⤷	Reussis tu a rexecuter la requete?
2015-11-16 11:45:06	⤷	Select v.label from Field f inner join FieldValue fv
2015-11-16 11:45:06		inner join Value v
2015-11-16 11:45:06		Where idMirakl = '55' AND f.label = 'Couleur'
2015-11-16 11:45:19	⤷	ok
2015-11-16 11:45:21	⤷	...
2015-11-16 11:45:30	⤷	je viens de voir mon erreur
2015-11-16 11:45:39	⤷	je n'ai rien dit...
2016-01-04 10:47:11	⤷	mailto:g.legall@gmail.com (g.legall@gmail.com)
2016-02-08 10:34:06	⤷	Donc on part sur un champ nomme additionnal properties?
2016-02-08 10:34:12	gstoffer	non
2016-02-08 10:34:24	⤷	on part sur un champ metadata
2016-02-08 10:34:27	sebastien.charret	ok
2016-02-08 10:34:49	gstoffer	on va pas s'emmerder avec un nom à rallonge
2016-02-08 10:34:51	⤷	:smile:
2016-02-08 10:34:58	sebastien.charret	Une idee de quand ca sera mis en prod
2016-02-08 10:35:02	gstoffer	je fais ça après mon point
2016-02-08 10:35:03	sebastien.charret	ou sur inte
2016-02-08 10:35:05	⤷	?
2016-02-08 10:35:08	gstoffer	ce matin
2016-02-08 10:35:08	sebastien.charret	ok
2016-02-08 10:35:14	⤷	merci
2016-02-08 15:54:22	⤷	c'est bon pour le champs? (edited)
2016-04-19 17:57:43	⤷	titi
2016-04-19 17:57:59	⤷	select schema_definition from channel.structure where id = 2810
2016-04-19 17:58:15	⤷	sebastien.charret uploaded a file: https://lengow.slack.com/files/sebastien.charret/F11UBCZ32/.1.xml.swp (.1.xml)
2016-04-19 18:01:42	gstoffer	Je te confirme que c'est le contenu qui est titanesque et inaffichable, j'ai le même problème que toi
2016-04-19 18:02:04	sebastien.charret	ok
2016-04-19 18:02:28	⤷	donc que ce soit par command ou interface web on ne peut pas l'afficher
2016-04-19 18:03:28	gstoffer	Non il faudrait l'exporter dans un fichier ou utiliser autre chose que less (l'éditeur par défaut utilisé par psql)
2015-09-24 17:20:13	gstoffer	Coucou
2015-09-24 17:20:20	sebastien.charret	le repo ou est presente la documentation pour les structures?
2015-09-24 17:20:38	gstoffer	Demande à tes collègues :smile:
2015-09-24 17:20:54	sebastien.charret	??
2015-09-24 17:21:12	⤷	je parle du code de JB
2015-09-24 17:21:30	⤷	puisque que l'on avait pas terminé notre discussion (edited)
2015-09-24 17:21:42	gstoffer	lengow_core
2015-09-24 17:21:44	sebastien.charret	merci (edited)
2015-09-24 17:21:56	gstoffer	Je t'en prie ^^
2015-09-24 17:30:38	sebastien.charret	ERREUR: intervalle litéral mal formé : « tstzrange(now(), NULL)?
2015-09-24 17:30:50	⤷	Do you know it?
2015-09-24 17:31:19	gstoffer	tstzrange(now(), NULL::timestamptz)
2015-09-24 17:31:34	⤷	tstzrange n'admet que des types timestamp
2015-09-24 17:31:54	sebastien.charret	ok mais c'est par default dans la table
2015-09-24 17:36:43	gstoffer	Tu peux m'envoyer ta requête ?
2015-09-24 17:36:49	sebastien.charret	tiens peut etre plus clair
2015-09-24 17:36:51	⤷	INSERT INTO "structure" ("name", "logo", "ngram", "channel_holder_id", "vat_rate", "format", "render_class", "schema_definition", "config_fields", "is_active", "created_at", "updated_at", "common_mapping", "description", "sys_period", "channel_thesaurus_line_id")
2015-09-24 17:36:51		VALUES ('PriceministerV2', 'https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60', NULL, '833', NULL, NULL, NULL, NULL, NULL, '1', now(), now(), NULL, NULL, 'tstzrange(now(), NULL::timestamptz) ', NULL);
2015-09-24 17:36:51		https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60
2015-09-24 17:39:08	gstoffer	Il faut enlever le sys_period de ton insert, c'est auto-géré
2015-09-24 17:39:38	sebastien.charret	Ok peut etre adminer qu'il insere de base
2015-09-24 17:39:47	⤷	car je n'ai rien touché
2015-09-24 17:40:42	gstoffer	Non c'est postgresql qui et temporal tables qui gèrent cette colonne
2015-10-05 14:12:17	sebastien.charret	tu me diras si Julie et toi avez bien recus le doodle?
2015-10-15 10:31:19	gstoffer	http://schemaspy.sourceforge.net/
2015-10-15 10:35:50	sebastien.charret	Merci
2015-10-15 11:35:21	⤷	Une question
2015-10-15 11:35:39	⤷	Tu sais utiliser sublime pour faire des recherche a l'aide de regex? (edited)
2015-10-15 11:36:43	gstoffer	je saurais faire , mais je ne l'ai encore jamais fait
2015-10-15 11:38:22	sebastien.charret	Ok trouver un pattern comme ceci? INSERT INTO lengow_client.client_flux * (nombre arbitraire de mot) set champsCouleur= *(nombre arbitraire de mot)
2015-10-15 11:38:48	gstoffer	faut échapper le = je pense
2015-10-15 11:38:59	⤷	et le .
2015-10-15 11:38:59	sebastien.charret	possible
2015-10-15 11:39:09	⤷	oui c'est vrai (edited)
2015-10-16 16:44:35	⤷	Tu crois qu'il y a moyen de faire plus opti
2015-10-16 16:44:37	⤷	?
2015-10-16 16:44:38	⤷	SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande = "acceptsale" AND (itemstatus = "ACCEPTED" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0" UNION
2015-10-16 16:44:38		SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande IN ("new", "accept") AND (date < "2015-09-10" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0";
2015-10-16 16:44:38		SELECT * from lengow_tracking.API_commande_Priceminister WHERE etatCommande in ("new", "accept", "acceptsale") AND idClient="5201" AND idFlux="105905" AND itemid<>"0"  AND ( date < "2015-09-10" OR itemstatus = "CANCELLED" );
2015-10-16 16:48:18	gstoffer	ça me paraît bien
2015-10-16 16:48:27	sebastien.charret	merci maman
2015-10-16 16:48:40	gstoffer	de rien mon chéri
2015-10-21 17:51:35	sebastien.charret	Coucou (edited)
2015-10-21 17:51:45	⤷	le champs
2015-10-21 17:51:52	⤷	updated_at
2015-10-21 17:52:05	⤷	de order_marketpace_line
2015-10-21 17:52:37	⤷	as tu creer un procedure pour effectuer sa mise a jour lors de son insertion?
2015-10-21 17:53:06	gstoffer	il se peut que non ^^
2015-10-21 17:53:22	sebastien.charret	mais tu devais le faire? ^^ (edited)
2015-10-21 17:53:50	⤷	car sur order_marketplace ca a l'air d'etre le cas
2015-10-21 17:53:54	⤷	ou alors je fabule
2015-10-21 17:54:12	gstoffer	oui c'est faisable :simple_smile:
2015-10-22 11:18:23	sebastien.charret	Coucou
2015-10-22 11:18:33	gstoffer	Hello
2015-10-22 11:18:49	sebastien.charret	db common table country
2015-10-22 11:19:02	⤷	tu sais comment ont ete genere les donnees? (edited)
2015-10-22 11:19:19	⤷	me manque une occurence
2015-10-22 11:19:21	⤷	FX
2015-10-22 11:19:37	⤷	si ca a etait fait a la main je la rajoute
2015-10-22 11:19:49	gstoffer	Non ça n'a pas été fait à la main
2015-10-22 11:19:54	⤷	c'est quoi ce FX
2015-10-22 11:19:56	sebastien.charret	sinon faut comprendre why it is not in there? (edited)
2015-10-22 11:20:44	⤷	fx    France (European Territory)
2015-10-22 11:20:56	gstoffer	C'est obligatoire ?
2015-10-22 11:21:04	sebastien.charret	ben j'ai un client
2015-10-22 11:21:11	⤷	qui l'a renseigne
2015-10-22 11:21:21	⤷	sur une commande price
2015-10-22 11:21:24	gstoffer	Parce que ça ne fait pas partie de la norme ISO-3166-1
2015-10-22 11:21:42	sebastien.charret	Ok je regarde la norme price
2015-10-22 11:21:57	gstoffer	Il est chiant ce client !
2015-10-22 11:22:06	⤷	Il est sur une norme européenne
2015-10-22 11:22:10	sebastien.charret	c'est la MKtp surtout
2015-10-22 11:22:30	gstoffer	Nous on est sur une ISO internationale
2015-10-22 11:24:19	sebastien.charret	Je n'ai rien la dessus
2015-10-22 11:24:25	⤷	(doc)
2015-10-22 11:24:47	gstoffer	wikipedia l'explique très bien
2015-10-22 11:24:56	sebastien.charret	Oui je te crois
2015-10-22 11:25:03	gstoffer	France, Metropolitan    FX, FXX, 249    1993–1997    FXFR    Merged into France (FR, FRA, 250)
2015-10-22 11:25:10	⤷	C'est même périmé
2015-10-22 11:25:14	sebastien.charret	mais je fais quoi avec mon FX? (edited)
2015-10-22 11:25:30	gstoffer	la période de validité se termine en 97
2015-10-22 11:26:05	sebastien.charret	bien alors lol
2015-10-22 11:26:20	⤷	Copyright (c) 1997-2012 Rakuten, Inc. All Rights Reserved.
2015-10-22 11:26:31	⤷	sur le site priceminister
2015-10-22 11:26:52	gstoffer	Ben ils utilisent des normes périmées
2015-10-22 11:26:55	sebastien.charret	soit on trouve une solution
2015-10-22 11:27:07	⤷	soit je dis a RAKUTEN de changer leur norme
2015-10-22 11:27:26	⤷	pour le deuxieme je veux te nommer dans le mail
2015-10-22 11:27:41	gstoffer	ouais dis à Rakuten de changer sa norme moisie
2015-10-22 11:28:06	sebastien.charret	cf l'allocution de Mr Stoffer sur l'utilisation de la norme de Priceminister:
2015-10-22 11:28:10	⤷	'Nah!'
2015-10-22 11:28:27	⤷	Avec ca ils vont pas me le refuser (edited)
2015-10-22 11:28:27	gstoffer	Bah je privilégie un standard plutôt qu'une marketplace
2015-10-22 11:28:59	⤷	Franchement s'ils font de la merde, ce n'est pas à nous de la gober
2015-10-22 11:29:26	⤷	Cela dit, en attendant on peut très bien appliquer le standard en transformant FX en FR
2015-10-22 11:29:28	sebastien.charret	Je vais leur faire part de ton ressentiment
2015-10-22 11:29:43	gstoffer	Je suis sûr qu'ils seront ravis :simple_smile: (edited)
2015-10-22 11:29:50	sebastien.charret	Oui je vais patcher
2015-10-22 11:30:01	⤷	ca va etre beau!
2015-10-22 11:31:23	gstoffer	On va quand même pas aliéner un standard et baiser notre table pour leur beaux yeux ?
2015-10-22 11:31:34	sebastien.charret	amen
2015-10-26 09:48:04	gstoffer	Tu peux venir stp ? :simple_smile:
2015-10-26 10:02:37	sebastien.charret	Tu aurais encore le lien qui atteste que FX est déprécié stp?
2015-10-27 11:44:24	⤷	Coucou
2015-10-27 11:44:32	⤷	Tu as pus faire la procedure?
2015-10-27 11:44:54	gstoffer	C'est en cours :wink:
2015-10-27 11:45:03	sebastien.charret	ok merci :simple_smile:
2015-10-28 16:58:35	⤷	http://www.datanamic.com/schema-change-notifier/
2015-10-28 16:58:53	⤷	http://www.postgresql.org/docs/9.1/static/sql-notify.html
2015-10-28 16:58:56	⤷	bisous
2015-10-28 17:02:16	gstoffer	Je vais potasser la doc, datanamic est payant
2015-10-28 17:02:24	sebastien.charret	arf
2015-10-28 17:02:43	⤷	il doit exister une alternative open source
2015-11-09 09:42:49	⤷	Hello
2015-11-09 09:43:07	⤷	je reviens vers toi pour la creation de BDD test
2015-11-09 09:44:01	gstoffer	Tout à fait :simple_smile:
2015-11-09 09:44:19	sebastien.charret	:simple_smile:
2015-11-09 11:46:48	⤷	http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema
2015-11-09 11:46:48		Django and postgresql testing schema (http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema)
2015-11-09 11:46:48		I'm using PostgreSQL 9.3 and Django 1.7.4 with psycopg2 2.5.4 The DBA, asked us to create a schema for our application instead of using public. We defined the schema, and we had to add the 'OPT...
2015-11-09 11:46:51	⤷	voila le lien
2015-11-09 11:47:48	gstoffer	C'est tout à fait ça
2015-11-09 11:48:01	⤷	Seulement, il n'y a pas de solutions.
2015-11-09 11:48:27	sebastien.charret	en relisant attentivement on vas que pour lui c'est un cas particulier
2015-11-09 11:48:35	⤷	que ca fonctionne avec public
2015-11-09 11:48:47	gstoffer	A partir du modèle, postgresql est incapable de déterminer dans quel schéma doivent être créées les tables
2015-11-09 11:48:57	sebastien.charret	mais que lui veut changer le nom du schema
2015-11-09 11:49:09	gstoffer	De toute façon ça ne peut pas marcher
2015-11-09 11:49:32	⤷	il va te manquer tout ce que l'ORM ne voit pas dans postgresql
2015-11-09 11:50:21	⤷	CUSTOM TYPE, INHERITANCE, TRIGGER, etc
2015-11-09 11:50:35	sebastien.charret	arf
2015-11-09 11:51:02	gstoffer	Tu dois tester sur une base déjà déployé
2015-11-09 11:51:25	⤷	Dans ce contexte, il te faut déporter la création de la BDD en dehors de Django
2015-11-09 11:52:04	sebastien.charret	Je ne vois pas comment faire puisque les tests sont lance pas une commande django
2015-11-09 11:52:33	gstoffer	django devrait permettre de désigner une BDD existante
2015-11-09 11:53:06	sebastien.charret	oui dans les settings
2015-11-09 11:53:26	⤷	nous avons mapper les BDD
2015-11-09 11:53:38	⤷	je ne pense pas que ce soit ce que tu veux dire
2015-11-09 11:53:52	gstoffer	je parle pour l'exécution des tests
2015-11-10 10:03:27	sebastien.charret	tu peux venir stp
2015-11-10 10:03:33	⤷	je vais devenir fou
2015-11-12 15:54:44	⤷	Coucou
2015-11-12 15:54:54	gstoffer	Hello
2015-11-12 15:55:11	sebastien.charret	Pourquoi sur les tables avec des relations fk il n'a pas de ON DELETE CASCADE?
2015-11-12 15:55:46	⤷	DELETE FROM "structure"
2015-11-12 15:55:46		WHERE "name" LIKE '%Priceminister%' AND (("id" = '1140') OR ("id" = '1141') OR ("id" = '1142') OR ("id" = '1143') OR ("id" = '1147') OR ("id" = '1086') OR ("id" = '1144') OR ("id" = '1145') OR ("id" = '1088') OR ("id" = '1146') OR ("id" = '1089') OR ("id" = '1090') OR ("id" = '1091') OR ("id" = '1092') OR ("id" = '1093') OR ("id" = '1094') OR ("id" = '1095') OR ("id" = '1096') OR ("id" = '1097') OR ("id" = '1098') OR ("id" = '1099') OR ("id" = '1100') OR ("id" = '1101') OR ("id" = '1102') OR ("id" = '1103') OR ("id" = '1104') OR ("id" = '1105') OR ("id" = '1106') OR ("id" = '1107') OR ("id" = '1108') OR ("id" = '1109') OR ("id" = '1110') OR ("id" = '1111') OR ("id" = '1112') OR ("id" = '1113') OR ("id" = '1114') OR ("id" = '1115') OR ("id" = '1116') OR ("id" = '1117') OR ("id" = '1118') OR ("id" = '1119') OR ("id" = '1120') OR ("id" = '1121') OR ("id" = '1122') OR ("id" = '1123') OR ("id" = '1124') OR ("id" = '1125') OR ("id" = '1126') OR ("id" = '1127') OR ("id" = '1128') OR ("id" = '1129') OR ("id" = '1130') OR ("id" = '1131') OR ("id" = '1132') OR ("id" = '1133') OR ("id" = '1191') OR ("id" = '1134') OR ("id" = '1135') OR ("id" = '1136') OR ("id" = '1137') OR ("id" = '1138') OR ("id" = '1139') OR ("id" = '1148') OR ("id" = '1149') OR ("id" = '1150') OR ("id" = '1151') OR ("id" = '1152') OR ("id" = '1153') OR ("id" = '1154') OR ("id" = '1155') OR ("id" = '1156') OR ("id" = '1157') OR ("id" = '1158') OR ("id" = '1159') OR ("id" = '1160') OR ("id" = '1161') OR ("id" = '1162') OR ("id" = '1163') OR ("id" = '1164') OR ("id" = '1165') OR ("id" = '1166') OR ("id" = '1167') OR ("id" = '1168') OR ("id" = '1169') OR ("id" = '1170') OR ("id" = '1171') OR ("id" = '1172') OR ("id" = '1173') OR ("id" = '1174') OR ("id" = '1175') OR ("id" = '1181') OR ("id" = '1176') OR ("id" = '1177') OR ("id" = '1178') OR ("id" = '1179') OR ("id" = '1180') OR ("id" = '1182') OR ("id" = '1183') OR ("id" = '1184') OR ("id" = '1185') OR ("id" = '1190') OR ("id" = '1186') OR ("id" = '1187') OR ("id" = '1188') OR ("id" = '1189') OR ("id" = '1192') OR ("id" = '1193') OR ("id" = '1194') OR ("id" = '1195') OR ("id" = '1196') OR ("id" = '1197') OR ("id" = '1198') OR ("id" = '1199') OR ("id" = '1200') OR ("id" = '1210') OR ("id" = '1201') OR ("id" = '1202') OR ("id" = '1203') OR ("id" = '1204') OR ("id" = '1205') OR ("id" = '1206') OR ("id" = '1207') OR ("id" = '1208') OR ("id" = '1209') OR ("id" = '1211') OR ("id" = '1212') OR ("id" = '1213') OR ("id" = '1214') OR ("id" = '1215') OR ("id" = '1216') OR ("id" = '1217') OR ("id" = '1218') OR ("id" = '1219') OR ("id" = '1220') OR ("id" = '1221') OR ("id" = '1222') OR ("id" = '1223') OR ("id" = '1224') OR ("id" = '1225') OR ("id" = '1226') OR ("id" = '1227') OR ("id" = '1228') OR ("id" = '1229') OR ("id" = '1230') OR ("id" = '1231') OR ("id" = '1232')) ;
2015-11-12 15:55:55	⤷	Erreur dans la requête: ERREUR: UPDATE ou DELETE sur la table « structure » viole la contrainte de clé étrangère
2015-11-12 15:55:55		« catalog_structure_mapping_channel_structure_id_fkey » de la table « structure_mapping »
2015-11-12 15:55:55		DETAIL: La clé (id)=(1140) est toujours référencée à partir de la table « structure_mapping
2015-11-12 15:56:07	gstoffer	Parce que ce n'est pas forcément le comportement que l'on souhaite par défaut
2015-11-12 15:56:40	sebastien.charret	On va se retrouver avec des clef qui ne pointe vers rien dans le cas ou force le delete
2015-11-12 15:57:02	⤷	ou alors il y un moyen simple que je ne connais pas
2015-11-12 15:57:54	gstoffer	En gros, tu tentes de supprimer un diffuseur pour lequel des marchands ont un ou plusieurs flux branchés dessus.
2015-11-12 15:57:54		En production, par exemple, ce n'est pas très propre comme action :simple_smile:
2015-11-12 15:58:51	sebastien.charret	Si tu parles de diffuseurs en tant que structure oui
2015-11-12 15:59:06	⤷	mais pourtant mon approche est concrete
2015-11-12 15:59:30	⤷	je souhaite suppimer mes structures et les leurs references etrangeres
2015-11-12 15:59:31	gstoffer	Oui tu vas conrètement mettre des marchands dans le caca
2015-11-12 16:00:06	sebastien.charret	oui il n'auront plus de reference sur les structures (edited)
2015-11-12 16:00:16	gstoffer	Ce n'est pas bien
2015-11-12 16:00:33	sebastien.charret	Comment agir pour la suppression donc?
2015-11-12 16:00:39	⤷	update??
2015-11-12 16:01:07	gstoffer	Sans doute d'innocentes personnes qui font des tests, se retrouveront avec des erreurs sans savoir d'où ça vient, c'est plutôt sauvage :simple_smile:
2015-11-12 16:01:25	sebastien.charret	Ok je comprends (edited)
2015-11-12 16:01:44	⤷	Mais ma question est comment dois je proceder?
2015-11-12 16:02:05	⤷	je suis donc oblige de passer par un update des données
2015-11-12 16:02:36	⤷	mais a l'heure actuelle le nombre de structure ne correspond pas a la realite
2015-11-12 16:02:47	gstoffer	Tu t'assures que tous les flux branchés sur cette structure ne soient pas utilisés
2015-11-12 16:03:23	sebastien.charret	146...
2015-11-13 09:01:52	⤷	Ce merveilleux Guillaume!!!
2015-11-13 09:02:12	⤷	Tu sais ou est passe la Table Structure Converter?
2015-11-13 09:04:32	gstoffer	Supprimé à la demande de ton boss
2015-11-13 09:04:40	sebastien.charret	Mon boss?
2015-11-13 09:04:53	gstoffer	Thomas
2015-11-13 09:04:58	sebastien.charret	Je suis mon propre maitre :sunglasses:
2015-11-13 09:05:04	gstoffer	XD
2015-11-13 09:05:07	sebastien.charret	ok
2015-11-13 09:05:39	gstoffer	Il avait peur de finir à la rue, parce qu'on on en faisait trop
2015-11-13 09:05:59	⤷	du coup on a coupé net la partie conversion
2015-11-13 09:06:05	sebastien.charret	Elle faiseait quoi?
2015-11-13 09:06:31	gstoffer	ça permettait de convertir un flux dans n'importe quel format diffuseur
2015-11-13 09:06:56	⤷	En gros avec une api on maitrisait la chaine de bout en bout
2015-11-16 11:11:50	sebastien.charret	Select v.label from Field f natural join FieldValue fv
2015-11-16 11:11:50		natural join Value v
2015-11-16 11:11:50		Where idMirakl = '55'
2015-11-16 11:12:07	⤷	-- Select v.label from Field f natural join FieldValue fv
2015-11-16 11:12:07		-- Where idMirakl = '55' AND f.label = 'Couleur' AND fv.idValue IN (Select idValue From Value) as v;
2015-11-16 11:24:56	⤷	http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join
2015-11-16 11:24:56		Difference between natural join and inner join (http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join)
2015-11-16 11:24:56		What is difference between join and natural join please can any one post hear
2015-11-16 11:25:14	⤷	la difference ne se fait que sur le nombre de colonnes retourrnees
2015-11-16 11:25:28	⤷	:confused:
2015-11-16 11:25:51	⤷	je ne vois pas l'impact que cela aurait pu avoir
2015-11-16 11:44:37	⤷	Coucou
2015-11-16 11:44:53	⤷	Reussis tu a rexecuter la requete?
2015-11-16 11:45:06	⤷	Select v.label from Field f inner join FieldValue fv
2015-11-16 11:45:06		inner join Value v
2015-11-16 11:45:06		Where idMirakl = '55' AND f.label = 'Couleur'
2015-11-16 11:45:19	⤷	ok
2015-11-16 11:45:21	⤷	...
2015-11-16 11:45:30	⤷	je viens de voir mon erreur
2015-11-16 11:45:39	⤷	je n'ai rien dit...
2016-01-04 10:47:11	⤷	mailto:g.legall@gmail.com (g.legall@gmail.com)
2016-02-08 10:34:06	⤷	Donc on part sur un champ nomme additionnal properties?
2016-02-08 10:34:12	gstoffer	non
2016-02-08 10:34:24	⤷	on part sur un champ metadata
2016-02-08 10:34:27	sebastien.charret	ok
2016-02-08 10:34:49	gstoffer	on va pas s'emmerder avec un nom à rallonge
2016-02-08 10:34:51	⤷	:smile:
2016-02-08 10:34:58	sebastien.charret	Une idee de quand ca sera mis en prod
2016-02-08 10:35:02	gstoffer	je fais ça après mon point
2016-02-08 10:35:03	sebastien.charret	ou sur inte
2016-02-08 10:35:05	⤷	?
2016-02-08 10:35:08	gstoffer	ce matin
2016-02-08 10:35:08	sebastien.charret	ok
2016-02-08 10:35:14	⤷	merci
2016-02-08 15:54:22	⤷	c'est bon pour le champs? (edited)
2016-04-19 17:57:43	⤷	titi
2016-04-19 17:57:59	⤷	select schema_definition from channel.structure where id = 2810
2016-04-19 17:58:15	⤷	sebastien.charret uploaded a file: https://lengow.slack.com/files/sebastien.charret/F11UBCZ32/.1.xml.swp (.1.xml)
2016-04-19 18:01:42	gstoffer	Je te confirme que c'est le contenu qui est titanesque et inaffichable, j'ai le même problème que toi
2016-04-19 18:02:04	sebastien.charret	ok
2016-04-19 18:02:28	⤷	donc que ce soit par command ou interface web on ne peut pas l'afficher
2016-04-19 18:03:28	gstoffer	Non il faudrait l'exporter dans un fichier ou utiliser autre chose que less (l'éditeur par défaut utilisé par psql)
2015-09-24 17:20:13	gstoffer	Coucou
2015-09-24 17:20:20	sebastien.charret	le repo ou est presente la documentation pour les structures?
2015-09-24 17:20:38	gstoffer	Demande à tes collègues :smile:
2015-09-24 17:20:54	sebastien.charret	??
2015-09-24 17:21:12	⤷	je parle du code de JB
2015-09-24 17:21:30	⤷	puisque que l'on avait pas terminé notre discussion (edited)
2015-09-24 17:21:42	gstoffer	lengow_core
2015-09-24 17:21:44	sebastien.charret	merci (edited)
2015-09-24 17:21:56	gstoffer	Je t'en prie ^^
2015-09-24 17:30:38	sebastien.charret	ERREUR: intervalle litéral mal formé : « tstzrange(now(), NULL)?
2015-09-24 17:30:50	⤷	Do you know it?
2015-09-24 17:31:19	gstoffer	tstzrange(now(), NULL::timestamptz)
2015-09-24 17:31:34	⤷	tstzrange n'admet que des types timestamp
2015-09-24 17:31:54	sebastien.charret	ok mais c'est par default dans la table
2015-09-24 17:36:43	gstoffer	Tu peux m'envoyer ta requête ?
2015-09-24 17:36:49	sebastien.charret	tiens peut etre plus clair
2015-09-24 17:36:51	⤷	INSERT INTO "structure" ("name", "logo", "ngram", "channel_holder_id", "vat_rate", "format", "render_class", "schema_definition", "config_fields", "is_active", "created_at", "updated_at", "common_mapping", "description", "sys_period", "channel_thesaurus_line_id")
2015-09-24 17:36:51		VALUES ('PriceministerV2', 'https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60', NULL, '833', NULL, NULL, NULL, NULL, NULL, '1', now(), now(), NULL, NULL, 'tstzrange(now(), NULL::timestamptz) ', NULL);
2015-09-24 17:36:51		https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60
2015-09-24 17:39:08	gstoffer	Il faut enlever le sys_period de ton insert, c'est auto-géré
2015-09-24 17:39:38	sebastien.charret	Ok peut etre adminer qu'il insere de base
2015-09-24 17:39:47	⤷	car je n'ai rien touché
2015-09-24 17:40:42	gstoffer	Non c'est postgresql qui et temporal tables qui gèrent cette colonne
2015-10-05 14:12:17	sebastien.charret	tu me diras si Julie et toi avez bien recus le doodle?
2015-10-15 10:31:19	gstoffer	http://schemaspy.sourceforge.net/
2015-10-15 10:35:50	sebastien.charret	Merci
2015-10-15 11:35:21	⤷	Une question
2015-10-15 11:35:39	⤷	Tu sais utiliser sublime pour faire des recherche a l'aide de regex? (edited)
2015-10-15 11:36:43	gstoffer	je saurais faire , mais je ne l'ai encore jamais fait
2015-10-15 11:38:22	sebastien.charret	Ok trouver un pattern comme ceci? INSERT INTO lengow_client.client_flux * (nombre arbitraire de mot) set champsCouleur= *(nombre arbitraire de mot)
2015-10-15 11:38:48	gstoffer	faut échapper le = je pense
2015-10-15 11:38:59	⤷	et le .
2015-10-15 11:38:59	sebastien.charret	possible
2015-10-15 11:39:09	⤷	oui c'est vrai (edited)
2015-10-16 16:44:35	⤷	Tu crois qu'il y a moyen de faire plus opti
2015-10-16 16:44:37	⤷	?
2015-10-16 16:44:38	⤷	SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande = "acceptsale" AND (itemstatus = "ACCEPTED" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0" UNION
2015-10-16 16:44:38		SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande IN ("new", "accept") AND (date < "2015-09-10" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0";
2015-10-16 16:44:38		SELECT * from lengow_tracking.API_commande_Priceminister WHERE etatCommande in ("new", "accept", "acceptsale") AND idClient="5201" AND idFlux="105905" AND itemid<>"0"  AND ( date < "2015-09-10" OR itemstatus = "CANCELLED" );
2015-10-16 16:48:18	gstoffer	ça me paraît bien
2015-10-16 16:48:27	sebastien.charret	merci maman
2015-10-16 16:48:40	gstoffer	de rien mon chéri
2015-10-21 17:51:35	sebastien.charret	Coucou (edited)
2015-10-21 17:51:45	⤷	le champs
2015-10-21 17:51:52	⤷	updated_at
2015-10-21 17:52:05	⤷	de order_marketpace_line
2015-10-21 17:52:37	⤷	as tu creer un procedure pour effectuer sa mise a jour lors de son insertion?
2015-10-21 17:53:06	gstoffer	il se peut que non ^^
2015-10-21 17:53:22	sebastien.charret	mais tu devais le faire? ^^ (edited)
2015-10-21 17:53:50	⤷	car sur order_marketplace ca a l'air d'etre le cas
2015-10-21 17:53:54	⤷	ou alors je fabule
2015-10-21 17:54:12	gstoffer	oui c'est faisable :simple_smile:
2015-10-22 11:18:23	sebastien.charret	Coucou
2015-10-22 11:18:33	gstoffer	Hello
2015-10-22 11:18:49	sebastien.charret	db common table country
2015-10-22 11:19:02	⤷	tu sais comment ont ete genere les donnees? (edited)
2015-10-22 11:19:19	⤷	me manque une occurence
2015-10-22 11:19:21	⤷	FX
2015-10-22 11:19:37	⤷	si ca a etait fait a la main je la rajoute
2015-10-22 11:19:49	gstoffer	Non ça n'a pas été fait à la main
2015-10-22 11:19:54	⤷	c'est quoi ce FX
2015-10-22 11:19:56	sebastien.charret	sinon faut comprendre why it is not in there? (edited)
2015-10-22 11:20:44	⤷	fx    France (European Territory)
2015-10-22 11:20:56	gstoffer	C'est obligatoire ?
2015-10-22 11:21:04	sebastien.charret	ben j'ai un client
2015-10-22 11:21:11	⤷	qui l'a renseigne
2015-10-22 11:21:21	⤷	sur une commande price
2015-10-22 11:21:24	gstoffer	Parce que ça ne fait pas partie de la norme ISO-3166-1
2015-10-22 11:21:42	sebastien.charret	Ok je regarde la norme price
2015-10-22 11:21:57	gstoffer	Il est chiant ce client !
2015-10-22 11:22:06	⤷	Il est sur une norme européenne
2015-10-22 11:22:10	sebastien.charret	c'est la MKtp surtout
2015-10-22 11:22:30	gstoffer	Nous on est sur une ISO internationale
2015-10-22 11:24:19	sebastien.charret	Je n'ai rien la dessus
2015-10-22 11:24:25	⤷	(doc)
2015-10-22 11:24:47	gstoffer	wikipedia l'explique très bien
2015-10-22 11:24:56	sebastien.charret	Oui je te crois
2015-10-22 11:25:03	gstoffer	France, Metropolitan    FX, FXX, 249    1993–1997    FXFR    Merged into France (FR, FRA, 250)
2015-10-22 11:25:10	⤷	C'est même périmé
2015-10-22 11:25:14	sebastien.charret	mais je fais quoi avec mon FX? (edited)
2015-10-22 11:25:30	gstoffer	la période de validité se termine en 97
2015-10-22 11:26:05	sebastien.charret	bien alors lol
2015-10-22 11:26:20	⤷	Copyright (c) 1997-2012 Rakuten, Inc. All Rights Reserved.
2015-10-22 11:26:31	⤷	sur le site priceminister
2015-10-22 11:26:52	gstoffer	Ben ils utilisent des normes périmées
2015-10-22 11:26:55	sebastien.charret	soit on trouve une solution
2015-10-22 11:27:07	⤷	soit je dis a RAKUTEN de changer leur norme
2015-10-22 11:27:26	⤷	pour le deuxieme je veux te nommer dans le mail
2015-10-22 11:27:41	gstoffer	ouais dis à Rakuten de changer sa norme moisie
2015-10-22 11:28:06	sebastien.charret	cf l'allocution de Mr Stoffer sur l'utilisation de la norme de Priceminister:
2015-10-22 11:28:10	⤷	'Nah!'
2015-10-22 11:28:27	⤷	Avec ca ils vont pas me le refuser (edited)
2015-10-22 11:28:27	gstoffer	Bah je privilégie un standard plutôt qu'une marketplace
2015-10-22 11:28:59	⤷	Franchement s'ils font de la merde, ce n'est pas à nous de la gober
2015-10-22 11:29:26	⤷	Cela dit, en attendant on peut très bien appliquer le standard en transformant FX en FR
2015-10-22 11:29:28	sebastien.charret	Je vais leur faire part de ton ressentiment
2015-10-22 11:29:43	gstoffer	Je suis sûr qu'ils seront ravis :simple_smile: (edited)
2015-10-22 11:29:50	sebastien.charret	Oui je vais patcher
2015-10-22 11:30:01	⤷	ca va etre beau!
2015-10-22 11:31:23	gstoffer	On va quand même pas aliéner un standard et baiser notre table pour leur beaux yeux ?
2015-10-22 11:31:34	sebastien.charret	amen
2015-10-26 09:48:04	gstoffer	Tu peux venir stp ? :simple_smile:
2015-10-26 10:02:37	sebastien.charret	Tu aurais encore le lien qui atteste que FX est déprécié stp?
2015-10-27 11:44:24	⤷	Coucou
2015-10-27 11:44:32	⤷	Tu as pus faire la procedure?
2015-10-27 11:44:54	gstoffer	C'est en cours :wink:
2015-10-27 11:45:03	sebastien.charret	ok merci :simple_smile:
2015-10-28 16:58:35	⤷	http://www.datanamic.com/schema-change-notifier/
2015-10-28 16:58:53	⤷	http://www.postgresql.org/docs/9.1/static/sql-notify.html
2015-10-28 16:58:56	⤷	bisous
2015-10-28 17:02:16	gstoffer	Je vais potasser la doc, datanamic est payant
2015-10-28 17:02:24	sebastien.charret	arf
2015-10-28 17:02:43	⤷	il doit exister une alternative open source
2015-11-09 09:42:49	⤷	Hello
2015-11-09 09:43:07	⤷	je reviens vers toi pour la creation de BDD test
2015-11-09 09:44:01	gstoffer	Tout à fait :simple_smile:
2015-11-09 09:44:19	sebastien.charret	:simple_smile:
2015-11-09 11:46:48	⤷	http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema
2015-11-09 11:46:48		Django and postgresql testing schema (http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema)
2015-11-09 11:46:48		I'm using PostgreSQL 9.3 and Django 1.7.4 with psycopg2 2.5.4 The DBA, asked us to create a schema for our application instead of using public. We defined the schema, and we had to add the 'OPT...
2015-11-09 11:46:51	⤷	voila le lien
2015-11-09 11:47:48	gstoffer	C'est tout à fait ça
2015-11-09 11:48:01	⤷	Seulement, il n'y a pas de solutions.
2015-11-09 11:48:27	sebastien.charret	en relisant attentivement on vas que pour lui c'est un cas particulier
2015-11-09 11:48:35	⤷	que ca fonctionne avec public
2015-11-09 11:48:47	gstoffer	A partir du modèle, postgresql est incapable de déterminer dans quel schéma doivent être créées les tables
2015-11-09 11:48:57	sebastien.charret	mais que lui veut changer le nom du schema
2015-11-09 11:49:09	gstoffer	De toute façon ça ne peut pas marcher
2015-11-09 11:49:32	⤷	il va te manquer tout ce que l'ORM ne voit pas dans postgresql
2015-11-09 11:50:21	⤷	CUSTOM TYPE, INHERITANCE, TRIGGER, etc
2015-11-09 11:50:35	sebastien.charret	arf
2015-11-09 11:51:02	gstoffer	Tu dois tester sur une base déjà déployé
2015-11-09 11:51:25	⤷	Dans ce contexte, il te faut déporter la création de la BDD en dehors de Django
2015-11-09 11:52:04	sebastien.charret	Je ne vois pas comment faire puisque les tests sont lance pas une commande django
2015-11-09 11:52:33	gstoffer	django devrait permettre de désigner une BDD existante
2015-11-09 11:53:06	sebastien.charret	oui dans les settings
2015-11-09 11:53:26	⤷	nous avons mapper les BDD
2015-11-09 11:53:38	⤷	je ne pense pas que ce soit ce que tu veux dire
2015-11-09 11:53:52	gstoffer	je parle pour l'exécution des tests
2015-11-10 10:03:27	sebastien.charret	tu peux venir stp
2015-11-10 10:03:33	⤷	je vais devenir fou
2015-11-12 15:54:44	⤷	Coucou
2015-11-12 15:54:54	gstoffer	Hello
2015-11-12 15:55:11	sebastien.charret	Pourquoi sur les tables avec des relations fk il n'a pas de ON DELETE CASCADE?
2015-11-12 15:55:46	⤷	DELETE FROM "structure"
2015-11-12 15:55:46		WHERE "name" LIKE '%Priceminister%' AND (("id" = '1140') OR ("id" = '1141') OR ("id" = '1142') OR ("id" = '1143') OR ("id" = '1147') OR ("id" = '1086') OR ("id" = '1144') OR ("id" = '1145') OR ("id" = '1088') OR ("id" = '1146') OR ("id" = '1089') OR ("id" = '1090') OR ("id" = '1091') OR ("id" = '1092') OR ("id" = '1093') OR ("id" = '1094') OR ("id" = '1095') OR ("id" = '1096') OR ("id" = '1097') OR ("id" = '1098') OR ("id" = '1099') OR ("id" = '1100') OR ("id" = '1101') OR ("id" = '1102') OR ("id" = '1103') OR ("id" = '1104') OR ("id" = '1105') OR ("id" = '1106') OR ("id" = '1107') OR ("id" = '1108') OR ("id" = '1109') OR ("id" = '1110') OR ("id" = '1111') OR ("id" = '1112') OR ("id" = '1113') OR ("id" = '1114') OR ("id" = '1115') OR ("id" = '1116') OR ("id" = '1117') OR ("id" = '1118') OR ("id" = '1119') OR ("id" = '1120') OR ("id" = '1121') OR ("id" = '1122') OR ("id" = '1123') OR ("id" = '1124') OR ("id" = '1125') OR ("id" = '1126') OR ("id" = '1127') OR ("id" = '1128') OR ("id" = '1129') OR ("id" = '1130') OR ("id" = '1131') OR ("id" = '1132') OR ("id" = '1133') OR ("id" = '1191') OR ("id" = '1134') OR ("id" = '1135') OR ("id" = '1136') OR ("id" = '1137') OR ("id" = '1138') OR ("id" = '1139') OR ("id" = '1148') OR ("id" = '1149') OR ("id" = '1150') OR ("id" = '1151') OR ("id" = '1152') OR ("id" = '1153') OR ("id" = '1154') OR ("id" = '1155') OR ("id" = '1156') OR ("id" = '1157') OR ("id" = '1158') OR ("id" = '1159') OR ("id" = '1160') OR ("id" = '1161') OR ("id" = '1162') OR ("id" = '1163') OR ("id" = '1164') OR ("id" = '1165') OR ("id" = '1166') OR ("id" = '1167') OR ("id" = '1168') OR ("id" = '1169') OR ("id" = '1170') OR ("id" = '1171') OR ("id" = '1172') OR ("id" = '1173') OR ("id" = '1174') OR ("id" = '1175') OR ("id" = '1181') OR ("id" = '1176') OR ("id" = '1177') OR ("id" = '1178') OR ("id" = '1179') OR ("id" = '1180') OR ("id" = '1182') OR ("id" = '1183') OR ("id" = '1184') OR ("id" = '1185') OR ("id" = '1190') OR ("id" = '1186') OR ("id" = '1187') OR ("id" = '1188') OR ("id" = '1189') OR ("id" = '1192') OR ("id" = '1193') OR ("id" = '1194') OR ("id" = '1195') OR ("id" = '1196') OR ("id" = '1197') OR ("id" = '1198') OR ("id" = '1199') OR ("id" = '1200') OR ("id" = '1210') OR ("id" = '1201') OR ("id" = '1202') OR ("id" = '1203') OR ("id" = '1204') OR ("id" = '1205') OR ("id" = '1206') OR ("id" = '1207') OR ("id" = '1208') OR ("id" = '1209') OR ("id" = '1211') OR ("id" = '1212') OR ("id" = '1213') OR ("id" = '1214') OR ("id" = '1215') OR ("id" = '1216') OR ("id" = '1217') OR ("id" = '1218') OR ("id" = '1219') OR ("id" = '1220') OR ("id" = '1221') OR ("id" = '1222') OR ("id" = '1223') OR ("id" = '1224') OR ("id" = '1225') OR ("id" = '1226') OR ("id" = '1227') OR ("id" = '1228') OR ("id" = '1229') OR ("id" = '1230') OR ("id" = '1231') OR ("id" = '1232')) ;
2015-11-12 15:55:55	⤷	Erreur dans la requête: ERREUR: UPDATE ou DELETE sur la table « structure » viole la contrainte de clé étrangère
2015-11-12 15:55:55		« catalog_structure_mapping_channel_structure_id_fkey » de la table « structure_mapping »
2015-11-12 15:55:55		DETAIL: La clé (id)=(1140) est toujours référencée à partir de la table « structure_mapping
2015-11-12 15:56:07	gstoffer	Parce que ce n'est pas forcément le comportement que l'on souhaite par défaut
2015-11-12 15:56:40	sebastien.charret	On va se retrouver avec des clef qui ne pointe vers rien dans le cas ou force le delete
2015-11-12 15:57:02	⤷	ou alors il y un moyen simple que je ne connais pas
2015-11-12 15:57:54	gstoffer	En gros, tu tentes de supprimer un diffuseur pour lequel des marchands ont un ou plusieurs flux branchés dessus.
2015-11-12 15:57:54		En production, par exemple, ce n'est pas très propre comme action :simple_smile:
2015-11-12 15:58:51	sebastien.charret	Si tu parles de diffuseurs en tant que structure oui
2015-11-12 15:59:06	⤷	mais pourtant mon approche est concrete
2015-11-12 15:59:30	⤷	je souhaite suppimer mes structures et les leurs references etrangeres
2015-11-12 15:59:31	gstoffer	Oui tu vas conrètement mettre des marchands dans le caca
2015-11-12 16:00:06	sebastien.charret	oui il n'auront plus de reference sur les structures (edited)
2015-11-12 16:00:16	gstoffer	Ce n'est pas bien
2015-11-12 16:00:33	sebastien.charret	Comment agir pour la suppression donc?
2015-11-12 16:00:39	⤷	update??
2015-11-12 16:01:07	gstoffer	Sans doute d'innocentes personnes qui font des tests, se retrouveront avec des erreurs sans savoir d'où ça vient, c'est plutôt sauvage :simple_smile:
2015-11-12 16:01:25	sebastien.charret	Ok je comprends (edited)
2015-11-12 16:01:44	⤷	Mais ma question est comment dois je proceder?
2015-11-12 16:02:05	⤷	je suis donc oblige de passer par un update des données
2015-11-12 16:02:36	⤷	mais a l'heure actuelle le nombre de structure ne correspond pas a la realite
2015-11-12 16:02:47	gstoffer	Tu t'assures que tous les flux branchés sur cette structure ne soient pas utilisés
2015-11-12 16:03:23	sebastien.charret	146...
2015-11-13 09:01:52	⤷	Ce merveilleux Guillaume!!!
2015-11-13 09:02:12	⤷	Tu sais ou est passe la Table Structure Converter?
2015-11-13 09:04:32	gstoffer	Supprimé à la demande de ton boss
2015-11-13 09:04:40	sebastien.charret	Mon boss?
2015-11-13 09:04:53	gstoffer	Thomas
2015-11-13 09:04:58	sebastien.charret	Je suis mon propre maitre :sunglasses:
2015-11-13 09:05:04	gstoffer	XD
2015-11-13 09:05:07	sebastien.charret	ok
2015-11-13 09:05:39	gstoffer	Il avait peur de finir à la rue, parce qu'on on en faisait trop
2015-11-13 09:05:59	⤷	du coup on a coupé net la partie conversion
2015-11-13 09:06:05	sebastien.charret	Elle faiseait quoi?
2015-11-13 09:06:31	gstoffer	ça permettait de convertir un flux dans n'importe quel format diffuseur
2015-11-13 09:06:56	⤷	En gros avec une api on maitrisait la chaine de bout en bout
2015-11-16 11:11:50	sebastien.charret	Select v.label from Field f natural join FieldValue fv
2015-11-16 11:11:50		natural join Value v
2015-11-16 11:11:50		Where idMirakl = '55'
2015-11-16 11:12:07	⤷	-- Select v.label from Field f natural join FieldValue fv
2015-11-16 11:12:07		-- Where idMirakl = '55' AND f.label = 'Couleur' AND fv.idValue IN (Select idValue From Value) as v;
2015-11-16 11:24:56	⤷	http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join
2015-11-16 11:24:56		Difference between natural join and inner join (http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join)
2015-11-16 11:24:56		What is difference between join and natural join please can any one post hear
2015-11-16 11:25:14	⤷	la difference ne se fait que sur le nombre de colonnes retourrnees
2015-11-16 11:25:28	⤷	:confused:
2015-11-16 11:25:51	⤷	je ne vois pas l'impact que cela aurait pu avoir
2015-11-16 11:44:37	⤷	Coucou
2015-11-16 11:44:53	⤷	Reussis tu a rexecuter la requete?
2015-11-16 11:45:06	⤷	Select v.label from Field f inner join FieldValue fv
2015-11-16 11:45:06		inner join Value v
2015-11-16 11:45:06		Where idMirakl = '55' AND f.label = 'Couleur'
2015-11-16 11:45:19	⤷	ok
2015-11-16 11:45:21	⤷	...
2015-11-16 11:45:30	⤷	je viens de voir mon erreur
2015-11-16 11:45:39	⤷	je n'ai rien dit...
2016-01-04 10:47:11	⤷	mailto:g.legall@gmail.com (g.legall@gmail.com)
2016-02-08 10:34:06	⤷	Donc on part sur un champ nomme additionnal properties?
2016-02-08 10:34:12	gstoffer	non
2016-02-08 10:34:24	⤷	on part sur un champ metadata
2016-02-08 10:34:27	sebastien.charret	ok
2016-02-08 10:34:49	gstoffer	on va pas s'emmerder avec un nom à rallonge
2016-02-08 10:34:51	⤷	:smile:
2016-02-08 10:34:58	sebastien.charret	Une idee de quand ca sera mis en prod
2016-02-08 10:35:02	gstoffer	je fais ça après mon point
2016-02-08 10:35:03	sebastien.charret	ou sur inte
2016-02-08 10:35:05	⤷	?
2016-02-08 10:35:08	gstoffer	ce matin
2016-02-08 10:35:08	sebastien.charret	ok
2016-02-08 10:35:14	⤷	merci
2016-02-08 15:54:22	⤷	c'est bon pour le champs? (edited)
2016-04-19 17:57:43	⤷	titi
2016-04-19 17:57:59	⤷	select schema_definition from channel.structure where id = 2810
2016-04-19 17:58:15	⤷	sebastien.charret uploaded a file: https://lengow.slack.com/files/sebastien.charret/F11UBCZ32/.1.xml.swp (.1.xml)
2016-04-19 18:01:42	gstoffer	Je te confirme que c'est le contenu qui est titanesque et inaffichable, j'ai le même problème que toi
2016-04-19 18:02:04	sebastien.charret	ok
2016-04-19 18:02:28	⤷	donc que ce soit par command ou interface web on ne peut pas l'afficher
2016-04-19 18:03:28	gstoffer	Non il faudrait l'exporter dans un fichier ou utiliser autre chose que less (l'éditeur par défaut utilisé par psql)
2016-04-25 10:04:45	sebastien.charret	https://soundcloud.com/ward-iz/interstellar-theme-ward-iz-remake
2016-04-25 10:04:48	⤷	enjoy
2016-04-25 10:05:25	⤷	https://soundcloud.com/oerin
2016-04-25 10:05:41	gstoffer	Top merci :simple_smile:
2015-09-24 17:31:19	gstoffer	tstzrange(now(), NULL::timestamptz)
2015-09-24 17:31:34	⤷	tstzrange n'admet que des types timestamp
2015-09-24 17:31:54	sebastien.charret	ok mais c'est par default dans la table
2015-09-24 17:36:43	gstoffer	Tu peux m'envoyer ta requête ?
2015-09-24 17:36:49	sebastien.charret	tiens peut etre plus clair
2015-09-24 17:36:51	⤷	INSERT INTO "structure" ("name", "logo", "ngram", "channel_holder_id", "vat_rate", "format", "render_class", "schema_definition", "config_fields", "is_active", "created_at", "updated_at", "common_mapping", "description", "sys_period", "channel_thesaurus_line_id")
2015-09-24 17:36:51		VALUES ('PriceministerV2', 'https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60', NULL, '833', NULL, NULL, NULL, NULL, NULL, '1', now(), now(), NULL, NULL, 'tstzrange(now(), NULL::timestamptz) ', NULL);
2015-09-24 17:36:51		https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60
2015-09-24 17:39:08	gstoffer	Il faut enlever le sys_period de ton insert, c'est auto-géré
2015-09-24 17:39:38	sebastien.charret	Ok peut etre adminer qu'il insere de base
2015-09-24 17:39:47	⤷	car je n'ai rien touché
2015-09-24 17:40:42	gstoffer	Non c'est postgresql qui et temporal tables qui gèrent cette colonne
2015-10-05 14:12:17	sebastien.charret	tu me diras si Julie et toi avez bien recus le doodle?
2015-10-15 10:31:19	gstoffer	http://schemaspy.sourceforge.net/
2015-10-15 10:35:50	sebastien.charret	Merci
2015-10-15 11:35:21	⤷	Une question
2015-10-15 11:35:39	⤷	Tu sais utiliser sublime pour faire des recherche a l'aide de regex? (edited)
2015-10-15 11:36:43	gstoffer	je saurais faire , mais je ne l'ai encore jamais fait
2015-10-15 11:38:22	sebastien.charret	Ok trouver un pattern comme ceci? INSERT INTO lengow_client.client_flux * (nombre arbitraire de mot) set champsCouleur= *(nombre arbitraire de mot)
2015-10-15 11:38:48	gstoffer	faut échapper le = je pense
2015-10-15 11:38:59	⤷	et le .
2015-10-15 11:38:59	sebastien.charret	possible
2015-10-15 11:39:09	⤷	oui c'est vrai (edited)
2015-10-16 16:44:35	⤷	Tu crois qu'il y a moyen de faire plus opti
2015-10-16 16:44:37	⤷	?
2015-10-16 16:44:38	⤷	SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande = "acceptsale" AND (itemstatus = "ACCEPTED" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0" UNION
2015-10-16 16:44:38		SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande IN ("new", "accept") AND (date < "2015-09-10" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0";
2015-10-16 16:44:38		SELECT * from lengow_tracking.API_commande_Priceminister WHERE etatCommande in ("new", "accept", "acceptsale") AND idClient="5201" AND idFlux="105905" AND itemid<>"0"  AND ( date < "2015-09-10" OR itemstatus = "CANCELLED" );
2015-10-16 16:48:18	gstoffer	ça me paraît bien
2015-10-16 16:48:27	sebastien.charret	merci maman
2015-10-16 16:48:40	gstoffer	de rien mon chéri
2015-10-21 17:51:35	sebastien.charret	Coucou (edited)
2015-10-21 17:51:45	⤷	le champs
2015-10-21 17:51:52	⤷	updated_at
2015-10-21 17:52:05	⤷	de order_marketpace_line
2015-10-21 17:52:37	⤷	as tu creer un procedure pour effectuer sa mise a jour lors de son insertion?
2015-10-21 17:53:06	gstoffer	il se peut que non ^^
2015-10-21 17:53:22	sebastien.charret	mais tu devais le faire? ^^ (edited)
2015-10-21 17:53:50	⤷	car sur order_marketplace ca a l'air d'etre le cas
2015-10-21 17:53:54	⤷	ou alors je fabule
2015-10-21 17:54:12	gstoffer	oui c'est faisable :simple_smile:
2015-10-22 11:18:23	sebastien.charret	Coucou
2015-10-22 11:18:33	gstoffer	Hello
2015-10-22 11:18:49	sebastien.charret	db common table country
2015-10-22 11:19:02	⤷	tu sais comment ont ete genere les donnees? (edited)
2015-10-22 11:19:19	⤷	me manque une occurence
2015-10-22 11:19:21	⤷	FX
2015-10-22 11:19:37	⤷	si ca a etait fait a la main je la rajoute
2015-10-22 11:19:49	gstoffer	Non ça n'a pas été fait à la main
2015-10-22 11:19:54	⤷	c'est quoi ce FX
2015-10-22 11:19:56	sebastien.charret	sinon faut comprendre why it is not in there? (edited)
2015-10-22 11:20:44	⤷	fx    France (European Territory)
2015-10-22 11:20:56	gstoffer	C'est obligatoire ?
2015-10-22 11:21:04	sebastien.charret	ben j'ai un client
2015-10-22 11:21:11	⤷	qui l'a renseigne
2015-10-22 11:21:21	⤷	sur une commande price
2015-10-22 11:21:24	gstoffer	Parce que ça ne fait pas partie de la norme ISO-3166-1
2015-10-22 11:21:42	sebastien.charret	Ok je regarde la norme price
2015-10-22 11:21:57	gstoffer	Il est chiant ce client !
2015-10-22 11:22:06	⤷	Il est sur une norme européenne
2015-10-22 11:22:10	sebastien.charret	c'est la MKtp surtout
2015-10-22 11:22:30	gstoffer	Nous on est sur une ISO internationale
2015-10-22 11:24:19	sebastien.charret	Je n'ai rien la dessus
2015-10-22 11:24:25	⤷	(doc)
2015-10-22 11:24:47	gstoffer	wikipedia l'explique très bien
2015-10-22 11:24:56	sebastien.charret	Oui je te crois
2015-10-22 11:25:03	gstoffer	France, Metropolitan    FX, FXX, 249    1993–1997    FXFR    Merged into France (FR, FRA, 250)
2015-10-22 11:25:10	⤷	C'est même périmé
2015-10-22 11:25:14	sebastien.charret	mais je fais quoi avec mon FX? (edited)
2015-10-22 11:25:30	gstoffer	la période de validité se termine en 97
2015-10-22 11:26:05	sebastien.charret	bien alors lol
2015-10-22 11:26:20	⤷	Copyright (c) 1997-2012 Rakuten, Inc. All Rights Reserved.
2015-10-22 11:26:31	⤷	sur le site priceminister
2015-10-22 11:26:52	gstoffer	Ben ils utilisent des normes périmées
2015-10-22 11:26:55	sebastien.charret	soit on trouve une solution
2015-10-22 11:27:07	⤷	soit je dis a RAKUTEN de changer leur norme
2015-10-22 11:27:26	⤷	pour le deuxieme je veux te nommer dans le mail
2015-10-22 11:27:41	gstoffer	ouais dis à Rakuten de changer sa norme moisie
2015-10-22 11:28:06	sebastien.charret	cf l'allocution de Mr Stoffer sur l'utilisation de la norme de Priceminister:
2015-10-22 11:28:10	⤷	'Nah!'
2015-10-22 11:28:27	⤷	Avec ca ils vont pas me le refuser (edited)
2015-10-22 11:28:27	gstoffer	Bah je privilégie un standard plutôt qu'une marketplace
2015-10-22 11:28:59	⤷	Franchement s'ils font de la merde, ce n'est pas à nous de la gober
2015-10-22 11:29:26	⤷	Cela dit, en attendant on peut très bien appliquer le standard en transformant FX en FR
2015-10-22 11:29:28	sebastien.charret	Je vais leur faire part de ton ressentiment
2015-10-22 11:29:43	gstoffer	Je suis sûr qu'ils seront ravis :simple_smile: (edited)
2015-10-22 11:29:50	sebastien.charret	Oui je vais patcher
2015-10-22 11:30:01	⤷	ca va etre beau!
2015-10-22 11:31:23	gstoffer	On va quand même pas aliéner un standard et baiser notre table pour leur beaux yeux ?
2015-10-22 11:31:34	sebastien.charret	amen
2015-10-26 09:48:04	gstoffer	Tu peux venir stp ? :simple_smile:
2015-10-26 10:02:37	sebastien.charret	Tu aurais encore le lien qui atteste que FX est déprécié stp?
2015-10-27 11:44:24	⤷	Coucou
2015-10-27 11:44:32	⤷	Tu as pus faire la procedure?
2015-10-27 11:44:54	gstoffer	C'est en cours :wink:
2015-10-27 11:45:03	sebastien.charret	ok merci :simple_smile:
2015-10-28 16:58:35	⤷	http://www.datanamic.com/schema-change-notifier/
2015-10-28 16:58:53	⤷	http://www.postgresql.org/docs/9.1/static/sql-notify.html
2015-10-28 16:58:56	⤷	bisous
2015-10-28 17:02:16	gstoffer	Je vais potasser la doc, datanamic est payant
2015-10-28 17:02:24	sebastien.charret	arf
2015-10-28 17:02:43	⤷	il doit exister une alternative open source
2015-11-09 09:42:49	⤷	Hello
2015-11-09 09:43:07	⤷	je reviens vers toi pour la creation de BDD test
2015-11-09 09:44:01	gstoffer	Tout à fait :simple_smile:
2015-11-09 09:44:19	sebastien.charret	:simple_smile:
2015-11-09 11:46:48	⤷	http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema
2015-11-09 11:46:48		Django and postgresql testing schema (http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema)
2015-11-09 11:46:48		I'm using PostgreSQL 9.3 and Django 1.7.4 with psycopg2 2.5.4 The DBA, asked us to create a schema for our application instead of using public. We defined the schema, and we had to add the 'OPT...
2015-11-09 11:46:51	⤷	voila le lien
2015-11-09 11:47:48	gstoffer	C'est tout à fait ça
2015-11-09 11:48:01	⤷	Seulement, il n'y a pas de solutions.
2015-11-09 11:48:27	sebastien.charret	en relisant attentivement on vas que pour lui c'est un cas particulier
2015-11-09 11:48:35	⤷	que ca fonctionne avec public
2015-11-09 11:48:47	gstoffer	A partir du modèle, postgresql est incapable de déterminer dans quel schéma doivent être créées les tables
2015-11-09 11:48:57	sebastien.charret	mais que lui veut changer le nom du schema
2015-11-09 11:49:09	gstoffer	De toute façon ça ne peut pas marcher
2015-11-09 11:49:32	⤷	il va te manquer tout ce que l'ORM ne voit pas dans postgresql
2015-11-09 11:50:21	⤷	CUSTOM TYPE, INHERITANCE, TRIGGER, etc
2015-11-09 11:50:35	sebastien.charret	arf
2015-11-09 11:51:02	gstoffer	Tu dois tester sur une base déjà déployé
2015-11-09 11:51:25	⤷	Dans ce contexte, il te faut déporter la création de la BDD en dehors de Django
2015-11-09 11:52:04	sebastien.charret	Je ne vois pas comment faire puisque les tests sont lance pas une commande django
2015-11-09 11:52:33	gstoffer	django devrait permettre de désigner une BDD existante
2015-11-09 11:53:06	sebastien.charret	oui dans les settings
2015-11-09 11:53:26	⤷	nous avons mapper les BDD
2015-11-09 11:53:38	⤷	je ne pense pas que ce soit ce que tu veux dire
2015-11-09 11:53:52	gstoffer	je parle pour l'exécution des tests
2015-11-10 10:03:27	sebastien.charret	tu peux venir stp
2015-11-10 10:03:33	⤷	je vais devenir fou
2015-11-12 15:54:44	⤷	Coucou
2015-11-12 15:54:54	gstoffer	Hello
2015-11-12 15:55:11	sebastien.charret	Pourquoi sur les tables avec des relations fk il n'a pas de ON DELETE CASCADE?
2015-11-12 15:55:46	⤷	DELETE FROM "structure"
2015-11-12 15:55:46		WHERE "name" LIKE '%Priceminister%' AND (("id" = '1140') OR ("id" = '1141') OR ("id" = '1142') OR ("id" = '1143') OR ("id" = '1147') OR ("id" = '1086') OR ("id" = '1144') OR ("id" = '1145') OR ("id" = '1088') OR ("id" = '1146') OR ("id" = '1089') OR ("id" = '1090') OR ("id" = '1091') OR ("id" = '1092') OR ("id" = '1093') OR ("id" = '1094') OR ("id" = '1095') OR ("id" = '1096') OR ("id" = '1097') OR ("id" = '1098') OR ("id" = '1099') OR ("id" = '1100') OR ("id" = '1101') OR ("id" = '1102') OR ("id" = '1103') OR ("id" = '1104') OR ("id" = '1105') OR ("id" = '1106') OR ("id" = '1107') OR ("id" = '1108') OR ("id" = '1109') OR ("id" = '1110') OR ("id" = '1111') OR ("id" = '1112') OR ("id" = '1113') OR ("id" = '1114') OR ("id" = '1115') OR ("id" = '1116') OR ("id" = '1117') OR ("id" = '1118') OR ("id" = '1119') OR ("id" = '1120') OR ("id" = '1121') OR ("id" = '1122') OR ("id" = '1123') OR ("id" = '1124') OR ("id" = '1125') OR ("id" = '1126') OR ("id" = '1127') OR ("id" = '1128') OR ("id" = '1129') OR ("id" = '1130') OR ("id" = '1131') OR ("id" = '1132') OR ("id" = '1133') OR ("id" = '1191') OR ("id" = '1134') OR ("id" = '1135') OR ("id" = '1136') OR ("id" = '1137') OR ("id" = '1138') OR ("id" = '1139') OR ("id" = '1148') OR ("id" = '1149') OR ("id" = '1150') OR ("id" = '1151') OR ("id" = '1152') OR ("id" = '1153') OR ("id" = '1154') OR ("id" = '1155') OR ("id" = '1156') OR ("id" = '1157') OR ("id" = '1158') OR ("id" = '1159') OR ("id" = '1160') OR ("id" = '1161') OR ("id" = '1162') OR ("id" = '1163') OR ("id" = '1164') OR ("id" = '1165') OR ("id" = '1166') OR ("id" = '1167') OR ("id" = '1168') OR ("id" = '1169') OR ("id" = '1170') OR ("id" = '1171') OR ("id" = '1172') OR ("id" = '1173') OR ("id" = '1174') OR ("id" = '1175') OR ("id" = '1181') OR ("id" = '1176') OR ("id" = '1177') OR ("id" = '1178') OR ("id" = '1179') OR ("id" = '1180') OR ("id" = '1182') OR ("id" = '1183') OR ("id" = '1184') OR ("id" = '1185') OR ("id" = '1190') OR ("id" = '1186') OR ("id" = '1187') OR ("id" = '1188') OR ("id" = '1189') OR ("id" = '1192') OR ("id" = '1193') OR ("id" = '1194') OR ("id" = '1195') OR ("id" = '1196') OR ("id" = '1197') OR ("id" = '1198') OR ("id" = '1199') OR ("id" = '1200') OR ("id" = '1210') OR ("id" = '1201') OR ("id" = '1202') OR ("id" = '1203') OR ("id" = '1204') OR ("id" = '1205') OR ("id" = '1206') OR ("id" = '1207') OR ("id" = '1208') OR ("id" = '1209') OR ("id" = '1211') OR ("id" = '1212') OR ("id" = '1213') OR ("id" = '1214') OR ("id" = '1215') OR ("id" = '1216') OR ("id" = '1217') OR ("id" = '1218') OR ("id" = '1219') OR ("id" = '1220') OR ("id" = '1221') OR ("id" = '1222') OR ("id" = '1223') OR ("id" = '1224') OR ("id" = '1225') OR ("id" = '1226') OR ("id" = '1227') OR ("id" = '1228') OR ("id" = '1229') OR ("id" = '1230') OR ("id" = '1231') OR ("id" = '1232')) ;
2015-11-12 15:55:55	⤷	Erreur dans la requête: ERREUR: UPDATE ou DELETE sur la table « structure » viole la contrainte de clé étrangère
2015-11-12 15:55:55		« catalog_structure_mapping_channel_structure_id_fkey » de la table « structure_mapping »
2015-11-12 15:55:55		DETAIL: La clé (id)=(1140) est toujours référencée à partir de la table « structure_mapping
2015-11-12 15:56:07	gstoffer	Parce que ce n'est pas forcément le comportement que l'on souhaite par défaut
2015-11-12 15:56:40	sebastien.charret	On va se retrouver avec des clef qui ne pointe vers rien dans le cas ou force le delete
2015-11-12 15:57:02	⤷	ou alors il y un moyen simple que je ne connais pas
2015-11-12 15:57:54	gstoffer	En gros, tu tentes de supprimer un diffuseur pour lequel des marchands ont un ou plusieurs flux branchés dessus.
2015-11-12 15:57:54		En production, par exemple, ce n'est pas très propre comme action :simple_smile:
2015-11-12 15:58:51	sebastien.charret	Si tu parles de diffuseurs en tant que structure oui
2015-11-12 15:59:06	⤷	mais pourtant mon approche est concrete
2015-11-12 15:59:30	⤷	je souhaite suppimer mes structures et les leurs references etrangeres
2015-11-12 15:59:31	gstoffer	Oui tu vas conrètement mettre des marchands dans le caca
2015-11-12 16:00:06	sebastien.charret	oui il n'auront plus de reference sur les structures (edited)
2015-11-12 16:00:16	gstoffer	Ce n'est pas bien
2015-11-12 16:00:33	sebastien.charret	Comment agir pour la suppression donc?
2015-11-12 16:00:39	⤷	update??
2015-11-12 16:01:07	gstoffer	Sans doute d'innocentes personnes qui font des tests, se retrouveront avec des erreurs sans savoir d'où ça vient, c'est plutôt sauvage :simple_smile:
2015-11-12 16:01:25	sebastien.charret	Ok je comprends (edited)
2015-11-12 16:01:44	⤷	Mais ma question est comment dois je proceder?
2015-11-12 16:02:05	⤷	je suis donc oblige de passer par un update des données
2015-11-12 16:02:36	⤷	mais a l'heure actuelle le nombre de structure ne correspond pas a la realite
2015-11-12 16:02:47	gstoffer	Tu t'assures que tous les flux branchés sur cette structure ne soient pas utilisés
2015-11-12 16:03:23	sebastien.charret	146...
2015-11-13 09:01:52	⤷	Ce merveilleux Guillaume!!!
2015-11-13 09:02:12	⤷	Tu sais ou est passe la Table Structure Converter?
2015-11-13 09:04:32	gstoffer	Supprimé à la demande de ton boss
2015-11-13 09:04:40	sebastien.charret	Mon boss?
2015-11-13 09:04:53	gstoffer	Thomas
2015-11-13 09:04:58	sebastien.charret	Je suis mon propre maitre :sunglasses:
2015-11-13 09:05:04	gstoffer	XD
2015-11-13 09:05:07	sebastien.charret	ok
2015-11-13 09:05:39	gstoffer	Il avait peur de finir à la rue, parce qu'on on en faisait trop
2015-11-13 09:05:59	⤷	du coup on a coupé net la partie conversion
2015-11-13 09:06:05	sebastien.charret	Elle faiseait quoi?
2015-11-13 09:06:31	gstoffer	ça permettait de convertir un flux dans n'importe quel format diffuseur
2015-11-13 09:06:56	⤷	En gros avec une api on maitrisait la chaine de bout en bout
2015-11-16 11:11:50	sebastien.charret	Select v.label from Field f natural join FieldValue fv
2015-11-16 11:11:50		natural join Value v
2015-11-16 11:11:50		Where idMirakl = '55'
2015-11-16 11:12:07	⤷	-- Select v.label from Field f natural join FieldValue fv
2015-11-16 11:12:07		-- Where idMirakl = '55' AND f.label = 'Couleur' AND fv.idValue IN (Select idValue From Value) as v;
2015-11-16 11:24:56	⤷	http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join
2015-11-16 11:24:56		Difference between natural join and inner join (http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join)
2015-11-16 11:24:56		What is difference between join and natural join please can any one post hear
2015-11-16 11:25:14	⤷	la difference ne se fait que sur le nombre de colonnes retourrnees
2015-11-16 11:25:28	⤷	:confused:
2015-11-16 11:25:51	⤷	je ne vois pas l'impact que cela aurait pu avoir
2015-11-16 11:44:37	⤷	Coucou
2015-11-16 11:44:53	⤷	Reussis tu a rexecuter la requete?
2015-11-16 11:45:06	⤷	Select v.label from Field f inner join FieldValue fv
2015-11-16 11:45:06		inner join Value v
2015-11-16 11:45:06		Where idMirakl = '55' AND f.label = 'Couleur'
2015-11-16 11:45:19	⤷	ok
2015-11-16 11:45:21	⤷	...
2015-11-16 11:45:30	⤷	je viens de voir mon erreur
2015-11-16 11:45:39	⤷	je n'ai rien dit...
2016-01-04 10:47:11	⤷	mailto:g.legall@gmail.com (g.legall@gmail.com)
2016-02-08 10:34:06	⤷	Donc on part sur un champ nomme additionnal properties?
2016-02-08 10:34:12	gstoffer	non
2016-02-08 10:34:24	⤷	on part sur un champ metadata
2016-02-08 10:34:27	sebastien.charret	ok
2016-02-08 10:34:49	gstoffer	on va pas s'emmerder avec un nom à rallonge
2016-02-08 10:34:51	⤷	:smile:
2016-02-08 10:34:58	sebastien.charret	Une idee de quand ca sera mis en prod
2016-02-08 10:35:02	gstoffer	je fais ça après mon point
2016-02-08 10:35:03	sebastien.charret	ou sur inte
2016-02-08 10:35:05	⤷	?
2016-02-08 10:35:08	gstoffer	ce matin
2016-02-08 10:35:08	sebastien.charret	ok
2016-02-08 10:35:14	⤷	merci
2016-02-08 15:54:22	⤷	c'est bon pour le champs? (edited)
2016-04-19 17:57:43	⤷	titi (edited)
2016-04-19 17:57:59	⤷	select schema_definition from channel.structure where id = 2810
2016-04-19 17:58:15	⤷	sebastien.charret uploaded a file: https://lengow.slack.com/files/sebastien.charret/F11UBCZ32/.1.xml.swp (.1.xml)
2016-04-19 18:01:42	gstoffer	Je te confirme que c'est le contenu qui est titanesque et inaffichable, j'ai le même problème que toi
2016-04-19 18:02:04	sebastien.charret	ok
2016-04-19 18:02:28	⤷	donc que ce soit par command ou interface web on ne peut pas l'afficher
2016-04-19 18:03:28	gstoffer	Non il faudrait l'exporter dans un fichier ou utiliser autre chose que less (l'éditeur par défaut utilisé par psql)
2016-04-25 10:04:45	sebastien.charret	https://soundcloud.com/ward-iz/interstellar-theme-ward-iz-remake
2016-04-25 10:04:45		WARD-IZ: Interstellar theme (WARD-IZ REMAKE) extended mix. by WARD-IZ (https://soundcloud.com/ward-iz/interstellar-theme-ward-iz-remake)
2016-04-25 10:04:45		Check out my version of the Interstellar theme , added a bit of drive to it .
2016-04-25 10:04:48	⤷	enjoy
2016-04-25 10:05:25	⤷	https://soundcloud.com/oerin
2016-04-25 10:05:25		Moerin: Moerin (https://soundcloud.com/oerin)
2016-04-25 10:05:41	gstoffer	Top merci :simple_smile:
2016-04-29 18:03:59	sebastien.charret	SELECT f2.* FROM orders_laredoute as f JOIN  orders_laredoute as f2 ON f.tracking_method=f2.tracking_method AND f.tracking_carrier=f2.tracking_carrier WHERE f.idFlux = 100155 AND f2.idFlux != 100155
2016-04-29 18:04:00	⤷	;
2015-09-24 17:31:54	sebastien.charret	ok mais c'est par default dans la table
2015-09-24 17:36:43	gstoffer	Tu peux m'envoyer ta requête ?
2015-09-24 17:36:49	sebastien.charret	tiens peut etre plus clair
2015-09-24 17:36:51	⤷	INSERT INTO "structure" ("name", "logo", "ngram", "channel_holder_id", "vat_rate", "format", "render_class", "schema_definition", "config_fields", "is_active", "created_at", "updated_at", "common_mapping", "description", "sys_period", "channel_thesaurus_line_id")
2015-09-24 17:36:51		VALUES ('PriceministerV2', 'https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60', NULL, '833', NULL, NULL, NULL, NULL, NULL, '1', now(), now(), NULL, NULL, 'tstzrange(now(), NULL::timestamptz) ', NULL);
2015-09-24 17:36:51		https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60
2015-09-24 17:39:08	gstoffer	Il faut enlever le sys_period de ton insert, c'est auto-géré
2015-09-24 17:39:38	sebastien.charret	Ok peut etre adminer qu'il insere de base
2015-09-24 17:39:47	⤷	car je n'ai rien touché
2015-09-24 17:40:42	gstoffer	Non c'est postgresql qui et temporal tables qui gèrent cette colonne
2015-10-05 14:12:17	sebastien.charret	tu me diras si Julie et toi avez bien recus le doodle?
2015-10-15 10:31:19	gstoffer	http://schemaspy.sourceforge.net/
2015-10-15 10:35:50	sebastien.charret	Merci
2015-10-15 11:35:21	⤷	Une question
2015-10-15 11:35:39	⤷	Tu sais utiliser sublime pour faire des recherche a l'aide de regex? (edited)
2015-10-15 11:36:43	gstoffer	je saurais faire , mais je ne l'ai encore jamais fait
2015-10-15 11:38:22	sebastien.charret	Ok trouver un pattern comme ceci? INSERT INTO lengow_client.client_flux * (nombre arbitraire de mot) set champsCouleur= *(nombre arbitraire de mot)
2015-10-15 11:38:48	gstoffer	faut échapper le = je pense
2015-10-15 11:38:59	⤷	et le .
2015-10-15 11:38:59	sebastien.charret	possible
2015-10-15 11:39:09	⤷	oui c'est vrai (edited)
2015-10-16 16:44:35	⤷	Tu crois qu'il y a moyen de faire plus opti
2015-10-16 16:44:37	⤷	?
2015-10-16 16:44:38	⤷	SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande = "acceptsale" AND (itemstatus = "ACCEPTED" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0" UNION
2015-10-16 16:44:38		SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande IN ("new", "accept") AND (date < "2015-09-10" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0";
2015-10-16 16:44:38		SELECT * from lengow_tracking.API_commande_Priceminister WHERE etatCommande in ("new", "accept", "acceptsale") AND idClient="5201" AND idFlux="105905" AND itemid<>"0"  AND ( date < "2015-09-10" OR itemstatus = "CANCELLED" );
2015-10-16 16:48:18	gstoffer	ça me paraît bien
2015-10-16 16:48:27	sebastien.charret	merci maman
2015-10-16 16:48:40	gstoffer	de rien mon chéri
2015-10-21 17:51:35	sebastien.charret	Coucou (edited)
2015-10-21 17:51:45	⤷	le champs
2015-10-21 17:51:52	⤷	updated_at
2015-10-21 17:52:05	⤷	de order_marketpace_line
2015-10-21 17:52:37	⤷	as tu creer un procedure pour effectuer sa mise a jour lors de son insertion?
2015-10-21 17:53:06	gstoffer	il se peut que non ^^
2015-10-21 17:53:22	sebastien.charret	mais tu devais le faire? ^^ (edited)
2015-10-21 17:53:50	⤷	car sur order_marketplace ca a l'air d'etre le cas
2015-10-21 17:53:54	⤷	ou alors je fabule
2015-10-21 17:54:12	gstoffer	oui c'est faisable :simple_smile:
2015-10-22 11:18:23	sebastien.charret	Coucou
2015-10-22 11:18:33	gstoffer	Hello
2015-10-22 11:18:49	sebastien.charret	db common table country
2015-10-22 11:19:02	⤷	tu sais comment ont ete genere les donnees? (edited)
2015-10-22 11:19:19	⤷	me manque une occurence
2015-10-22 11:19:21	⤷	FX
2015-10-22 11:19:37	⤷	si ca a etait fait a la main je la rajoute
2015-10-22 11:19:49	gstoffer	Non ça n'a pas été fait à la main
2015-10-22 11:19:54	⤷	c'est quoi ce FX
2015-10-22 11:19:56	sebastien.charret	sinon faut comprendre why it is not in there? (edited)
2015-10-22 11:20:44	⤷	fx    France (European Territory)
2015-10-22 11:20:56	gstoffer	C'est obligatoire ?
2015-10-22 11:21:04	sebastien.charret	ben j'ai un client
2015-10-22 11:21:11	⤷	qui l'a renseigne
2015-10-22 11:21:21	⤷	sur une commande price
2015-10-22 11:21:24	gstoffer	Parce que ça ne fait pas partie de la norme ISO-3166-1
2015-10-22 11:21:42	sebastien.charret	Ok je regarde la norme price
2015-10-22 11:21:57	gstoffer	Il est chiant ce client !
2015-10-22 11:22:06	⤷	Il est sur une norme européenne
2015-10-22 11:22:10	sebastien.charret	c'est la MKtp surtout
2015-10-22 11:22:30	gstoffer	Nous on est sur une ISO internationale
2015-10-22 11:24:19	sebastien.charret	Je n'ai rien la dessus
2015-10-22 11:24:25	⤷	(doc)
2015-10-22 11:24:47	gstoffer	wikipedia l'explique très bien
2015-10-22 11:24:56	sebastien.charret	Oui je te crois
2015-10-22 11:25:03	gstoffer	France, Metropolitan    FX, FXX, 249    1993–1997    FXFR    Merged into France (FR, FRA, 250)
2015-10-22 11:25:10	⤷	C'est même périmé
2015-10-22 11:25:14	sebastien.charret	mais je fais quoi avec mon FX? (edited)
2015-10-22 11:25:30	gstoffer	la période de validité se termine en 97
2015-10-22 11:26:05	sebastien.charret	bien alors lol
2015-10-22 11:26:20	⤷	Copyright (c) 1997-2012 Rakuten, Inc. All Rights Reserved.
2015-10-22 11:26:31	⤷	sur le site priceminister
2015-10-22 11:26:52	gstoffer	Ben ils utilisent des normes périmées
2015-10-22 11:26:55	sebastien.charret	soit on trouve une solution
2015-10-22 11:27:07	⤷	soit je dis a RAKUTEN de changer leur norme
2015-10-22 11:27:26	⤷	pour le deuxieme je veux te nommer dans le mail
2015-10-22 11:27:41	gstoffer	ouais dis à Rakuten de changer sa norme moisie
2015-10-22 11:28:06	sebastien.charret	cf l'allocution de Mr Stoffer sur l'utilisation de la norme de Priceminister:
2015-10-22 11:28:10	⤷	'Nah!'
2015-10-22 11:28:27	⤷	Avec ca ils vont pas me le refuser (edited)
2015-10-22 11:28:27	gstoffer	Bah je privilégie un standard plutôt qu'une marketplace
2015-10-22 11:28:59	⤷	Franchement s'ils font de la merde, ce n'est pas à nous de la gober
2015-10-22 11:29:26	⤷	Cela dit, en attendant on peut très bien appliquer le standard en transformant FX en FR
2015-10-22 11:29:28	sebastien.charret	Je vais leur faire part de ton ressentiment
2015-10-22 11:29:43	gstoffer	Je suis sûr qu'ils seront ravis :simple_smile: (edited)
2015-10-22 11:29:50	sebastien.charret	Oui je vais patcher
2015-10-22 11:30:01	⤷	ca va etre beau!
2015-10-22 11:31:23	gstoffer	On va quand même pas aliéner un standard et baiser notre table pour leur beaux yeux ?
2015-10-22 11:31:34	sebastien.charret	amen
2015-10-26 09:48:04	gstoffer	Tu peux venir stp ? :simple_smile:
2015-10-26 10:02:37	sebastien.charret	Tu aurais encore le lien qui atteste que FX est déprécié stp?
2015-10-27 11:44:24	⤷	Coucou
2015-10-27 11:44:32	⤷	Tu as pus faire la procedure?
2015-10-27 11:44:54	gstoffer	C'est en cours :wink:
2015-10-27 11:45:03	sebastien.charret	ok merci :simple_smile:
2015-10-28 16:58:35	⤷	http://www.datanamic.com/schema-change-notifier/
2015-10-28 16:58:53	⤷	http://www.postgresql.org/docs/9.1/static/sql-notify.html
2015-10-28 16:58:56	⤷	bisous
2015-10-28 17:02:16	gstoffer	Je vais potasser la doc, datanamic est payant
2015-10-28 17:02:24	sebastien.charret	arf
2015-10-28 17:02:43	⤷	il doit exister une alternative open source
2015-11-09 09:42:49	⤷	Hello
2015-11-09 09:43:07	⤷	je reviens vers toi pour la creation de BDD test
2015-11-09 09:44:01	gstoffer	Tout à fait :simple_smile:
2015-11-09 09:44:19	sebastien.charret	:simple_smile:
2015-11-09 11:46:48	⤷	http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema
2015-11-09 11:46:48		Django and postgresql testing schema (http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema)
2015-11-09 11:46:48		I'm using PostgreSQL 9.3 and Django 1.7.4 with psycopg2 2.5.4 The DBA, asked us to create a schema for our application instead of using public. We defined the schema, and we had to add the 'OPT...
2015-11-09 11:46:51	⤷	voila le lien
2015-11-09 11:47:48	gstoffer	C'est tout à fait ça
2015-11-09 11:48:01	⤷	Seulement, il n'y a pas de solutions.
2015-11-09 11:48:27	sebastien.charret	en relisant attentivement on vas que pour lui c'est un cas particulier
2015-11-09 11:48:35	⤷	que ca fonctionne avec public
2015-11-09 11:48:47	gstoffer	A partir du modèle, postgresql est incapable de déterminer dans quel schéma doivent être créées les tables
2015-11-09 11:48:57	sebastien.charret	mais que lui veut changer le nom du schema
2015-11-09 11:49:09	gstoffer	De toute façon ça ne peut pas marcher
2015-11-09 11:49:32	⤷	il va te manquer tout ce que l'ORM ne voit pas dans postgresql
2015-11-09 11:50:21	⤷	CUSTOM TYPE, INHERITANCE, TRIGGER, etc
2015-11-09 11:50:35	sebastien.charret	arf
2015-11-09 11:51:02	gstoffer	Tu dois tester sur une base déjà déployé
2015-11-09 11:51:25	⤷	Dans ce contexte, il te faut déporter la création de la BDD en dehors de Django
2015-11-09 11:52:04	sebastien.charret	Je ne vois pas comment faire puisque les tests sont lance pas une commande django
2015-11-09 11:52:33	gstoffer	django devrait permettre de désigner une BDD existante
2015-11-09 11:53:06	sebastien.charret	oui dans les settings
2015-11-09 11:53:26	⤷	nous avons mapper les BDD
2015-11-09 11:53:38	⤷	je ne pense pas que ce soit ce que tu veux dire
2015-11-09 11:53:52	gstoffer	je parle pour l'exécution des tests
2015-11-10 10:03:27	sebastien.charret	tu peux venir stp
2015-11-10 10:03:33	⤷	je vais devenir fou
2015-11-12 15:54:44	⤷	Coucou
2015-11-12 15:54:54	gstoffer	Hello
2015-11-12 15:55:11	sebastien.charret	Pourquoi sur les tables avec des relations fk il n'a pas de ON DELETE CASCADE?
2015-11-12 15:55:46	⤷	DELETE FROM "structure"
2015-11-12 15:55:46		WHERE "name" LIKE '%Priceminister%' AND (("id" = '1140') OR ("id" = '1141') OR ("id" = '1142') OR ("id" = '1143') OR ("id" = '1147') OR ("id" = '1086') OR ("id" = '1144') OR ("id" = '1145') OR ("id" = '1088') OR ("id" = '1146') OR ("id" = '1089') OR ("id" = '1090') OR ("id" = '1091') OR ("id" = '1092') OR ("id" = '1093') OR ("id" = '1094') OR ("id" = '1095') OR ("id" = '1096') OR ("id" = '1097') OR ("id" = '1098') OR ("id" = '1099') OR ("id" = '1100') OR ("id" = '1101') OR ("id" = '1102') OR ("id" = '1103') OR ("id" = '1104') OR ("id" = '1105') OR ("id" = '1106') OR ("id" = '1107') OR ("id" = '1108') OR ("id" = '1109') OR ("id" = '1110') OR ("id" = '1111') OR ("id" = '1112') OR ("id" = '1113') OR ("id" = '1114') OR ("id" = '1115') OR ("id" = '1116') OR ("id" = '1117') OR ("id" = '1118') OR ("id" = '1119') OR ("id" = '1120') OR ("id" = '1121') OR ("id" = '1122') OR ("id" = '1123') OR ("id" = '1124') OR ("id" = '1125') OR ("id" = '1126') OR ("id" = '1127') OR ("id" = '1128') OR ("id" = '1129') OR ("id" = '1130') OR ("id" = '1131') OR ("id" = '1132') OR ("id" = '1133') OR ("id" = '1191') OR ("id" = '1134') OR ("id" = '1135') OR ("id" = '1136') OR ("id" = '1137') OR ("id" = '1138') OR ("id" = '1139') OR ("id" = '1148') OR ("id" = '1149') OR ("id" = '1150') OR ("id" = '1151') OR ("id" = '1152') OR ("id" = '1153') OR ("id" = '1154') OR ("id" = '1155') OR ("id" = '1156') OR ("id" = '1157') OR ("id" = '1158') OR ("id" = '1159') OR ("id" = '1160') OR ("id" = '1161') OR ("id" = '1162') OR ("id" = '1163') OR ("id" = '1164') OR ("id" = '1165') OR ("id" = '1166') OR ("id" = '1167') OR ("id" = '1168') OR ("id" = '1169') OR ("id" = '1170') OR ("id" = '1171') OR ("id" = '1172') OR ("id" = '1173') OR ("id" = '1174') OR ("id" = '1175') OR ("id" = '1181') OR ("id" = '1176') OR ("id" = '1177') OR ("id" = '1178') OR ("id" = '1179') OR ("id" = '1180') OR ("id" = '1182') OR ("id" = '1183') OR ("id" = '1184') OR ("id" = '1185') OR ("id" = '1190') OR ("id" = '1186') OR ("id" = '1187') OR ("id" = '1188') OR ("id" = '1189') OR ("id" = '1192') OR ("id" = '1193') OR ("id" = '1194') OR ("id" = '1195') OR ("id" = '1196') OR ("id" = '1197') OR ("id" = '1198') OR ("id" = '1199') OR ("id" = '1200') OR ("id" = '1210') OR ("id" = '1201') OR ("id" = '1202') OR ("id" = '1203') OR ("id" = '1204') OR ("id" = '1205') OR ("id" = '1206') OR ("id" = '1207') OR ("id" = '1208') OR ("id" = '1209') OR ("id" = '1211') OR ("id" = '1212') OR ("id" = '1213') OR ("id" = '1214') OR ("id" = '1215') OR ("id" = '1216') OR ("id" = '1217') OR ("id" = '1218') OR ("id" = '1219') OR ("id" = '1220') OR ("id" = '1221') OR ("id" = '1222') OR ("id" = '1223') OR ("id" = '1224') OR ("id" = '1225') OR ("id" = '1226') OR ("id" = '1227') OR ("id" = '1228') OR ("id" = '1229') OR ("id" = '1230') OR ("id" = '1231') OR ("id" = '1232')) ;
2015-11-12 15:55:55	⤷	Erreur dans la requête: ERREUR: UPDATE ou DELETE sur la table « structure » viole la contrainte de clé étrangère
2015-11-12 15:55:55		« catalog_structure_mapping_channel_structure_id_fkey » de la table « structure_mapping »
2015-11-12 15:55:55		DETAIL: La clé (id)=(1140) est toujours référencée à partir de la table « structure_mapping
2015-11-12 15:56:07	gstoffer	Parce que ce n'est pas forcément le comportement que l'on souhaite par défaut
2015-11-12 15:56:40	sebastien.charret	On va se retrouver avec des clef qui ne pointe vers rien dans le cas ou force le delete
2015-11-12 15:57:02	⤷	ou alors il y un moyen simple que je ne connais pas
2015-11-12 15:57:54	gstoffer	En gros, tu tentes de supprimer un diffuseur pour lequel des marchands ont un ou plusieurs flux branchés dessus.
2015-11-12 15:57:54		En production, par exemple, ce n'est pas très propre comme action :simple_smile:
2015-11-12 15:58:51	sebastien.charret	Si tu parles de diffuseurs en tant que structure oui
2015-11-12 15:59:06	⤷	mais pourtant mon approche est concrete
2015-11-12 15:59:30	⤷	je souhaite suppimer mes structures et les leurs references etrangeres
2015-11-12 15:59:31	gstoffer	Oui tu vas conrètement mettre des marchands dans le caca
2015-11-12 16:00:06	sebastien.charret	oui il n'auront plus de reference sur les structures (edited)
2015-11-12 16:00:16	gstoffer	Ce n'est pas bien
2015-11-12 16:00:33	sebastien.charret	Comment agir pour la suppression donc?
2015-11-12 16:00:39	⤷	update??
2015-11-12 16:01:07	gstoffer	Sans doute d'innocentes personnes qui font des tests, se retrouveront avec des erreurs sans savoir d'où ça vient, c'est plutôt sauvage :simple_smile:
2015-11-12 16:01:25	sebastien.charret	Ok je comprends (edited)
2015-11-12 16:01:44	⤷	Mais ma question est comment dois je proceder?
2015-11-12 16:02:05	⤷	je suis donc oblige de passer par un update des données
2015-11-12 16:02:36	⤷	mais a l'heure actuelle le nombre de structure ne correspond pas a la realite
2015-11-12 16:02:47	gstoffer	Tu t'assures que tous les flux branchés sur cette structure ne soient pas utilisés
2015-11-12 16:03:23	sebastien.charret	146...
2015-11-13 09:01:52	⤷	Ce merveilleux Guillaume!!!
2015-11-13 09:02:12	⤷	Tu sais ou est passe la Table Structure Converter?
2015-11-13 09:04:32	gstoffer	Supprimé à la demande de ton boss
2015-11-13 09:04:40	sebastien.charret	Mon boss?
2015-11-13 09:04:53	gstoffer	Thomas
2015-11-13 09:04:58	sebastien.charret	Je suis mon propre maitre :sunglasses:
2015-11-13 09:05:04	gstoffer	XD
2015-11-13 09:05:07	sebastien.charret	ok
2015-11-13 09:05:39	gstoffer	Il avait peur de finir à la rue, parce qu'on on en faisait trop
2015-11-13 09:05:59	⤷	du coup on a coupé net la partie conversion
2015-11-13 09:06:05	sebastien.charret	Elle faiseait quoi?
2015-11-13 09:06:31	gstoffer	ça permettait de convertir un flux dans n'importe quel format diffuseur
2015-11-13 09:06:56	⤷	En gros avec une api on maitrisait la chaine de bout en bout
2015-11-16 11:11:50	sebastien.charret	Select v.label from Field f natural join FieldValue fv
2015-11-16 11:11:50		natural join Value v
2015-11-16 11:11:50		Where idMirakl = '55'
2015-11-16 11:12:07	⤷	-- Select v.label from Field f natural join FieldValue fv
2015-11-16 11:12:07		-- Where idMirakl = '55' AND f.label = 'Couleur' AND fv.idValue IN (Select idValue From Value) as v;
2015-11-16 11:24:56	⤷	http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join
2015-11-16 11:24:56		Difference between natural join and inner join (http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join)
2015-11-16 11:24:56		What is difference between join and natural join please can any one post hear
2015-11-16 11:25:14	⤷	la difference ne se fait que sur le nombre de colonnes retourrnees
2015-11-16 11:25:28	⤷	:confused:
2015-11-16 11:25:51	⤷	je ne vois pas l'impact que cela aurait pu avoir
2015-11-16 11:44:37	⤷	Coucou
2015-11-16 11:44:53	⤷	Reussis tu a rexecuter la requete?
2015-11-16 11:45:06	⤷	Select v.label from Field f inner join FieldValue fv
2015-11-16 11:45:06		inner join Value v
2015-11-16 11:45:06		Where idMirakl = '55' AND f.label = 'Couleur'
2015-11-16 11:45:19	⤷	ok
2015-11-16 11:45:21	⤷	...
2015-11-16 11:45:30	⤷	je viens de voir mon erreur
2015-11-16 11:45:39	⤷	je n'ai rien dit...
2016-01-04 10:47:11	⤷	mailto:g.legall@gmail.com (g.legall@gmail.com)
2016-02-08 10:34:06	⤷	Donc on part sur un champ nomme additionnal properties?
2016-02-08 10:34:12	gstoffer	non
2016-02-08 10:34:24	⤷	on part sur un champ metadata
2016-02-08 10:34:27	sebastien.charret	ok
2016-02-08 10:34:49	gstoffer	on va pas s'emmerder avec un nom à rallonge
2016-02-08 10:34:51	⤷	:smile:
2016-02-08 10:34:58	sebastien.charret	Une idee de quand ca sera mis en prod
2016-02-08 10:35:02	gstoffer	je fais ça après mon point
2016-02-08 10:35:03	sebastien.charret	ou sur inte
2016-02-08 10:35:05	⤷	?
2016-02-08 10:35:08	gstoffer	ce matin
2016-02-08 10:35:08	sebastien.charret	ok
2016-02-08 10:35:14	⤷	merci
2016-02-08 15:54:22	⤷	c'est bon pour le champs? (edited)
2016-04-19 17:57:43	⤷	titi (edited)
2016-04-19 17:57:59	⤷	select schema_definition from channel.structure where id = 2810
2016-04-19 17:58:15	⤷	sebastien.charret uploaded a file: https://lengow.slack.com/files/sebastien.charret/F11UBCZ32/.1.xml.swp (.1.xml)
2016-04-19 18:01:42	gstoffer	Je te confirme que c'est le contenu qui est titanesque et inaffichable, j'ai le même problème que toi
2016-04-19 18:02:04	sebastien.charret	ok
2016-04-19 18:02:28	⤷	donc que ce soit par command ou interface web on ne peut pas l'afficher
2016-04-19 18:03:28	gstoffer	Non il faudrait l'exporter dans un fichier ou utiliser autre chose que less (l'éditeur par défaut utilisé par psql)
2016-04-25 10:04:45	sebastien.charret	https://soundcloud.com/ward-iz/interstellar-theme-ward-iz-remake
2016-04-25 10:04:45		WARD-IZ: Interstellar theme (WARD-IZ REMAKE) extended mix. by WARD-IZ (https://soundcloud.com/ward-iz/interstellar-theme-ward-iz-remake)
2016-04-25 10:04:45		Check out my version of the Interstellar theme , added a bit of drive to it .
2016-04-25 10:04:48	⤷	enjoy
2016-04-25 10:05:25	⤷	https://soundcloud.com/oerin
2016-04-25 10:05:25		Moerin: Moerin (https://soundcloud.com/oerin)
2016-04-25 10:05:41	gstoffer	Top merci :simple_smile:
2016-04-29 18:03:59	sebastien.charret	SELECT f2.* FROM orders_laredoute as f JOIN  orders_laredoute as f2 ON f.tracking_method=f2.tracking_method AND f.tracking_carrier=f2.tracking_carrier WHERE f.idFlux = 100155 AND f2.idFlux != 100155
2016-04-29 18:04:00	⤷	;
2016-07-07 16:42:24	sebastien.charret	Mes excuses si je t'ai fait mal c'etait pas le but.
2016-07-07 16:42:42	gstoffer	Je te demande pardon
2016-07-07 16:42:48	⤷	je me suis emporté aussi
2016-07-07 16:42:55	⤷	la douleur
2016-07-07 16:43:01	sebastien.charret	je comprends ta reaction
2016-07-07 16:43:12	⤷	j'aurais fait pareil
2016-07-07 16:43:20	gstoffer	C'était involontaire, j'aurais pas dû
2016-07-07 16:43:29	sebastien.charret	pas grave n
2016-07-07 16:43:29	gstoffer	On est sanguin tous les deux ^^
2016-07-07 16:43:35	sebastien.charret	n'en parlons plus
2016-07-07 16:44:00	gstoffer	C'est oublié pour moi :wink:
2016-07-07 16:44:06	sebastien.charret	idem
2016-07-07 16:44:08	gstoffer	ça va mieux :slightly_smiling_face:
2015-09-24 17:31:54	sebastien.charret	ok mais c'est par default dans la table
2015-09-24 17:36:43	gstoffer	Tu peux m'envoyer ta requête ?
2015-09-24 17:36:49	sebastien.charret	tiens peut etre plus clair
2015-09-24 17:36:51	⤷	INSERT INTO "structure" ("name", "logo", "ngram", "channel_holder_id", "vat_rate", "format", "render_class", "schema_definition", "config_fields", "is_active", "created_at", "updated_at", "common_mapping", "description", "sys_period", "channel_thesaurus_line_id")
2015-09-24 17:36:51		VALUES ('PriceministerV2', 'https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60', NULL, '833', NULL, NULL, NULL, NULL, NULL, '1', now(), now(), NULL, NULL, 'tstzrange(now(), NULL::timestamptz) ', NULL);
2015-09-24 17:36:51		https://solution.lengow.com/view/images/image_diffuseur.php?type=marketplace&id=136&file=http://pmcdn.priceminister.com/visuels/2013-01-01-charte/images/pagelogo2_03.png&w=150&h=60
2015-09-24 17:39:08	gstoffer	Il faut enlever le sys_period de ton insert, c'est auto-géré
2015-09-24 17:39:38	sebastien.charret	Ok peut etre adminer qu'il insere de base
2015-09-24 17:39:47	⤷	car je n'ai rien touché
2015-09-24 17:40:42	gstoffer	Non c'est postgresql qui et temporal tables qui gèrent cette colonne
2015-10-05 14:12:17	sebastien.charret	tu me diras si Julie et toi avez bien recus le doodle?
2015-10-15 10:31:19	gstoffer	http://schemaspy.sourceforge.net/
2015-10-15 10:35:50	sebastien.charret	Merci
2015-10-15 11:35:21	⤷	Une question
2015-10-15 11:35:39	⤷	Tu sais utiliser sublime pour faire des recherche a l'aide de regex? (edited)
2015-10-15 11:36:43	gstoffer	je saurais faire , mais je ne l'ai encore jamais fait
2015-10-15 11:38:22	sebastien.charret	Ok trouver un pattern comme ceci? INSERT INTO lengow_client.client_flux * (nombre arbitraire de mot) set champsCouleur= *(nombre arbitraire de mot)
2015-10-15 11:38:48	gstoffer	faut échapper le = je pense
2015-10-15 11:38:59	⤷	et le .
2015-10-15 11:38:59	sebastien.charret	possible
2015-10-15 11:39:09	⤷	oui c'est vrai (edited)
2015-10-16 16:44:35	⤷	Tu crois qu'il y a moyen de faire plus opti
2015-10-16 16:44:37	⤷	?
2015-10-16 16:44:38	⤷	SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande = "acceptsale" AND (itemstatus = "ACCEPTED" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0" UNION
2015-10-16 16:44:38		SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande IN ("new", "accept") AND (date < "2015-09-10" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0";
2015-10-16 16:44:38		SELECT * from lengow_tracking.API_commande_Priceminister WHERE etatCommande in ("new", "accept", "acceptsale") AND idClient="5201" AND idFlux="105905" AND itemid<>"0"  AND ( date < "2015-09-10" OR itemstatus = "CANCELLED" );
2015-10-16 16:48:18	gstoffer	ça me paraît bien
2015-10-16 16:48:27	sebastien.charret	merci maman
2015-10-16 16:48:40	gstoffer	de rien mon chéri
2015-10-21 17:51:35	sebastien.charret	Coucou (edited)
2015-10-21 17:51:45	⤷	le champs
2015-10-21 17:51:52	⤷	updated_at
2015-10-21 17:52:05	⤷	de order_marketpace_line
2015-10-21 17:52:37	⤷	as tu creer un procedure pour effectuer sa mise a jour lors de son insertion?
2015-10-21 17:53:06	gstoffer	il se peut que non ^^
2015-10-21 17:53:22	sebastien.charret	mais tu devais le faire? ^^ (edited)
2015-10-21 17:53:50	⤷	car sur order_marketplace ca a l'air d'etre le cas
2015-10-21 17:53:54	⤷	ou alors je fabule
2015-10-21 17:54:12	gstoffer	oui c'est faisable :simple_smile:
2015-10-22 11:18:23	sebastien.charret	Coucou
2015-10-22 11:18:33	gstoffer	Hello
2015-10-22 11:18:49	sebastien.charret	db common table country
2015-10-22 11:19:02	⤷	tu sais comment ont ete genere les donnees? (edited)
2015-10-22 11:19:19	⤷	me manque une occurence
2015-10-22 11:19:21	⤷	FX
2015-10-22 11:19:37	⤷	si ca a etait fait a la main je la rajoute
2015-10-22 11:19:49	gstoffer	Non ça n'a pas été fait à la main
2015-10-22 11:19:54	⤷	c'est quoi ce FX
2015-10-22 11:19:56	sebastien.charret	sinon faut comprendre why it is not in there? (edited)
2015-10-22 11:20:44	⤷	fx    France (European Territory)
2015-10-22 11:20:56	gstoffer	C'est obligatoire ?
2015-10-22 11:21:04	sebastien.charret	ben j'ai un client
2015-10-22 11:21:11	⤷	qui l'a renseigne
2015-10-22 11:21:21	⤷	sur une commande price
2015-10-22 11:21:24	gstoffer	Parce que ça ne fait pas partie de la norme ISO-3166-1
2015-10-22 11:21:42	sebastien.charret	Ok je regarde la norme price
2015-10-22 11:21:57	gstoffer	Il est chiant ce client !
2015-10-22 11:22:06	⤷	Il est sur une norme européenne
2015-10-22 11:22:10	sebastien.charret	c'est la MKtp surtout
2015-10-22 11:22:30	gstoffer	Nous on est sur une ISO internationale
2015-10-22 11:24:19	sebastien.charret	Je n'ai rien la dessus
2015-10-22 11:24:25	⤷	(doc)
2015-10-22 11:24:47	gstoffer	wikipedia l'explique très bien
2015-10-22 11:24:56	sebastien.charret	Oui je te crois
2015-10-22 11:25:03	gstoffer	France, Metropolitan    FX, FXX, 249    1993–1997    FXFR    Merged into France (FR, FRA, 250)
2015-10-22 11:25:10	⤷	C'est même périmé
2015-10-22 11:25:14	sebastien.charret	mais je fais quoi avec mon FX? (edited)
2015-10-22 11:25:30	gstoffer	la période de validité se termine en 97
2015-10-22 11:26:05	sebastien.charret	bien alors lol
2015-10-22 11:26:20	⤷	Copyright (c) 1997-2012 Rakuten, Inc. All Rights Reserved.
2015-10-22 11:26:31	⤷	sur le site priceminister
2015-10-22 11:26:52	gstoffer	Ben ils utilisent des normes périmées
2015-10-22 11:26:55	sebastien.charret	soit on trouve une solution
2015-10-22 11:27:07	⤷	soit je dis a RAKUTEN de changer leur norme
2015-10-22 11:27:26	⤷	pour le deuxieme je veux te nommer dans le mail
2015-10-22 11:27:41	gstoffer	ouais dis à Rakuten de changer sa norme moisie
2015-10-22 11:28:06	sebastien.charret	cf l'allocution de Mr Stoffer sur l'utilisation de la norme de Priceminister:
2015-10-22 11:28:10	⤷	'Nah!'
2015-10-22 11:28:27	⤷	Avec ca ils vont pas me le refuser (edited)
2015-10-22 11:28:27	gstoffer	Bah je privilégie un standard plutôt qu'une marketplace
2015-10-22 11:28:59	⤷	Franchement s'ils font de la merde, ce n'est pas à nous de la gober
2015-10-22 11:29:26	⤷	Cela dit, en attendant on peut très bien appliquer le standard en transformant FX en FR
2015-10-22 11:29:28	sebastien.charret	Je vais leur faire part de ton ressentiment
2015-10-22 11:29:43	gstoffer	Je suis sûr qu'ils seront ravis :simple_smile: (edited)
2015-10-22 11:29:50	sebastien.charret	Oui je vais patcher
2015-10-22 11:30:01	⤷	ca va etre beau!
2015-10-22 11:31:23	gstoffer	On va quand même pas aliéner un standard et baiser notre table pour leur beaux yeux ?
2015-10-22 11:31:34	sebastien.charret	amen
2015-10-26 09:48:04	gstoffer	Tu peux venir stp ? :simple_smile:
2015-10-26 10:02:37	sebastien.charret	Tu aurais encore le lien qui atteste que FX est déprécié stp?
2015-10-27 11:44:24	⤷	Coucou
2015-10-27 11:44:32	⤷	Tu as pus faire la procedure?
2015-10-27 11:44:54	gstoffer	C'est en cours :wink:
2015-10-27 11:45:03	sebastien.charret	ok merci :simple_smile:
2015-10-28 16:58:35	⤷	http://www.datanamic.com/schema-change-notifier/
2015-10-28 16:58:53	⤷	http://www.postgresql.org/docs/9.1/static/sql-notify.html
2015-10-28 16:58:56	⤷	bisous
2015-10-28 17:02:16	gstoffer	Je vais potasser la doc, datanamic est payant
2015-10-28 17:02:24	sebastien.charret	arf
2015-10-28 17:02:43	⤷	il doit exister une alternative open source
2015-11-09 09:42:49	⤷	Hello
2015-11-09 09:43:07	⤷	je reviens vers toi pour la creation de BDD test
2015-11-09 09:44:01	gstoffer	Tout à fait :simple_smile:
2015-11-09 09:44:19	sebastien.charret	:simple_smile:
2015-11-09 11:46:48	⤷	http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema
2015-11-09 11:46:48		Django and postgresql testing schema (http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema)
2015-11-09 11:46:48		I'm using PostgreSQL 9.3 and Django 1.7.4 with psycopg2 2.5.4 The DBA, asked us to create a schema for our application instead of using public. We defined the schema, and we had to add the 'OPT...
2015-11-09 11:46:51	⤷	voila le lien
2015-11-09 11:47:48	gstoffer	C'est tout à fait ça
2015-11-09 11:48:01	⤷	Seulement, il n'y a pas de solutions.
2015-11-09 11:48:27	sebastien.charret	en relisant attentivement on vas que pour lui c'est un cas particulier
2015-11-09 11:48:35	⤷	que ca fonctionne avec public
2015-11-09 11:48:47	gstoffer	A partir du modèle, postgresql est incapable de déterminer dans quel schéma doivent être créées les tables
2015-11-09 11:48:57	sebastien.charret	mais que lui veut changer le nom du schema
2015-11-09 11:49:09	gstoffer	De toute façon ça ne peut pas marcher
2015-11-09 11:49:32	⤷	il va te manquer tout ce que l'ORM ne voit pas dans postgresql
2015-11-09 11:50:21	⤷	CUSTOM TYPE, INHERITANCE, TRIGGER, etc
2015-11-09 11:50:35	sebastien.charret	arf
2015-11-09 11:51:02	gstoffer	Tu dois tester sur une base déjà déployé
2015-11-09 11:51:25	⤷	Dans ce contexte, il te faut déporter la création de la BDD en dehors de Django
2015-11-09 11:52:04	sebastien.charret	Je ne vois pas comment faire puisque les tests sont lance pas une commande django
2015-11-09 11:52:33	gstoffer	django devrait permettre de désigner une BDD existante
2015-11-09 11:53:06	sebastien.charret	oui dans les settings
2015-11-09 11:53:26	⤷	nous avons mapper les BDD
2015-11-09 11:53:38	⤷	je ne pense pas que ce soit ce que tu veux dire
2015-11-09 11:53:52	gstoffer	je parle pour l'exécution des tests
2015-11-10 10:03:27	sebastien.charret	tu peux venir stp
2015-11-10 10:03:33	⤷	je vais devenir fou
2015-11-12 15:54:44	⤷	Coucou
2015-11-12 15:54:54	gstoffer	Hello
2015-11-12 15:55:11	sebastien.charret	Pourquoi sur les tables avec des relations fk il n'a pas de ON DELETE CASCADE?
2015-11-12 15:55:46	⤷	DELETE FROM "structure"
2015-11-12 15:55:46		WHERE "name" LIKE '%Priceminister%' AND (("id" = '1140') OR ("id" = '1141') OR ("id" = '1142') OR ("id" = '1143') OR ("id" = '1147') OR ("id" = '1086') OR ("id" = '1144') OR ("id" = '1145') OR ("id" = '1088') OR ("id" = '1146') OR ("id" = '1089') OR ("id" = '1090') OR ("id" = '1091') OR ("id" = '1092') OR ("id" = '1093') OR ("id" = '1094') OR ("id" = '1095') OR ("id" = '1096') OR ("id" = '1097') OR ("id" = '1098') OR ("id" = '1099') OR ("id" = '1100') OR ("id" = '1101') OR ("id" = '1102') OR ("id" = '1103') OR ("id" = '1104') OR ("id" = '1105') OR ("id" = '1106') OR ("id" = '1107') OR ("id" = '1108') OR ("id" = '1109') OR ("id" = '1110') OR ("id" = '1111') OR ("id" = '1112') OR ("id" = '1113') OR ("id" = '1114') OR ("id" = '1115') OR ("id" = '1116') OR ("id" = '1117') OR ("id" = '1118') OR ("id" = '1119') OR ("id" = '1120') OR ("id" = '1121') OR ("id" = '1122') OR ("id" = '1123') OR ("id" = '1124') OR ("id" = '1125') OR ("id" = '1126') OR ("id" = '1127') OR ("id" = '1128') OR ("id" = '1129') OR ("id" = '1130') OR ("id" = '1131') OR ("id" = '1132') OR ("id" = '1133') OR ("id" = '1191') OR ("id" = '1134') OR ("id" = '1135') OR ("id" = '1136') OR ("id" = '1137') OR ("id" = '1138') OR ("id" = '1139') OR ("id" = '1148') OR ("id" = '1149') OR ("id" = '1150') OR ("id" = '1151') OR ("id" = '1152') OR ("id" = '1153') OR ("id" = '1154') OR ("id" = '1155') OR ("id" = '1156') OR ("id" = '1157') OR ("id" = '1158') OR ("id" = '1159') OR ("id" = '1160') OR ("id" = '1161') OR ("id" = '1162') OR ("id" = '1163') OR ("id" = '1164') OR ("id" = '1165') OR ("id" = '1166') OR ("id" = '1167') OR ("id" = '1168') OR ("id" = '1169') OR ("id" = '1170') OR ("id" = '1171') OR ("id" = '1172') OR ("id" = '1173') OR ("id" = '1174') OR ("id" = '1175') OR ("id" = '1181') OR ("id" = '1176') OR ("id" = '1177') OR ("id" = '1178') OR ("id" = '1179') OR ("id" = '1180') OR ("id" = '1182') OR ("id" = '1183') OR ("id" = '1184') OR ("id" = '1185') OR ("id" = '1190') OR ("id" = '1186') OR ("id" = '1187') OR ("id" = '1188') OR ("id" = '1189') OR ("id" = '1192') OR ("id" = '1193') OR ("id" = '1194') OR ("id" = '1195') OR ("id" = '1196') OR ("id" = '1197') OR ("id" = '1198') OR ("id" = '1199') OR ("id" = '1200') OR ("id" = '1210') OR ("id" = '1201') OR ("id" = '1202') OR ("id" = '1203') OR ("id" = '1204') OR ("id" = '1205') OR ("id" = '1206') OR ("id" = '1207') OR ("id" = '1208') OR ("id" = '1209') OR ("id" = '1211') OR ("id" = '1212') OR ("id" = '1213') OR ("id" = '1214') OR ("id" = '1215') OR ("id" = '1216') OR ("id" = '1217') OR ("id" = '1218') OR ("id" = '1219') OR ("id" = '1220') OR ("id" = '1221') OR ("id" = '1222') OR ("id" = '1223') OR ("id" = '1224') OR ("id" = '1225') OR ("id" = '1226') OR ("id" = '1227') OR ("id" = '1228') OR ("id" = '1229') OR ("id" = '1230') OR ("id" = '1231') OR ("id" = '1232')) ;
2015-11-12 15:55:55	⤷	Erreur dans la requête: ERREUR: UPDATE ou DELETE sur la table « structure » viole la contrainte de clé étrangère
2015-11-12 15:55:55		« catalog_structure_mapping_channel_structure_id_fkey » de la table « structure_mapping »
2015-11-12 15:55:55		DETAIL: La clé (id)=(1140) est toujours référencée à partir de la table « structure_mapping
2015-11-12 15:56:07	gstoffer	Parce que ce n'est pas forcément le comportement que l'on souhaite par défaut
2015-11-12 15:56:40	sebastien.charret	On va se retrouver avec des clef qui ne pointe vers rien dans le cas ou force le delete
2015-11-12 15:57:02	⤷	ou alors il y un moyen simple que je ne connais pas
2015-11-12 15:57:54	gstoffer	En gros, tu tentes de supprimer un diffuseur pour lequel des marchands ont un ou plusieurs flux branchés dessus.
2015-11-12 15:57:54		En production, par exemple, ce n'est pas très propre comme action :simple_smile:
2015-11-12 15:58:51	sebastien.charret	Si tu parles de diffuseurs en tant que structure oui
2015-11-12 15:59:06	⤷	mais pourtant mon approche est concrete
2015-11-12 15:59:30	⤷	je souhaite suppimer mes structures et les leurs references etrangeres
2015-11-12 15:59:31	gstoffer	Oui tu vas conrètement mettre des marchands dans le caca
2015-11-12 16:00:06	sebastien.charret	oui il n'auront plus de reference sur les structures (edited)
2015-11-12 16:00:16	gstoffer	Ce n'est pas bien
2015-11-12 16:00:33	sebastien.charret	Comment agir pour la suppression donc?
2015-11-12 16:00:39	⤷	update??
2015-11-12 16:01:07	gstoffer	Sans doute d'innocentes personnes qui font des tests, se retrouveront avec des erreurs sans savoir d'où ça vient, c'est plutôt sauvage :simple_smile:
2015-11-12 16:01:25	sebastien.charret	Ok je comprends (edited)
2015-11-12 16:01:44	⤷	Mais ma question est comment dois je proceder?
2015-11-12 16:02:05	⤷	je suis donc oblige de passer par un update des données
2015-11-12 16:02:36	⤷	mais a l'heure actuelle le nombre de structure ne correspond pas a la realite
2015-11-12 16:02:47	gstoffer	Tu t'assures que tous les flux branchés sur cette structure ne soient pas utilisés
2015-11-12 16:03:23	sebastien.charret	146...
2015-11-13 09:01:52	⤷	Ce merveilleux Guillaume!!!
2015-11-13 09:02:12	⤷	Tu sais ou est passe la Table Structure Converter?
2015-11-13 09:04:32	gstoffer	Supprimé à la demande de ton boss
2015-11-13 09:04:40	sebastien.charret	Mon boss?
2015-11-13 09:04:53	gstoffer	Thomas
2015-11-13 09:04:58	sebastien.charret	Je suis mon propre maitre :sunglasses:
2015-11-13 09:05:04	gstoffer	XD
2015-11-13 09:05:07	sebastien.charret	ok
2015-11-13 09:05:39	gstoffer	Il avait peur de finir à la rue, parce qu'on on en faisait trop
2015-11-13 09:05:59	⤷	du coup on a coupé net la partie conversion
2015-11-13 09:06:05	sebastien.charret	Elle faiseait quoi?
2015-11-13 09:06:31	gstoffer	ça permettait de convertir un flux dans n'importe quel format diffuseur
2015-11-13 09:06:56	⤷	En gros avec une api on maitrisait la chaine de bout en bout
2015-11-16 11:11:50	sebastien.charret	Select v.label from Field f natural join FieldValue fv
2015-11-16 11:11:50		natural join Value v
2015-11-16 11:11:50		Where idMirakl = '55'
2015-11-16 11:12:07	⤷	-- Select v.label from Field f natural join FieldValue fv
2015-11-16 11:12:07		-- Where idMirakl = '55' AND f.label = 'Couleur' AND fv.idValue IN (Select idValue From Value) as v;
2015-11-16 11:24:56	⤷	http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join
2015-11-16 11:24:56		Difference between natural join and inner join (http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join)
2015-11-16 11:24:56		What is difference between join and natural join please can any one post hear
2015-11-16 11:25:14	⤷	la difference ne se fait que sur le nombre de colonnes retourrnees
2015-11-16 11:25:28	⤷	:confused:
2015-11-16 11:25:51	⤷	je ne vois pas l'impact que cela aurait pu avoir
2015-11-16 11:44:37	⤷	Coucou
2015-11-16 11:44:53	⤷	Reussis tu a rexecuter la requete?
2015-11-16 11:45:06	⤷	Select v.label from Field f inner join FieldValue fv
2015-11-16 11:45:06		inner join Value v
2015-11-16 11:45:06		Where idMirakl = '55' AND f.label = 'Couleur'
2015-11-16 11:45:19	⤷	ok
2015-11-16 11:45:21	⤷	...
2015-11-16 11:45:30	⤷	je viens de voir mon erreur
2015-11-16 11:45:39	⤷	je n'ai rien dit...
2016-01-04 10:47:11	⤷	mailto:g.legall@gmail.com (g.legall@gmail.com)
2016-02-08 10:34:06	⤷	Donc on part sur un champ nomme additionnal properties?
2016-02-08 10:34:12	gstoffer	non
2016-02-08 10:34:24	⤷	on part sur un champ metadata
2016-02-08 10:34:27	sebastien.charret	ok
2016-02-08 10:34:49	gstoffer	on va pas s'emmerder avec un nom à rallonge
2016-02-08 10:34:51	⤷	:smile:
2016-02-08 10:34:58	sebastien.charret	Une idee de quand ca sera mis en prod
2016-02-08 10:35:02	gstoffer	je fais ça après mon point
2016-02-08 10:35:03	sebastien.charret	ou sur inte
2016-02-08 10:35:05	⤷	?
2016-02-08 10:35:08	gstoffer	ce matin
2016-02-08 10:35:08	sebastien.charret	ok
2016-02-08 10:35:14	⤷	merci
2016-02-08 15:54:22	⤷	c'est bon pour le champs? (edited)
2016-04-19 17:57:43	⤷	titi (edited)
2016-04-19 17:57:59	⤷	select schema_definition from channel.structure where id = 2810
2016-04-19 17:58:15	⤷	sebastien.charret uploaded a file: https://lengow.slack.com/files/sebastien.charret/F11UBCZ32/.1.xml.swp (.1.xml)
2016-04-19 18:01:42	gstoffer	Je te confirme que c'est le contenu qui est titanesque et inaffichable, j'ai le même problème que toi
2016-04-19 18:02:04	sebastien.charret	ok
2016-04-19 18:02:28	⤷	donc que ce soit par command ou interface web on ne peut pas l'afficher
2016-04-19 18:03:28	gstoffer	Non il faudrait l'exporter dans un fichier ou utiliser autre chose que less (l'éditeur par défaut utilisé par psql)
2016-04-25 10:04:45	sebastien.charret	https://soundcloud.com/ward-iz/interstellar-theme-ward-iz-remake
2016-04-25 10:04:45		WARD-IZ: Interstellar theme (WARD-IZ REMAKE) extended mix. by WARD-IZ (https://soundcloud.com/ward-iz/interstellar-theme-ward-iz-remake)
2016-04-25 10:04:45		Check out my version of the Interstellar theme , added a bit of drive to it .
2016-04-25 10:04:48	⤷	enjoy
2016-04-25 10:05:25	⤷	https://soundcloud.com/oerin
2016-04-25 10:05:25		Moerin: Moerin (https://soundcloud.com/oerin)
2016-04-25 10:05:41	gstoffer	Top merci :simple_smile:
2016-04-29 18:03:59	sebastien.charret	SELECT f2.* FROM orders_laredoute as f JOIN  orders_laredoute as f2 ON f.tracking_method=f2.tracking_method AND f.tracking_carrier=f2.tracking_carrier WHERE f.idFlux = 100155 AND f2.idFlux != 100155
2016-04-29 18:04:00	⤷	;
2016-07-07 16:42:24	⤷	Mes excuses si je t'ai fait mal c'etait pas le but.
2016-07-07 16:42:42	gstoffer	Je te demande pardon
2016-07-07 16:42:48	⤷	je me suis emporté aussi
2016-07-07 16:42:55	⤷	la douleur
2016-07-07 16:43:01	sebastien.charret	je comprends ta reaction
2016-07-07 16:43:12	⤷	j'aurais fait pareil
2016-07-07 16:43:20	gstoffer	C'était involontaire, j'aurais pas dû
2016-07-07 16:43:29	sebastien.charret	pas grave n
2016-07-07 16:43:29	gstoffer	On est sanguin tous les deux ^^
2016-07-07 16:43:35	sebastien.charret	n'en parlons plus
2016-07-07 16:44:00	gstoffer	C'est oublié pour moi :wink:
2016-07-07 16:44:06	sebastien.charret	idem
2016-07-07 16:44:08	gstoffer	ça va mieux :slightly_smiling_face:
2015-10-15 11:38:22	sebastien.charret	Ok trouver un pattern comme ceci? INSERT INTO lengow_client.client_flux * (nombre arbitraire de mot) set champsCouleur= *(nombre arbitraire de mot)
2015-10-15 11:38:48	gstoffer	faut échapper le = je pense
2015-10-15 11:38:59	⤷	et le .
2015-10-15 11:38:59	sebastien.charret	possible
2015-10-15 11:39:09	⤷	oui c'est vrai (edited)
2015-10-16 16:44:35	⤷	Tu crois qu'il y a moyen de faire plus opti
2015-10-16 16:44:37	⤷	?
2015-10-16 16:44:38	⤷	SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande = "acceptsale" AND (itemstatus = "ACCEPTED" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0" UNION
2015-10-16 16:44:38		SELECT idCommande, dateCommande, itemid, itemstatus from lengow_tracking.API_commande_Priceminister WHERE (etatCommande IN ("new", "accept") AND (date < "2015-09-10" OR itemstatus = "CANCELLED")) AND idClient="5201" AND idFlux="105905" AND itemid <> "0";
2015-10-16 16:44:38		SELECT * from lengow_tracking.API_commande_Priceminister WHERE etatCommande in ("new", "accept", "acceptsale") AND idClient="5201" AND idFlux="105905" AND itemid<>"0"  AND ( date < "2015-09-10" OR itemstatus = "CANCELLED" );
2015-10-16 16:48:18	gstoffer	ça me paraît bien
2015-10-16 16:48:27	sebastien.charret	merci maman
2015-10-16 16:48:40	gstoffer	de rien mon chéri
2015-10-21 17:51:35	sebastien.charret	Coucou (edited)
2015-10-21 17:51:45	⤷	le champs
2015-10-21 17:51:52	⤷	updated_at
2015-10-21 17:52:05	⤷	de order_marketpace_line
2015-10-21 17:52:37	⤷	as tu creer un procedure pour effectuer sa mise a jour lors de son insertion?
2015-10-21 17:53:06	gstoffer	il se peut que non ^^
2015-10-21 17:53:22	sebastien.charret	mais tu devais le faire? ^^ (edited)
2015-10-21 17:53:50	⤷	car sur order_marketplace ca a l'air d'etre le cas
2015-10-21 17:53:54	⤷	ou alors je fabule
2015-10-21 17:54:12	gstoffer	oui c'est faisable :simple_smile:
2015-10-22 11:18:23	sebastien.charret	Coucou
2015-10-22 11:18:33	gstoffer	Hello
2015-10-22 11:18:49	sebastien.charret	db common table country
2015-10-22 11:19:02	⤷	tu sais comment ont ete genere les donnees? (edited)
2015-10-22 11:19:19	⤷	me manque une occurence
2015-10-22 11:19:21	⤷	FX
2015-10-22 11:19:37	⤷	si ca a etait fait a la main je la rajoute
2015-10-22 11:19:49	gstoffer	Non ça n'a pas été fait à la main
2015-10-22 11:19:54	⤷	c'est quoi ce FX
2015-10-22 11:19:56	sebastien.charret	sinon faut comprendre why it is not in there? (edited)
2015-10-22 11:20:44	⤷	fx    France (European Territory)
2015-10-22 11:20:56	gstoffer	C'est obligatoire ?
2015-10-22 11:21:04	sebastien.charret	ben j'ai un client
2015-10-22 11:21:11	⤷	qui l'a renseigne
2015-10-22 11:21:21	⤷	sur une commande price
2015-10-22 11:21:24	gstoffer	Parce que ça ne fait pas partie de la norme ISO-3166-1
2015-10-22 11:21:42	sebastien.charret	Ok je regarde la norme price
2015-10-22 11:21:57	gstoffer	Il est chiant ce client !
2015-10-22 11:22:06	⤷	Il est sur une norme européenne
2015-10-22 11:22:10	sebastien.charret	c'est la MKtp surtout
2015-10-22 11:22:30	gstoffer	Nous on est sur une ISO internationale
2015-10-22 11:24:19	sebastien.charret	Je n'ai rien la dessus
2015-10-22 11:24:25	⤷	(doc)
2015-10-22 11:24:47	gstoffer	wikipedia l'explique très bien
2015-10-22 11:24:56	sebastien.charret	Oui je te crois
2015-10-22 11:25:03	gstoffer	France, Metropolitan    FX, FXX, 249    1993–1997    FXFR    Merged into France (FR, FRA, 250)
2015-10-22 11:25:10	⤷	C'est même périmé
2015-10-22 11:25:14	sebastien.charret	mais je fais quoi avec mon FX? (edited)
2015-10-22 11:25:30	gstoffer	la période de validité se termine en 97
2015-10-22 11:26:05	sebastien.charret	bien alors lol
2015-10-22 11:26:20	⤷	Copyright (c) 1997-2012 Rakuten, Inc. All Rights Reserved.
2015-10-22 11:26:31	⤷	sur le site priceminister
2015-10-22 11:26:52	gstoffer	Ben ils utilisent des normes périmées
2015-10-22 11:26:55	sebastien.charret	soit on trouve une solution
2015-10-22 11:27:07	⤷	soit je dis a RAKUTEN de changer leur norme
2015-10-22 11:27:26	⤷	pour le deuxieme je veux te nommer dans le mail
2015-10-22 11:27:41	gstoffer	ouais dis à Rakuten de changer sa norme moisie
2015-10-22 11:28:06	sebastien.charret	cf l'allocution de Mr Stoffer sur l'utilisation de la norme de Priceminister:
2015-10-22 11:28:10	⤷	'Nah!'
2015-10-22 11:28:27	⤷	Avec ca ils vont pas me le refuser (edited)
2015-10-22 11:28:27	gstoffer	Bah je privilégie un standard plutôt qu'une marketplace
2015-10-22 11:28:59	⤷	Franchement s'ils font de la merde, ce n'est pas à nous de la gober
2015-10-22 11:29:26	⤷	Cela dit, en attendant on peut très bien appliquer le standard en transformant FX en FR
2015-10-22 11:29:28	sebastien.charret	Je vais leur faire part de ton ressentiment
2015-10-22 11:29:43	gstoffer	Je suis sûr qu'ils seront ravis :simple_smile: (edited)
2015-10-22 11:29:50	sebastien.charret	Oui je vais patcher
2015-10-22 11:30:01	⤷	ca va etre beau!
2015-10-22 11:31:23	gstoffer	On va quand même pas aliéner un standard et baiser notre table pour leur beaux yeux ?
2015-10-22 11:31:34	sebastien.charret	amen
2015-10-26 09:48:04	gstoffer	Tu peux venir stp ? :simple_smile:
2015-10-26 10:02:37	sebastien.charret	Tu aurais encore le lien qui atteste que FX est déprécié stp?
2015-10-27 11:44:24	⤷	Coucou
2015-10-27 11:44:32	⤷	Tu as pus faire la procedure?
2015-10-27 11:44:54	gstoffer	C'est en cours :wink:
2015-10-27 11:45:03	sebastien.charret	ok merci :simple_smile:
2015-10-28 16:58:35	⤷	http://www.datanamic.com/schema-change-notifier/
2015-10-28 16:58:53	⤷	http://www.postgresql.org/docs/9.1/static/sql-notify.html
2015-10-28 16:58:56	⤷	bisous
2015-10-28 17:02:16	gstoffer	Je vais potasser la doc, datanamic est payant
2015-10-28 17:02:24	sebastien.charret	arf
2015-10-28 17:02:43	⤷	il doit exister une alternative open source
2015-11-09 09:42:49	⤷	Hello
2015-11-09 09:43:07	⤷	je reviens vers toi pour la creation de BDD test
2015-11-09 09:44:01	gstoffer	Tout à fait :simple_smile:
2015-11-09 09:44:19	sebastien.charret	:simple_smile:
2015-11-09 11:46:48	⤷	http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema
2015-11-09 11:46:48		Django and postgresql testing schema (http://stackoverflow.com/questions/31346655/django-and-postgresql-testing-schema)
2015-11-09 11:46:48		I'm using PostgreSQL 9.3 and Django 1.7.4 with psycopg2 2.5.4 The DBA, asked us to create a schema for our application instead of using public. We defined the schema, and we had to add the 'OPT...
2015-11-09 11:46:51	⤷	voila le lien
2015-11-09 11:47:48	gstoffer	C'est tout à fait ça
2015-11-09 11:48:01	⤷	Seulement, il n'y a pas de solutions.
2015-11-09 11:48:27	sebastien.charret	en relisant attentivement on vas que pour lui c'est un cas particulier
2015-11-09 11:48:35	⤷	que ca fonctionne avec public
2015-11-09 11:48:47	gstoffer	A partir du modèle, postgresql est incapable de déterminer dans quel schéma doivent être créées les tables
2015-11-09 11:48:57	sebastien.charret	mais que lui veut changer le nom du schema
2015-11-09 11:49:09	gstoffer	De toute façon ça ne peut pas marcher
2015-11-09 11:49:32	⤷	il va te manquer tout ce que l'ORM ne voit pas dans postgresql
2015-11-09 11:50:21	⤷	CUSTOM TYPE, INHERITANCE, TRIGGER, etc
2015-11-09 11:50:35	sebastien.charret	arf
2015-11-09 11:51:02	gstoffer	Tu dois tester sur une base déjà déployé
2015-11-09 11:51:25	⤷	Dans ce contexte, il te faut déporter la création de la BDD en dehors de Django
2015-11-09 11:52:04	sebastien.charret	Je ne vois pas comment faire puisque les tests sont lance pas une commande django
2015-11-09 11:52:33	gstoffer	django devrait permettre de désigner une BDD existante
2015-11-09 11:53:06	sebastien.charret	oui dans les settings
2015-11-09 11:53:26	⤷	nous avons mapper les BDD
2015-11-09 11:53:38	⤷	je ne pense pas que ce soit ce que tu veux dire
2015-11-09 11:53:52	gstoffer	je parle pour l'exécution des tests
2015-11-10 10:03:27	sebastien.charret	tu peux venir stp
2015-11-10 10:03:33	⤷	je vais devenir fou
2015-11-12 15:54:44	⤷	Coucou
2015-11-12 15:54:54	gstoffer	Hello
2015-11-12 15:55:11	sebastien.charret	Pourquoi sur les tables avec des relations fk il n'a pas de ON DELETE CASCADE?
2015-11-12 15:55:46	⤷	DELETE FROM "structure"
2015-11-12 15:55:46		WHERE "name" LIKE '%Priceminister%' AND (("id" = '1140') OR ("id" = '1141') OR ("id" = '1142') OR ("id" = '1143') OR ("id" = '1147') OR ("id" = '1086') OR ("id" = '1144') OR ("id" = '1145') OR ("id" = '1088') OR ("id" = '1146') OR ("id" = '1089') OR ("id" = '1090') OR ("id" = '1091') OR ("id" = '1092') OR ("id" = '1093') OR ("id" = '1094') OR ("id" = '1095') OR ("id" = '1096') OR ("id" = '1097') OR ("id" = '1098') OR ("id" = '1099') OR ("id" = '1100') OR ("id" = '1101') OR ("id" = '1102') OR ("id" = '1103') OR ("id" = '1104') OR ("id" = '1105') OR ("id" = '1106') OR ("id" = '1107') OR ("id" = '1108') OR ("id" = '1109') OR ("id" = '1110') OR ("id" = '1111') OR ("id" = '1112') OR ("id" = '1113') OR ("id" = '1114') OR ("id" = '1115') OR ("id" = '1116') OR ("id" = '1117') OR ("id" = '1118') OR ("id" = '1119') OR ("id" = '1120') OR ("id" = '1121') OR ("id" = '1122') OR ("id" = '1123') OR ("id" = '1124') OR ("id" = '1125') OR ("id" = '1126') OR ("id" = '1127') OR ("id" = '1128') OR ("id" = '1129') OR ("id" = '1130') OR ("id" = '1131') OR ("id" = '1132') OR ("id" = '1133') OR ("id" = '1191') OR ("id" = '1134') OR ("id" = '1135') OR ("id" = '1136') OR ("id" = '1137') OR ("id" = '1138') OR ("id" = '1139') OR ("id" = '1148') OR ("id" = '1149') OR ("id" = '1150') OR ("id" = '1151') OR ("id" = '1152') OR ("id" = '1153') OR ("id" = '1154') OR ("id" = '1155') OR ("id" = '1156') OR ("id" = '1157') OR ("id" = '1158') OR ("id" = '1159') OR ("id" = '1160') OR ("id" = '1161') OR ("id" = '1162') OR ("id" = '1163') OR ("id" = '1164') OR ("id" = '1165') OR ("id" = '1166') OR ("id" = '1167') OR ("id" = '1168') OR ("id" = '1169') OR ("id" = '1170') OR ("id" = '1171') OR ("id" = '1172') OR ("id" = '1173') OR ("id" = '1174') OR ("id" = '1175') OR ("id" = '1181') OR ("id" = '1176') OR ("id" = '1177') OR ("id" = '1178') OR ("id" = '1179') OR ("id" = '1180') OR ("id" = '1182') OR ("id" = '1183') OR ("id" = '1184') OR ("id" = '1185') OR ("id" = '1190') OR ("id" = '1186') OR ("id" = '1187') OR ("id" = '1188') OR ("id" = '1189') OR ("id" = '1192') OR ("id" = '1193') OR ("id" = '1194') OR ("id" = '1195') OR ("id" = '1196') OR ("id" = '1197') OR ("id" = '1198') OR ("id" = '1199') OR ("id" = '1200') OR ("id" = '1210') OR ("id" = '1201') OR ("id" = '1202') OR ("id" = '1203') OR ("id" = '1204') OR ("id" = '1205') OR ("id" = '1206') OR ("id" = '1207') OR ("id" = '1208') OR ("id" = '1209') OR ("id" = '1211') OR ("id" = '1212') OR ("id" = '1213') OR ("id" = '1214') OR ("id" = '1215') OR ("id" = '1216') OR ("id" = '1217') OR ("id" = '1218') OR ("id" = '1219') OR ("id" = '1220') OR ("id" = '1221') OR ("id" = '1222') OR ("id" = '1223') OR ("id" = '1224') OR ("id" = '1225') OR ("id" = '1226') OR ("id" = '1227') OR ("id" = '1228') OR ("id" = '1229') OR ("id" = '1230') OR ("id" = '1231') OR ("id" = '1232')) ;
2015-11-12 15:55:55	⤷	Erreur dans la requête: ERREUR: UPDATE ou DELETE sur la table « structure » viole la contrainte de clé étrangère
2015-11-12 15:55:55		« catalog_structure_mapping_channel_structure_id_fkey » de la table « structure_mapping »
2015-11-12 15:55:55		DETAIL: La clé (id)=(1140) est toujours référencée à partir de la table « structure_mapping
2015-11-12 15:56:07	gstoffer	Parce que ce n'est pas forcément le comportement que l'on souhaite par défaut
2015-11-12 15:56:40	sebastien.charret	On va se retrouver avec des clef qui ne pointe vers rien dans le cas ou force le delete
2015-11-12 15:57:02	⤷	ou alors il y un moyen simple que je ne connais pas
2015-11-12 15:57:54	gstoffer	En gros, tu tentes de supprimer un diffuseur pour lequel des marchands ont un ou plusieurs flux branchés dessus.
2015-11-12 15:57:54		En production, par exemple, ce n'est pas très propre comme action :simple_smile:
2015-11-12 15:58:51	sebastien.charret	Si tu parles de diffuseurs en tant que structure oui
2015-11-12 15:59:06	⤷	mais pourtant mon approche est concrete
2015-11-12 15:59:30	⤷	je souhaite suppimer mes structures et les leurs references etrangeres
2015-11-12 15:59:31	gstoffer	Oui tu vas conrètement mettre des marchands dans le caca
2015-11-12 16:00:06	sebastien.charret	oui il n'auront plus de reference sur les structures (edited)
2015-11-12 16:00:16	gstoffer	Ce n'est pas bien
2015-11-12 16:00:33	sebastien.charret	Comment agir pour la suppression donc?
2015-11-12 16:00:39	⤷	update??
2015-11-12 16:01:07	gstoffer	Sans doute d'innocentes personnes qui font des tests, se retrouveront avec des erreurs sans savoir d'où ça vient, c'est plutôt sauvage :simple_smile:
2015-11-12 16:01:25	sebastien.charret	Ok je comprends (edited)
2015-11-12 16:01:44	⤷	Mais ma question est comment dois je proceder?
2015-11-12 16:02:05	⤷	je suis donc oblige de passer par un update des données
2015-11-12 16:02:36	⤷	mais a l'heure actuelle le nombre de structure ne correspond pas a la realite
2015-11-12 16:02:47	gstoffer	Tu t'assures que tous les flux branchés sur cette structure ne soient pas utilisés
2015-11-12 16:03:23	sebastien.charret	146...
2015-11-13 09:01:52	⤷	Ce merveilleux Guillaume!!!
2015-11-13 09:02:12	⤷	Tu sais ou est passe la Table Structure Converter?
2015-11-13 09:04:32	gstoffer	Supprimé à la demande de ton boss
2015-11-13 09:04:40	sebastien.charret	Mon boss?
2015-11-13 09:04:53	gstoffer	Thomas
2015-11-13 09:04:58	sebastien.charret	Je suis mon propre maitre :sunglasses:
2015-11-13 09:05:04	gstoffer	XD
2015-11-13 09:05:07	sebastien.charret	ok
2015-11-13 09:05:39	gstoffer	Il avait peur de finir à la rue, parce qu'on on en faisait trop
2015-11-13 09:05:59	⤷	du coup on a coupé net la partie conversion
2015-11-13 09:06:05	sebastien.charret	Elle faiseait quoi?
2015-11-13 09:06:31	gstoffer	ça permettait de convertir un flux dans n'importe quel format diffuseur
2015-11-13 09:06:56	⤷	En gros avec une api on maitrisait la chaine de bout en bout
2015-11-16 11:11:50	sebastien.charret	Select v.label from Field f natural join FieldValue fv
2015-11-16 11:11:50		natural join Value v
2015-11-16 11:11:50		Where idMirakl = '55'
2015-11-16 11:12:07	⤷	-- Select v.label from Field f natural join FieldValue fv
2015-11-16 11:12:07		-- Where idMirakl = '55' AND f.label = 'Couleur' AND fv.idValue IN (Select idValue From Value) as v;
2015-11-16 11:24:56	⤷	http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join
2015-11-16 11:24:56		Difference between natural join and inner join (http://stackoverflow.com/questions/8696383/difference-between-natural-join-and-inner-join)
2015-11-16 11:24:56		What is difference between join and natural join please can any one post hear
2015-11-16 11:25:14	⤷	la difference ne se fait que sur le nombre de colonnes retourrnees
2015-11-16 11:25:28	⤷	:confused:
2015-11-16 11:25:51	⤷	je ne vois pas l'impact que cela aurait pu avoir
2015-11-16 11:44:37	⤷	Coucou
2015-11-16 11:44:53	⤷	Reussis tu a rexecuter la requete?
2015-11-16 11:45:06	⤷	Select v.label from Field f inner join FieldValue fv
2015-11-16 11:45:06		inner join Value v
2015-11-16 11:45:06		Where idMirakl = '55' AND f.label = 'Couleur'
2015-11-16 11:45:19	⤷	ok
2015-11-16 11:45:21	⤷	...
2015-11-16 11:45:30	⤷	je viens de voir mon erreur
2015-11-16 11:45:39	⤷	je n'ai rien dit...
2016-01-04 10:47:11	⤷	mailto:g.legall@gmail.com (g.legall@gmail.com)
2016-02-08 10:34:06	⤷	Donc on part sur un champ nomme additionnal properties?
2016-02-08 10:34:12	gstoffer	non
2016-02-08 10:34:24	⤷	on part sur un champ metadata
2016-02-08 10:34:27	sebastien.charret	ok
2016-02-08 10:34:49	gstoffer	on va pas s'emmerder avec un nom à rallonge
2016-02-08 10:34:51	⤷	:smile:
2016-02-08 10:34:58	sebastien.charret	Une idee de quand ca sera mis en prod
2016-02-08 10:35:02	gstoffer	je fais ça après mon point
2016-02-08 10:35:03	sebastien.charret	ou sur inte
2016-02-08 10:35:05	⤷	?
2016-02-08 10:35:08	gstoffer	ce matin
2016-02-08 10:35:08	sebastien.charret	ok
2016-02-08 10:35:14	⤷	merci
2016-02-08 15:54:22	⤷	c'est bon pour le champs? (edited)
2016-04-19 17:57:43	⤷	titi (edited)
2016-04-19 17:57:59	⤷	select schema_definition from channel.structure where id = 2810
2016-04-19 17:58:15	⤷	sebastien.charret uploaded a file: https://lengow.slack.com/files/sebastien.charret/F11UBCZ32/.1.xml.swp (.1.xml)
2016-04-19 18:01:42	gstoffer	Je te confirme que c'est le contenu qui est titanesque et inaffichable, j'ai le même problème que toi
2016-04-19 18:02:04	sebastien.charret	ok
2016-04-19 18:02:28	⤷	donc que ce soit par command ou interface web on ne peut pas l'afficher
2016-04-19 18:03:28	gstoffer	Non il faudrait l'exporter dans un fichier ou utiliser autre chose que less (l'éditeur par défaut utilisé par psql)
2016-04-25 10:04:45	sebastien.charret	https://soundcloud.com/ward-iz/interstellar-theme-ward-iz-remake
2016-04-25 10:04:45		WARD-IZ: Interstellar theme (WARD-IZ REMAKE) extended mix. by WARD-IZ (https://soundcloud.com/ward-iz/interstellar-theme-ward-iz-remake)
2016-04-25 10:04:45		Check out my version of the Interstellar theme , added a bit of drive to it .
2016-04-25 10:04:48	⤷	enjoy
2016-04-25 10:05:25	⤷	https://soundcloud.com/oerin
2016-04-25 10:05:25		Moerin: Moerin (https://soundcloud.com/oerin)
2016-04-25 10:05:41	gstoffer	Top merci :simple_smile:
2016-04-29 18:03:59	sebastien.charret	SELECT f2.* FROM orders_laredoute as f JOIN  orders_laredoute as f2 ON f.tracking_method=f2.tracking_method AND f.tracking_carrier=f2.tracking_carrier WHERE f.idFlux = 100155 AND f2.idFlux != 100155
2016-04-29 18:04:00	⤷	;
2016-07-07 16:42:24	⤷	Mes excuses si je t'ai fait mal c'etait pas le but.
2016-07-07 16:42:42	gstoffer	Je te demande pardon
2016-07-07 16:42:48	⤷	je me suis emporté aussi
2016-07-07 16:42:55	⤷	la douleur
2016-07-07 16:43:01	sebastien.charret	je comprends ta reaction
2016-07-07 16:43:12	⤷	j'aurais fait pareil
2016-07-07 16:43:20	gstoffer	C'était involontaire, j'aurais pas dû
2016-07-07 16:43:29	sebastien.charret	pas grave n
2016-07-07 16:43:29	gstoffer	On est sanguin tous les deux ^^
2016-07-07 16:43:35	sebastien.charret	n'en parlons plus
2016-07-07 16:44:00	gstoffer	C'est oublié pour moi :wink:
2016-07-07 16:44:06	sebastien.charret	idem
2016-07-07 16:44:08	gstoffer	ça va mieux :slightly_smiling_face:
2016-09-14 16:55:20	⤷	WITH RECURSIVE account_customer AS (
2016-09-14 16:55:20		               SELECT a.id AS account_id,
2016-09-14 16:55:20		                      a.parent_id,
2016-09-14 16:55:20		                      c.id AS customer_id,
2016-09-14 16:55:20		                      c.enabled
2016-09-14 16:55:20		                 FROM common.account a
2016-09-14 16:55:20		                 LEFT JOIN billing.customer c
2016-09-14 16:55:20		                      ON a.id = c.common_account_id
2016-09-14 16:55:20		                WHERE a.id = :account
2016-09-14 16:55:20		                UNION
2016-09-14 16:55:20		               SELECT a.id AS account_id,
2016-09-14 16:55:20		                      a.parent_id,
2016-09-14 16:55:20		                      c.id AS customer_id,
2016-09-14 16:55:20		                      c.enabled
2016-09-14 16:55:20		                 FROM common.account a
2016-09-14 16:55:20		                 JOIN account_customer ac
2016-09-14 16:55:20		                      ON ac.parent_id = a.id
2016-09-14 16:55:20		                 LEFT JOIN billing.customer c
2016-09-14 16:55:20		                      ON c.common_account_id = a.id
2016-09-14 16:55:20		            )
2016-09-14 16:55:20		            SELECT account_id, parent_id, customer_id, enabled FROM account_customer
